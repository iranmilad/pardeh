import{$ as $$4,c as commonjsGlobal,g as getDefaultExportFromCjs,j as jqueryExports}from"./jquery-D4JSgyTa.js";import{K as KTBlockUI,M as Modal}from"./bootstrap.esm-Bl6e3tfl.js";const iranData=[{name:"آذربايجان شرقی",cities:[{name:"تبريز",latitude:"38.50",longitude:"46.180"},{name:"مراغه",latitude:"37.2335",longitude:"46.1439"},{name:"ميانه",latitude:"37.230",longitude:"47.450"},{name:"شبستر",latitude:"38.1048",longitude:"45.429"},{name:"مرند",latitude:"38.260",longitude:"45.470"},{name:"جلفا",latitude:"38.5622",longitude:"45.3732"},{name:"سراب",latitude:"37.5629",longitude:"47.3210"},{name:"هاديشهر",latitude:"38.510",longitude:"45.400"},{name:"بناب",latitude:"38.260",longitude:"45.550"},{name:"تسوج",latitude:"38.1854",longitude:"45.2136"},{name:"اهر",latitude:"38.2839",longitude:"47.412"},{name:"هريس",latitude:"38.1445",longitude:"47.659"},{name:"هشترود",latitude:"37.2849",longitude:"47.257"},{name:"ملكان",latitude:"37.839",longitude:"46.612"},{name:"بستان آباد",latitude:"37.5044",longitude:"46.4951"},{name:"ورزقان",latitude:"38.3048",longitude:"46.3931"},{name:"اسكو",latitude:"37.5458",longitude:"46.724"},{name:"ممقان",latitude:"37.5045",longitude:"45.5819"},{name:"صوفیان",latitude:"45.98",longitude:"38.276"},{name:"ایلخچی",latitude:"45.98",longitude:"37.939"},{name:"خسروشهر",latitude:"46.051",longitude:"37.951"},{name:"باسمنج",latitude:"46.492",longitude:"37.984"},{name:"سهند",latitude:"37.5640",longitude:"46.74"}]},{name:"آذربايجان غربی",cities:[{name:"اروميه",latitude:"37.320",longitude:"45.40"},{name:"نقده",latitude:"36.5719",longitude:"45.2332"},{name:"ماكو",latitude:"39.1734",longitude:"44.3040"},{name:"تكاب",latitude:"36.2353",longitude:"47.76"},{name:"خوي",latitude:"38.330",longitude:"44.570"},{name:"مهاباد",latitude:"36.450",longitude:"45.430"},{name:"سر دشت",latitude:"30.200",longitude:"50.130"},{name:"چالدران",latitude:"39.358",longitude:"44.2312"},{name:"بوكان",latitude:"36.3115",longitude:"46.1226"},{name:"مياندوآب",latitude:"36.586",longitude:"46.612"},{name:"سلماس",latitude:"38.120",longitude:"44.460"},{name:"شاهين دژ",latitude:"36.400",longitude:"46.340"},{name:"پيرانشهر",latitude:"36.4146",longitude:"45.831"},{name:"اشنويه",latitude:"37.30",longitude:"45.70"},{name:"پلدشت",latitude:"39.2026",longitude:"45.357"}]},{name:"اردبيل",cities:[{name:"اردبيل",latitude:"38.140",longitude:"48.170"},{name:"پارس آباد",latitude:"39.3827",longitude:"47.5423"},{name:"خلخال",latitude:"37.3732",longitude:"48.3124"},{name:"مشگين شهر",latitude:"38.240",longitude:"47.390"},{name:"نمين",latitude:"38.250",longitude:"48.290"},{name:"نير",latitude:"37.159",longitude:"47.5954"},{name:"گرمي",latitude:"39.116",longitude:"48.449"}]},{name:"اصفهان",cities:[{name:"اصفهان",latitude:"32.390",longitude:"51.400"},{name:"فلاورجان",latitude:"32.3332",longitude:"51.3037"},{name:"گلپايگان",latitude:"33.270",longitude:"50.170"},{name:"دهاقان",latitude:"31.560",longitude:"51.390"},{name:"نطنز",latitude:"33.3049",longitude:"51.5455"},{name:"تيران",latitude:"32.420",longitude:"51.90"},{name:"كاشان",latitude:"33.590",longitude:"51.350"},{name:"اردستان",latitude:"33.2228",longitude:"52.2157"},{name:"سميرم",latitude:"31.250",longitude:"51.340"},{name:"درچه",latitude:"32.3647",longitude:"51.3311"},{name:"کوهپایه",latitude:"32.436",longitude:"52.2618"},{name:"مباركه",latitude:"29.540",longitude:"54.270"},{name:"شهرضا",latitude:"31.5952",longitude:"51.5129"},{name:"خميني شهر",latitude:"32.410",longitude:"51.320"},{name:"نجف آباد",latitude:"32.380",longitude:"51.230"},{name:"زرين شهر",latitude:"32.2346",longitude:"51.2248"},{name:"آران و بيدگل",latitude:"34.338",longitude:"51.2847"},{name:"باغ بهادران",latitude:"51.19",longitude:"32.376"},{name:"خوانسار",latitude:"33.130",longitude:"50.190"},{name:"علويجه",latitude:"33.321",longitude:"51.51"},{name:"عسگران",latitude:"32.520",longitude:"50.510"},{name:"حاجي آباد",latitude:"33.3622",longitude:"59.5957"},{name:"تودشک",latitude:"32.4339",longitude:"52.388"},{name:"ورزنه",latitude:"32.2458",longitude:"52.3813"}]},{name:"ايلام",cities:[{name:"ايلام",latitude:"33.380",longitude:"46.250"},{name:"مهران",latitude:"33.70",longitude:"46.100"},{name:"دهلران",latitude:"32.410",longitude:"47.160"},{name:"آبدانان",latitude:"32.5930",longitude:"47.2512"},{name:"دره شهر",latitude:"33.823",longitude:"47.2233"},{name:"ايوان",latitude:"33.502",longitude:"46.1833"},{name:"سرابله",latitude:"33.4611",longitude:"46.3332"}]},{name:"بوشهر",cities:[{name:"بوشهر",latitude:"28.590",longitude:"50.500"},{name:"دير",latitude:"27.510",longitude:"51.590"},{name:"كنگان",latitude:"27.500",longitude:"52.40"},{name:"گناوه",latitude:"29.340",longitude:"50.310"},{name:"خورموج",latitude:"51.38",longitude:"28.655"},{name:"اهرم",latitude:"28.530",longitude:"51.160"},{name:"برازجان",latitude:"29.160",longitude:"51.120"},{name:"جم",latitude:"27.490",longitude:"52.200"},{name:"کاکی",latitude:"28.200",longitude:"51.310"},{name:"عسلویه",latitude:"27.2835",longitude:"52.3650"}]},{name:"تهران",cities:[{name:"تهران",latitude:"35.410",longitude:"51.240"},{name:"ورامين",latitude:"35.200",longitude:"51.380"},{name:"فيروزكوه",latitude:"35.450",longitude:"52.460"},{name:"ري",latitude:"35.358",longitude:"51.269"},{name:"دماوند",latitude:"35.430",longitude:"52.40"},{name:"اسلامشهر",latitude:"51.232",longitude:"35.552"},{name:"رودهن",latitude:"35.4412",longitude:"51.5441"},{name:"لواسان",latitude:"51.783",longitude:"35.825"},{name:"بومهن",latitude:"35.4347",longitude:"51.5143"},{name:"تجريش",latitude:"35.4816",longitude:"51.2532"},{name:"فشم",latitude:"51.526",longitude:"35.931"},{name:"كهريزك",latitude:"35.3103",longitude:"51.2135"},{name:"پاكدشت",latitude:"35.2854",longitude:"51.4049"},{name:"چهاردانگه",latitude:"51.309",longitude:"35.604"},{name:"شريف آباد",latitude:"35.2539",longitude:"51.4707"},{name:"قرچك",latitude:"35.2610",longitude:"51.3420"},{name:"باقرشهر",latitude:"35.3157",longitude:"51.2409"},{name:"شهريار",latitude:"35.3927",longitude:"51.335"},{name:"رباط كريم",latitude:"35.2843",longitude:"51.449"},{name:"قدس",latitude:"35.4317",longitude:"51.632"},{name:"ملارد",latitude:"35.3927",longitude:"50.5835"}]},{name:"چهارمحال بختیاری",cities:[{name:"شهركرد",latitude:"32.190",longitude:"50.510"},{name:"فارسان",latitude:"32.1527",longitude:"50.3341"},{name:"بروجن",latitude:"31.580",longitude:"51.170"},{name:"چلگرد",latitude:"50.138",longitude:"32.462"},{name:"اردل",latitude:"31.5958",longitude:"50.3935"},{name:"لردگان",latitude:"31.310",longitude:"50.500"}]},{name:"خراسان جنوبی",cities:[{name:"قائن",latitude:"33.430",longitude:"59.60"},{name:"فردوس",latitude:"34.00",longitude:"58.90"},{name:"بيرجند",latitude:"32.5216",longitude:"59.1315"},{name:"نهبندان",latitude:"31.320",longitude:"60.20"},{name:"سربيشه",latitude:"32.3432",longitude:"59.4755"}]},{name:"خراسان رضوی",cities:[{name:"مشهد",latitude:"36.170",longitude:"59.350"},{name:"نيشابور",latitude:"36.130",longitude:"58.490"},{name:"سبزوار",latitude:"36.130",longitude:"57.400"},{name:"كاشمر",latitude:"35.144",longitude:"58.2738"},{name:"گناباد",latitude:"34.2141",longitude:"58.4157"},{name:"طبس",latitude:"33.370",longitude:"56.540"},{name:"تربت حيدريه",latitude:"35.1627",longitude:"59.139"},{name:"خواف",latitude:"34.320",longitude:"60.50"},{name:"تربت جام",latitude:"35.160",longitude:"60.360"},{name:"تايباد",latitude:"34.440",longitude:"60.470"},{name:"قوچان",latitude:"37.40",longitude:"58.320"},{name:"سرخس",latitude:"36.320",longitude:"61.100"},{name:"فريمان",latitude:"35.460",longitude:"59.490"},{name:"چناران",latitude:"59.121",longitude:"36.642"},{name:"درگز",latitude:"37.2640",longitude:"59.628"},{name:"طرقبه",latitude:"36.1837",longitude:"59.2225"}]},{name:"خراسان شمالی",cities:[{name:"بجنورد",latitude:"37.2835",longitude:"57.1954"},{name:"اسفراين",latitude:"37.436",longitude:"57.3035"},{name:"جاجرم",latitude:"36.573",longitude:"56.2244"},{name:"شيروان",latitude:"33.340",longitude:"46.520"},{name:"آشخانه",latitude:"37.3352",longitude:"56.556"}]},{name:"خوزستان",cities:[{name:"اهواز",latitude:"31.190",longitude:"48.410"},{name:"ايرانشهر",latitude:"27.150",longitude:"60.410"},{name:"شوش",latitude:"32.120",longitude:"48.150"},{name:"آبادان",latitude:"30.2024",longitude:"48.1814"},{name:"خرمشهر",latitude:"30.2539",longitude:"48.118"},{name:"مسجد سليمان",latitude:"31.590",longitude:"49.180"},{name:"ايذه",latitude:"31.500",longitude:"49.520"},{name:"شوشتر",latitude:"32.30",longitude:"48.510"},{name:"انديمشك",latitude:"32.270",longitude:"48.200"},{name:"سوسنگرد",latitude:"31.400",longitude:"48.60"},{name:"هويزه",latitude:"31.2740",longitude:"48.428"},{name:"دزفول",latitude:"32.2255",longitude:"48.2411"},{name:"شادگان",latitude:"30.390",longitude:"48.400"},{name:"بندر ماهشهر",latitude:"30.340",longitude:"49.100"},{name:"بندر امام خميني",latitude:"30.250",longitude:"49.20"},{name:"بهبهان",latitude:"30.360",longitude:"50.150"},{name:"رامهرمز",latitude:"31.170",longitude:"49.360"},{name:"باغ ملك",latitude:"31.310",longitude:"49.530"},{name:"هنديجان",latitude:"30.140",longitude:"49.430"},{name:"لالي",latitude:"32.1947",longitude:"49.538"},{name:"رامشیر",latitude:"30.5335",longitude:"49.2425"},{name:"حمیدیه",latitude:"31.290",longitude:"48.260"},{name:"ملاثانی",latitude:"31.356",longitude:"48.5310"},{name:"شادگان",latitude:"30.390",longitude:"48.400"}]},{name:"زنجان",cities:[{name:"زنجان",latitude:"36.400",longitude:"48.290"},{name:"ابهر",latitude:"36.80",longitude:"49.130"},{name:"خدابنده",latitude:"36.00",longitude:"48.30"},{name:"ماهنشان",latitude:"36.4440",longitude:"47.4022"},{name:"خرمدره",latitude:"36.1240",longitude:"49.1147"},{name:"آب بر",latitude:"36.550",longitude:"48.580"},{name:"قيدار",latitude:"36.717",longitude:"48.3528"}]},{name:"سمنان",cities:[{name:"سمنان",latitude:"35.340",longitude:"53.230"},{name:"شاهرود",latitude:"36.250",longitude:"55.00"},{name:"گرمسار",latitude:"35.150",longitude:"52.200"},{name:"ايوانكي",latitude:"35.210",longitude:"52.40"},{name:"دامغان",latitude:"36.90",longitude:"54.220"},{name:"بسطام",latitude:"36.293",longitude:"54.5956"}]},{name:"سيستان و بلوچستان",cities:[{name:"زاهدان",latitude:"29.320",longitude:"60.540"},{name:"چابهار",latitude:"60.634",longitude:"25.296"},{name:"خاش",latitude:"28.130",longitude:"61.130"},{name:"سراوان",latitude:"27.2214",longitude:"62.203"},{name:"زابل",latitude:"31.00",longitude:"61.320"},{name:"سرباز",latitude:"26.400",longitude:"61.200"},{name:"ايرانشهر",latitude:"27.150",longitude:"60.410"},{name:"ميرجاوه",latitude:"29.10",longitude:"61.300"}]},{name:"فارس",cities:[{name:"شيراز",latitude:"29.360",longitude:"52.310"},{name:"اقليد",latitude:"30.530",longitude:"52.410"},{name:"داراب",latitude:"28.450",longitude:"54.330"},{name:"فسا",latitude:"28.550",longitude:"53.390"},{name:"مرودشت",latitude:"52.802",longitude:"29.874"},{name:"آباده",latitude:"31.60",longitude:"52.400"},{name:"كازرون",latitude:"29.350",longitude:"51.400"},{name:"سپيدان",latitude:"30.1432",longitude:"51.5938"},{name:"لار",latitude:"27.420",longitude:"54.190"},{name:"فيروز آباد",latitude:"26.170",longitude:"61.250"},{name:"جهرم",latitude:"28.290",longitude:"53.320"},{name:"استهبان",latitude:"29.80",longitude:"54.20"},{name:"لامرد",latitude:"27.300",longitude:"53.200"},{name:"مهر",latitude:"27.330",longitude:"52.530"},{name:"حاجي آباد",latitude:"33.3622",longitude:"59.5957"},{name:"اردكان",latitude:"32.200",longitude:"53.590"},{name:"صفاشهر",latitude:"30.3446",longitude:"53.84"},{name:"ارسنجان",latitude:"29.550",longitude:"53.1743"},{name:"سوريان",latitude:"30.2749",longitude:"53.2648"},{name:"فراشبند",latitude:"28.530",longitude:"52.70"},{name:"سروستان",latitude:"29.160",longitude:"53.130"},{name:"زرقان",latitude:"29.4628",longitude:"52.4329"},{name:"کوار",latitude:"29.1217",longitude:"52.4124"},{name:"بوانات",latitude:"30.2915",longitude:"53.3534"},{name:"خرامه",latitude:"53.321",longitude:"29.501"},{name:"خنج",latitude:"27.530",longitude:"53.260"}]},{name:"قزوين",cities:[{name:"قزوين",latitude:"36.167",longitude:"50.010"},{name:"تاكستان",latitude:"36.20",longitude:"49.400"},{name:"آبيك",latitude:"36.30",longitude:"50.310"},{name:"بوئين زهرا",latitude:"35.466",longitude:"50.331"}]},{name:"قم",cities:[{name:"قم",latitude:"34.380",longitude:"50.530"}]},{name:"کرج",cities:[{name:"طالقان",latitude:"36.100",longitude:"50.445"},{name:"نظرآباد",latitude:"50.608",longitude:"35.956"},{name:"اشتهارد",latitude:"35.430",longitude:"50.220"},{name:"هشتگرد",latitude:"35.5742",longitude:"50.4048"},{name:"كرج",latitude:"35.490",longitude:"50.580"},{name:"ماهدشت",latitude:"50.813",longitude:"35.727"}]},{name:"كردستان",cities:[{name:"سنندج",latitude:"35.180",longitude:"47.10"},{name:"بانه",latitude:"35.590",longitude:"45.540"},{name:"بيجار",latitude:"35.520",longitude:"47.390"},{name:"سقز",latitude:"36.140",longitude:"46.150"},{name:"قروه",latitude:"35.90",longitude:"47.480"},{name:"مريوان",latitude:"35.310",longitude:"46.100"},{name:"صلوات آباد",latitude:"35.160",longitude:"47.70"},{name:"حسن آباد",latitude:"35.222",longitude:"51.1412"}]},{name:"كرمان",cities:[{name:"كرمان",latitude:"30.160",longitude:"57.40"},{name:"راور",latitude:"31.150",longitude:"56.510"},{name:"انار",latitude:"30.550",longitude:"55.150"},{name:"کوهبنان",latitude:"31.250",longitude:"56.170"},{name:"رفسنجان",latitude:"30.250",longitude:"56.00"},{name:"بافت",latitude:"29.120",longitude:"56.360"},{name:"سيرجان",latitude:"29.270",longitude:"55.400"},{name:"كهنوج",latitude:"27.5653",longitude:"57.4155"},{name:"زرند",latitude:"30.500",longitude:"56.350"},{name:"بم",latitude:"29.70",longitude:"58.200"},{name:"جيرفت",latitude:"28.400",longitude:"57.440"},{name:"بردسير",latitude:"29.5541",longitude:"56.3427"}]},{name:"كرمانشاه",cities:[{name:"كرمانشاه",latitude:"34.180",longitude:"47.30"},{name:"اسلام آباد غرب",latitude:"46.528",longitude:"34.111"},{name:"كنگاور",latitude:"34.290",longitude:"47.550"},{name:"سنقر",latitude:"34.470",longitude:"47.360"},{name:"قصر شيرين",latitude:"34.310",longitude:"45.350"},{name:"هرسين",latitude:"34.160",longitude:"47.350"},{name:"صحنه",latitude:"34.290",longitude:"47.410"},{name:"پاوه",latitude:"35.30",longitude:"46.220"},{name:"جوانرود",latitude:"34.4823",longitude:"46.3023"}]},{name:"كهكيلويه و بويراحمد",cities:[{name:"ياسوج",latitude:"30.390",longitude:"51.350"},{name:"گچساران",latitude:"30.2128",longitude:"50.4757"},{name:"دوگنبدان",latitude:"50.792",longitude:"30.357"},{name:"سي سخت",latitude:"30.520",longitude:"51.270"},{name:"دهدشت",latitude:"30.4741",longitude:"50.3352"}]},{name:"گلستان",cities:[{name:"گرگان",latitude:"36.500",longitude:"54.250"},{name:"آق قلا",latitude:"37.10",longitude:"54.2757"},{name:"گنبد كاووس",latitude:"37.150",longitude:"55.100"},{name:"علي آباد كتول",latitude:"36.5429",longitude:"54.5148"},{name:"كردكوی",latitude:"36.4748",longitude:"54.655"},{name:"كلاله",latitude:"37.2251",longitude:"55.2930"},{name:"آزاد شهر",latitude:"37.50",longitude:"55.100"},{name:"راميان",latitude:"37.024",longitude:"55.835"}]},{name:"گيلان",cities:[{name:"رشت",latitude:"37.160",longitude:"49.350"},{name:"منجيل",latitude:"36.440",longitude:"49.250"},{name:"لنگرود",latitude:"37.120",longitude:"50.90"},{name:"تالش",latitude:"37.484",longitude:"48.5428"},{name:"آستارا",latitude:"38.2518",longitude:"48.5221"},{name:"ماسوله",latitude:"48.99",longitude:"37.156"},{name:"رودبار",latitude:"36.4920",longitude:"49.2533"},{name:"فومن",latitude:"37.150",longitude:"49.190"},{name:"صومعه سرا",latitude:"37.180",longitude:"49.180"},{name:"هشتپر",latitude:"48.907",longitude:"37.797"},{name:"ماسال",latitude:"37.2249",longitude:"49.633"},{name:"شفت",latitude:"37.90",longitude:"49.240"},{name:"املش",latitude:"37.520",longitude:"50.1114"},{name:"لاهیجان",latitude:"37.130",longitude:"50.00"}]},{name:"لرستان",cities:[{name:"خرم آباد",latitude:"33.290",longitude:"48.210"},{name:"ماهشهر",latitude:"49.18",longitude:"30.546"},{name:"دزفول",latitude:"32.2255",longitude:"48.2411"},{name:"بروجرد",latitude:"33.550",longitude:"48.480"},{name:"دورود",latitude:"33.2940",longitude:"49.425"},{name:"اليگودرز",latitude:"33.230",longitude:"49.420"},{name:"ازنا",latitude:"33.2713",longitude:"49.279"},{name:"نور آباد",latitude:"47.972",longitude:"34.074"},{name:"كوهدشت",latitude:"33.320",longitude:"47.360"},{name:"الشتر",latitude:"33.522",longitude:"48.1546"}]},{name:"مازندران",cities:[{name:"ساري",latitude:"36.330",longitude:"53.30"},{name:"آمل",latitude:"36.280",longitude:"52.220"},{name:"بابل",latitude:"36.330",longitude:"52.410"},{name:"بابلسر",latitude:"36.420",longitude:"52.390"},{name:"بهشهر",latitude:"36.420",longitude:"53.330"},{name:"تنكابن",latitude:"36.490",longitude:"50.530"},{name:"جويبار",latitude:"36.380",longitude:"52.550"},{name:"چالوس",latitude:"36.390",longitude:"51.250"},{name:"رامسر",latitude:"37.5426",longitude:"50.3944"},{name:"قائم شهر",latitude:"52.859",longitude:"36.466"},{name:"نكا",latitude:"36.390",longitude:"53.180"},{name:"نور",latitude:"36.3410",longitude:"52.049"},{name:"بلده",latitude:"36.120",longitude:"51.490"},{name:"نوشهر",latitude:"36.390",longitude:"51.300"},{name:"محمود آباد",latitude:"52.278",longitude:"36.634"}]},{name:"مرکزی",cities:[{name:"اراك",latitude:"34.50",longitude:"49.410"},{name:"آشتيان",latitude:"34.320",longitude:"50.00"},{name:"تفرش",latitude:"34.4139",longitude:"50.055"},{name:"خمين",latitude:"33.380",longitude:"50.40"},{name:"دليجان",latitude:"33.590",longitude:"50.410"},{name:"ساوه",latitude:"35.117",longitude:"50.2124"},{name:"محلات",latitude:"33.540",longitude:"50.280"},{name:"شازند",latitude:"33.5616",longitude:"49.250"}]},{name:"هرمزگان",cities:[{name:"بندرعباس",latitude:"56.266",longitude:"27.18"},{name:"قشم",latitude:"26.580",longitude:"56.170"},{name:"كيش",latitude:"26.320",longitude:"53.580"},{name:"بندر لنگه",latitude:"26.340",longitude:"54.520"},{name:"بستك",latitude:"27.160",longitude:"54.260"},{name:"حاجي آباد",latitude:"33.3622",longitude:"59.5957"},{name:"دهبارز",latitude:"27.2540",longitude:"57.126"},{name:"ميناب",latitude:"27.70",longitude:"57.60"},{name:"بندر جاسك",latitude:"25.3839",longitude:"57.4624"},{name:"بندر خمیر",latitude:"26.570",longitude:"55.350"},{name:"قشم",latitude:"26.580",longitude:"56.170"}]},{name:"همدان",cities:[{name:"همدان",latitude:"34.470",longitude:"48.300"},{name:"ملاير",latitude:"34.180",longitude:"48.490"},{name:"نهاوند",latitude:"34.130",longitude:"48.210"},{name:"رزن",latitude:"49.033",longitude:"35.39"},{name:"اسدآباد",latitude:"48.123",longitude:"34.783"},{name:"بهار",latitude:"34.5425",longitude:"48.2622"}]},{name:"يزد",cities:[{name:"يزد",latitude:"31.530",longitude:"54.210"},{name:"تفت",latitude:"31.450",longitude:"54.120"},{name:"اردكان",latitude:"32.200",longitude:"53.590"},{name:"ابركوه",latitude:"31.741",longitude:"53.1652"},{name:"ميبد",latitude:"32.140",longitude:"54.10"},{name:"طبس",latitude:"33.370",longitude:"56.540"},{name:"بافق",latitude:"31.360",longitude:"55.240"},{name:"مهريز",latitude:"31.359",longitude:"54.2520"},{name:"اشكذر",latitude:"31.5938",longitude:"54.1220"},{name:"هرات",latitude:"30.40",longitude:"54.220"},{name:"خضرآباد",latitude:"53.953",longitude:"31.866"},{name:"زارچ",latitude:"54.26",longitude:"31.979"}]}];function isObject$7($e){return $e!==null&&typeof $e=="object"&&"constructor"in $e&&$e.constructor===Object}function extend$2($e,_e){$e===void 0&&($e={}),_e===void 0&&(_e={}),Object.keys(_e).forEach(Te=>{typeof $e[Te]>"u"?$e[Te]=_e[Te]:isObject$7(_e[Te])&&isObject$7($e[Te])&&Object.keys(_e[Te]).length>0&&extend$2($e[Te],_e[Te])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const $e=typeof document<"u"?document:{};return extend$2($e,ssrDocument),$e}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame($e){return typeof setTimeout>"u"?($e(),null):setTimeout($e,0)},cancelAnimationFrame($e){typeof setTimeout>"u"||clearTimeout($e)}};function getWindow$1(){const $e=typeof window<"u"?window:{};return extend$2($e,ssrWindow),$e}function classesToTokens($e){return $e===void 0&&($e=""),$e.trim().split(" ").filter(_e=>!!_e.trim())}function deleteProps($e){const _e=$e;Object.keys(_e).forEach(Te=>{try{_e[Te]=null}catch{}try{delete _e[Te]}catch{}})}function nextTick($e,_e){return _e===void 0&&(_e=0),setTimeout($e,_e)}function now$2(){return Date.now()}function getComputedStyle$2($e){const _e=getWindow$1();let Te;return _e.getComputedStyle&&(Te=_e.getComputedStyle($e,null)),!Te&&$e.currentStyle&&(Te=$e.currentStyle),Te||(Te=$e.style),Te}function getTranslate($e,_e){_e===void 0&&(_e="x");const Te=getWindow$1();let Le,Fe,Ae;const Be=getComputedStyle$2($e);return Te.WebKitCSSMatrix?(Fe=Be.transform||Be.webkitTransform,Fe.split(",").length>6&&(Fe=Fe.split(", ").map(Ie=>Ie.replace(",",".")).join(", ")),Ae=new Te.WebKitCSSMatrix(Fe==="none"?"":Fe)):(Ae=Be.MozTransform||Be.OTransform||Be.MsTransform||Be.msTransform||Be.transform||Be.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),Le=Ae.toString().split(",")),_e==="x"&&(Te.WebKitCSSMatrix?Fe=Ae.m41:Le.length===16?Fe=parseFloat(Le[12]):Fe=parseFloat(Le[4])),_e==="y"&&(Te.WebKitCSSMatrix?Fe=Ae.m42:Le.length===16?Fe=parseFloat(Le[13]):Fe=parseFloat(Le[5])),Fe||0}function isObject$6($e){return typeof $e=="object"&&$e!==null&&$e.constructor&&Object.prototype.toString.call($e).slice(8,-1)==="Object"}function isNode$1($e){return typeof window<"u"&&typeof window.HTMLElement<"u"?$e instanceof HTMLElement:$e&&($e.nodeType===1||$e.nodeType===11)}function extend$1(){const $e=Object(arguments.length<=0?void 0:arguments[0]),_e=["__proto__","constructor","prototype"];for(let Te=1;Te<arguments.length;Te+=1){const Le=Te<0||arguments.length<=Te?void 0:arguments[Te];if(Le!=null&&!isNode$1(Le)){const Fe=Object.keys(Object(Le)).filter(Ae=>_e.indexOf(Ae)<0);for(let Ae=0,Be=Fe.length;Ae<Be;Ae+=1){const Ie=Fe[Ae],Ne=Object.getOwnPropertyDescriptor(Le,Ie);Ne!==void 0&&Ne.enumerable&&(isObject$6($e[Ie])&&isObject$6(Le[Ie])?Le[Ie].__swiper__?$e[Ie]=Le[Ie]:extend$1($e[Ie],Le[Ie]):!isObject$6($e[Ie])&&isObject$6(Le[Ie])?($e[Ie]={},Le[Ie].__swiper__?$e[Ie]=Le[Ie]:extend$1($e[Ie],Le[Ie])):$e[Ie]=Le[Ie])}}}return $e}function setCSSProperty($e,_e,Te){$e.style.setProperty(_e,Te)}function animateCSSModeScroll($e){let{swiper:_e,targetPosition:Te,side:Le}=$e;const Fe=getWindow$1(),Ae=-_e.translate;let Be=null,Ie;const Ne=_e.params.speed;_e.wrapperEl.style.scrollSnapType="none",Fe.cancelAnimationFrame(_e.cssModeFrameID);const ze=Te>Ae?"next":"prev",Ue=(Ve,Ze)=>ze==="next"&&Ve>=Ze||ze==="prev"&&Ve<=Ze,je=()=>{Ie=new Date().getTime(),Be===null&&(Be=Ie);const Ve=Math.max(Math.min((Ie-Be)/Ne,1),0),Ze=.5-Math.cos(Ve*Math.PI)/2;let Ke=Ae+Ze*(Te-Ae);if(Ue(Ke,Te)&&(Ke=Te),_e.wrapperEl.scrollTo({[Le]:Ke}),Ue(Ke,Te)){_e.wrapperEl.style.overflow="hidden",_e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{_e.wrapperEl.style.overflow="",_e.wrapperEl.scrollTo({[Le]:Ke})}),Fe.cancelAnimationFrame(_e.cssModeFrameID);return}_e.cssModeFrameID=Fe.requestAnimationFrame(je)};je()}function elementChildren($e,_e){return _e===void 0&&(_e=""),[...$e.children].filter(Te=>Te.matches(_e))}function showWarning($e){try{console.warn($e);return}catch{}}function createElement$1($e,_e){_e===void 0&&(_e=[]);const Te=document.createElement($e);return Te.classList.add(...Array.isArray(_e)?_e:classesToTokens(_e)),Te}function elementPrevAll($e,_e){const Te=[];for(;$e.previousElementSibling;){const Le=$e.previousElementSibling;_e?Le.matches(_e)&&Te.push(Le):Te.push(Le),$e=Le}return Te}function elementNextAll($e,_e){const Te=[];for(;$e.nextElementSibling;){const Le=$e.nextElementSibling;_e?Le.matches(_e)&&Te.push(Le):Te.push(Le),$e=Le}return Te}function elementStyle($e,_e){return getWindow$1().getComputedStyle($e,null).getPropertyValue(_e)}function elementIndex($e){let _e=$e,Te;if(_e){for(Te=0;(_e=_e.previousSibling)!==null;)_e.nodeType===1&&(Te+=1);return Te}}function elementParents($e,_e){const Te=[];let Le=$e.parentElement;for(;Le;)_e?Le.matches(_e)&&Te.push(Le):Te.push(Le),Le=Le.parentElement;return Te}function elementTransitionEnd($e,_e){function Te(Le){Le.target===$e&&(_e.call($e,Le),$e.removeEventListener("transitionend",Te))}_e&&$e.addEventListener("transitionend",Te)}function elementOuterSize($e,_e,Te){const Le=getWindow$1();return Te?$e[_e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(Le.getComputedStyle($e,null).getPropertyValue(_e==="width"?"margin-right":"margin-top"))+parseFloat(Le.getComputedStyle($e,null).getPropertyValue(_e==="width"?"margin-left":"margin-bottom")):$e.offsetWidth}let support$1;function calcSupport(){const $e=getWindow$1(),_e=getDocument();return{smoothScroll:_e.documentElement&&_e.documentElement.style&&"scrollBehavior"in _e.documentElement.style,touch:!!("ontouchstart"in $e||$e.DocumentTouch&&_e instanceof $e.DocumentTouch)}}function getSupport(){return support$1||(support$1=calcSupport()),support$1}let deviceCached;function calcDevice($e){let{userAgent:_e}=$e===void 0?{}:$e;const Te=getSupport(),Le=getWindow$1(),Fe=Le.navigator.platform,Ae=_e||Le.navigator.userAgent,Be={ios:!1,android:!1},Ie=Le.screen.width,Ne=Le.screen.height,ze=Ae.match(/(Android);?[\s\/]+([\d.]+)?/);let Ue=Ae.match(/(iPad).*OS\s([\d_]+)/);const je=Ae.match(/(iPod)(.*OS\s([\d_]+))?/),Ve=!Ue&&Ae.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Ze=Fe==="Win32";let Ke=Fe==="MacIntel";const Je=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!Ue&&Ke&&Te.touch&&Je.indexOf(`${Ie}x${Ne}`)>=0&&(Ue=Ae.match(/(Version)\/([\d.]+)/),Ue||(Ue=[0,1,"13_0_0"]),Ke=!1),ze&&!Ze&&(Be.os="android",Be.android=!0),(Ue||Ve||je)&&(Be.os="ios",Be.ios=!0),Be}function getDevice($e){return $e===void 0&&($e={}),deviceCached||(deviceCached=calcDevice($e)),deviceCached}let browser$1;function calcBrowser(){const $e=getWindow$1();let _e=!1;function Te(){const Le=$e.navigator.userAgent.toLowerCase();return Le.indexOf("safari")>=0&&Le.indexOf("chrome")<0&&Le.indexOf("android")<0}if(Te()){const Le=String($e.navigator.userAgent);if(Le.includes("Version/")){const[Fe,Ae]=Le.split("Version/")[1].split(" ")[0].split(".").map(Be=>Number(Be));_e=Fe<16||Fe===16&&Ae<2}}return{isSafari:_e||Te(),needPerspectiveFix:_e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test($e.navigator.userAgent)}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize($e){let{swiper:_e,on:Te,emit:Le}=$e;const Fe=getWindow$1();let Ae=null,Be=null;const Ie=()=>{!_e||_e.destroyed||!_e.initialized||(Le("beforeResize"),Le("resize"))},Ne=()=>{!_e||_e.destroyed||!_e.initialized||(Ae=new ResizeObserver(je=>{Be=Fe.requestAnimationFrame(()=>{const{width:Ve,height:Ze}=_e;let Ke=Ve,Je=Ze;je.forEach(ei=>{let{contentBoxSize:ni,contentRect:Qe,target:ii}=ei;ii&&ii!==_e.el||(Ke=Qe?Qe.width:(ni[0]||ni).inlineSize,Je=Qe?Qe.height:(ni[0]||ni).blockSize)}),(Ke!==Ve||Je!==Ze)&&Ie()})}),Ae.observe(_e.el))},ze=()=>{Be&&Fe.cancelAnimationFrame(Be),Ae&&Ae.unobserve&&_e.el&&(Ae.unobserve(_e.el),Ae=null)},Ue=()=>{!_e||_e.destroyed||!_e.initialized||Le("orientationchange")};Te("init",()=>{if(_e.params.resizeObserver&&typeof Fe.ResizeObserver<"u"){Ne();return}Fe.addEventListener("resize",Ie),Fe.addEventListener("orientationchange",Ue)}),Te("destroy",()=>{ze(),Fe.removeEventListener("resize",Ie),Fe.removeEventListener("orientationchange",Ue)})}function Observer($e){let{swiper:_e,extendParams:Te,on:Le,emit:Fe}=$e;const Ae=[],Be=getWindow$1(),Ie=function(Ue,je){je===void 0&&(je={});const Ve=Be.MutationObserver||Be.WebkitMutationObserver,Ze=new Ve(Ke=>{if(_e.__preventObserver__)return;if(Ke.length===1){Fe("observerUpdate",Ke[0]);return}const Je=function(){Fe("observerUpdate",Ke[0])};Be.requestAnimationFrame?Be.requestAnimationFrame(Je):Be.setTimeout(Je,0)});Ze.observe(Ue,{attributes:typeof je.attributes>"u"?!0:je.attributes,childList:typeof je.childList>"u"?!0:je.childList,characterData:typeof je.characterData>"u"?!0:je.characterData}),Ae.push(Ze)},Ne=()=>{if(_e.params.observer){if(_e.params.observeParents){const Ue=elementParents(_e.hostEl);for(let je=0;je<Ue.length;je+=1)Ie(Ue[je])}Ie(_e.hostEl,{childList:_e.params.observeSlideChildren}),Ie(_e.wrapperEl,{attributes:!1})}},ze=()=>{Ae.forEach(Ue=>{Ue.disconnect()}),Ae.splice(0,Ae.length)};Te({observer:!1,observeParents:!1,observeSlideChildren:!1}),Le("init",Ne),Le("destroy",ze)}var eventsEmitter={on($e,_e,Te){const Le=this;if(!Le.eventsListeners||Le.destroyed||typeof _e!="function")return Le;const Fe=Te?"unshift":"push";return $e.split(" ").forEach(Ae=>{Le.eventsListeners[Ae]||(Le.eventsListeners[Ae]=[]),Le.eventsListeners[Ae][Fe](_e)}),Le},once($e,_e,Te){const Le=this;if(!Le.eventsListeners||Le.destroyed||typeof _e!="function")return Le;function Fe(){Le.off($e,Fe),Fe.__emitterProxy&&delete Fe.__emitterProxy;for(var Ae=arguments.length,Be=new Array(Ae),Ie=0;Ie<Ae;Ie++)Be[Ie]=arguments[Ie];_e.apply(Le,Be)}return Fe.__emitterProxy=_e,Le.on($e,Fe,Te)},onAny($e,_e){const Te=this;if(!Te.eventsListeners||Te.destroyed||typeof $e!="function")return Te;const Le=_e?"unshift":"push";return Te.eventsAnyListeners.indexOf($e)<0&&Te.eventsAnyListeners[Le]($e),Te},offAny($e){const _e=this;if(!_e.eventsListeners||_e.destroyed||!_e.eventsAnyListeners)return _e;const Te=_e.eventsAnyListeners.indexOf($e);return Te>=0&&_e.eventsAnyListeners.splice(Te,1),_e},off($e,_e){const Te=this;return!Te.eventsListeners||Te.destroyed||!Te.eventsListeners||$e.split(" ").forEach(Le=>{typeof _e>"u"?Te.eventsListeners[Le]=[]:Te.eventsListeners[Le]&&Te.eventsListeners[Le].forEach((Fe,Ae)=>{(Fe===_e||Fe.__emitterProxy&&Fe.__emitterProxy===_e)&&Te.eventsListeners[Le].splice(Ae,1)})}),Te},emit(){const $e=this;if(!$e.eventsListeners||$e.destroyed||!$e.eventsListeners)return $e;let _e,Te,Le;for(var Fe=arguments.length,Ae=new Array(Fe),Be=0;Be<Fe;Be++)Ae[Be]=arguments[Be];return typeof Ae[0]=="string"||Array.isArray(Ae[0])?(_e=Ae[0],Te=Ae.slice(1,Ae.length),Le=$e):(_e=Ae[0].events,Te=Ae[0].data,Le=Ae[0].context||$e),Te.unshift(Le),(Array.isArray(_e)?_e:_e.split(" ")).forEach(Ne=>{$e.eventsAnyListeners&&$e.eventsAnyListeners.length&&$e.eventsAnyListeners.forEach(ze=>{ze.apply(Le,[Ne,...Te])}),$e.eventsListeners&&$e.eventsListeners[Ne]&&$e.eventsListeners[Ne].forEach(ze=>{ze.apply(Le,Te)})}),$e}};function updateSize(){const $e=this;let _e,Te;const Le=$e.el;typeof $e.params.width<"u"&&$e.params.width!==null?_e=$e.params.width:_e=Le.clientWidth,typeof $e.params.height<"u"&&$e.params.height!==null?Te=$e.params.height:Te=Le.clientHeight,!(_e===0&&$e.isHorizontal()||Te===0&&$e.isVertical())&&(_e=_e-parseInt(elementStyle(Le,"padding-left")||0,10)-parseInt(elementStyle(Le,"padding-right")||0,10),Te=Te-parseInt(elementStyle(Le,"padding-top")||0,10)-parseInt(elementStyle(Le,"padding-bottom")||0,10),Number.isNaN(_e)&&(_e=0),Number.isNaN(Te)&&(Te=0),Object.assign($e,{width:_e,height:Te,size:$e.isHorizontal()?_e:Te}))}function updateSlides(){const $e=this;function _e(li,wi){return parseFloat(li.getPropertyValue($e.getDirectionLabel(wi))||0)}const Te=$e.params,{wrapperEl:Le,slidesEl:Fe,size:Ae,rtlTranslate:Be,wrongRTL:Ie}=$e,Ne=$e.virtual&&Te.virtual.enabled,ze=Ne?$e.virtual.slides.length:$e.slides.length,Ue=elementChildren(Fe,`.${$e.params.slideClass}, swiper-slide`),je=Ne?$e.virtual.slides.length:Ue.length;let Ve=[];const Ze=[],Ke=[];let Je=Te.slidesOffsetBefore;typeof Je=="function"&&(Je=Te.slidesOffsetBefore.call($e));let ei=Te.slidesOffsetAfter;typeof ei=="function"&&(ei=Te.slidesOffsetAfter.call($e));const ni=$e.snapGrid.length,Qe=$e.slidesGrid.length;let ii=Te.spaceBetween,ai=-Je,di=0,vi=0;if(typeof Ae>"u")return;typeof ii=="string"&&ii.indexOf("%")>=0?ii=parseFloat(ii.replace("%",""))/100*Ae:typeof ii=="string"&&(ii=parseFloat(ii)),$e.virtualSize=-ii,Ue.forEach(li=>{Be?li.style.marginLeft="":li.style.marginRight="",li.style.marginBottom="",li.style.marginTop=""}),Te.centeredSlides&&Te.cssMode&&(setCSSProperty(Le,"--swiper-centered-offset-before",""),setCSSProperty(Le,"--swiper-centered-offset-after",""));const bi=Te.grid&&Te.grid.rows>1&&$e.grid;bi?$e.grid.initSlides(Ue):$e.grid&&$e.grid.unsetSlides();let xi;const mi=Te.slidesPerView==="auto"&&Te.breakpoints&&Object.keys(Te.breakpoints).filter(li=>typeof Te.breakpoints[li].slidesPerView<"u").length>0;for(let li=0;li<je;li+=1){xi=0;let wi;if(Ue[li]&&(wi=Ue[li]),bi&&$e.grid.updateSlide(li,wi,Ue),!(Ue[li]&&elementStyle(wi,"display")==="none")){if(Te.slidesPerView==="auto"){mi&&(Ue[li].style[$e.getDirectionLabel("width")]="");const Li=getComputedStyle(wi),Ti=wi.style.transform,Oi=wi.style.webkitTransform;if(Ti&&(wi.style.transform="none"),Oi&&(wi.style.webkitTransform="none"),Te.roundLengths)xi=$e.isHorizontal()?elementOuterSize(wi,"width",!0):elementOuterSize(wi,"height",!0);else{const Di=_e(Li,"width"),Ri=_e(Li,"padding-left"),fn=_e(Li,"padding-right"),Ci=_e(Li,"margin-left"),hn=_e(Li,"margin-right"),Pi=Li.getPropertyValue("box-sizing");if(Pi&&Pi==="border-box")xi=Di+Ci+hn;else{const{clientWidth:Ki,offsetWidth:gn}=wi;xi=Di+Ri+fn+Ci+hn+(gn-Ki)}}Ti&&(wi.style.transform=Ti),Oi&&(wi.style.webkitTransform=Oi),Te.roundLengths&&(xi=Math.floor(xi))}else xi=(Ae-(Te.slidesPerView-1)*ii)/Te.slidesPerView,Te.roundLengths&&(xi=Math.floor(xi)),Ue[li]&&(Ue[li].style[$e.getDirectionLabel("width")]=`${xi}px`);Ue[li]&&(Ue[li].swiperSlideSize=xi),Ke.push(xi),Te.centeredSlides?(ai=ai+xi/2+di/2+ii,di===0&&li!==0&&(ai=ai-Ae/2-ii),li===0&&(ai=ai-Ae/2-ii),Math.abs(ai)<1/1e3&&(ai=0),Te.roundLengths&&(ai=Math.floor(ai)),vi%Te.slidesPerGroup===0&&Ve.push(ai),Ze.push(ai)):(Te.roundLengths&&(ai=Math.floor(ai)),(vi-Math.min($e.params.slidesPerGroupSkip,vi))%$e.params.slidesPerGroup===0&&Ve.push(ai),Ze.push(ai),ai=ai+xi+ii),$e.virtualSize+=xi+ii,di=xi,vi+=1}}if($e.virtualSize=Math.max($e.virtualSize,Ae)+ei,Be&&Ie&&(Te.effect==="slide"||Te.effect==="coverflow")&&(Le.style.width=`${$e.virtualSize+ii}px`),Te.setWrapperSize&&(Le.style[$e.getDirectionLabel("width")]=`${$e.virtualSize+ii}px`),bi&&$e.grid.updateWrapperSize(xi,Ve),!Te.centeredSlides){const li=[];for(let wi=0;wi<Ve.length;wi+=1){let Li=Ve[wi];Te.roundLengths&&(Li=Math.floor(Li)),Ve[wi]<=$e.virtualSize-Ae&&li.push(Li)}Ve=li,Math.floor($e.virtualSize-Ae)-Math.floor(Ve[Ve.length-1])>1&&Ve.push($e.virtualSize-Ae)}if(Ne&&Te.loop){const li=Ke[0]+ii;if(Te.slidesPerGroup>1){const wi=Math.ceil(($e.virtual.slidesBefore+$e.virtual.slidesAfter)/Te.slidesPerGroup),Li=li*Te.slidesPerGroup;for(let Ti=0;Ti<wi;Ti+=1)Ve.push(Ve[Ve.length-1]+Li)}for(let wi=0;wi<$e.virtual.slidesBefore+$e.virtual.slidesAfter;wi+=1)Te.slidesPerGroup===1&&Ve.push(Ve[Ve.length-1]+li),Ze.push(Ze[Ze.length-1]+li),$e.virtualSize+=li}if(Ve.length===0&&(Ve=[0]),ii!==0){const li=$e.isHorizontal()&&Be?"marginLeft":$e.getDirectionLabel("marginRight");Ue.filter((wi,Li)=>!Te.cssMode||Te.loop?!0:Li!==Ue.length-1).forEach(wi=>{wi.style[li]=`${ii}px`})}if(Te.centeredSlides&&Te.centeredSlidesBounds){let li=0;Ke.forEach(Li=>{li+=Li+(ii||0)}),li-=ii;const wi=li-Ae;Ve=Ve.map(Li=>Li<=0?-Je:Li>wi?wi+ei:Li)}if(Te.centerInsufficientSlides){let li=0;if(Ke.forEach(wi=>{li+=wi+(ii||0)}),li-=ii,li<Ae){const wi=(Ae-li)/2;Ve.forEach((Li,Ti)=>{Ve[Ti]=Li-wi}),Ze.forEach((Li,Ti)=>{Ze[Ti]=Li+wi})}}if(Object.assign($e,{slides:Ue,snapGrid:Ve,slidesGrid:Ze,slidesSizesGrid:Ke}),Te.centeredSlides&&Te.cssMode&&!Te.centeredSlidesBounds){setCSSProperty(Le,"--swiper-centered-offset-before",`${-Ve[0]}px`),setCSSProperty(Le,"--swiper-centered-offset-after",`${$e.size/2-Ke[Ke.length-1]/2}px`);const li=-$e.snapGrid[0],wi=-$e.slidesGrid[0];$e.snapGrid=$e.snapGrid.map(Li=>Li+li),$e.slidesGrid=$e.slidesGrid.map(Li=>Li+wi)}if(je!==ze&&$e.emit("slidesLengthChange"),Ve.length!==ni&&($e.params.watchOverflow&&$e.checkOverflow(),$e.emit("snapGridLengthChange")),Ze.length!==Qe&&$e.emit("slidesGridLengthChange"),Te.watchSlidesProgress&&$e.updateSlidesOffset(),$e.emit("slidesUpdated"),!Ne&&!Te.cssMode&&(Te.effect==="slide"||Te.effect==="fade")){const li=`${Te.containerModifierClass}backface-hidden`,wi=$e.el.classList.contains(li);je<=Te.maxBackfaceHiddenSlides?wi||$e.el.classList.add(li):wi&&$e.el.classList.remove(li)}}function updateAutoHeight($e){const _e=this,Te=[],Le=_e.virtual&&_e.params.virtual.enabled;let Fe=0,Ae;typeof $e=="number"?_e.setTransition($e):$e===!0&&_e.setTransition(_e.params.speed);const Be=Ie=>Le?_e.slides[_e.getSlideIndexByData(Ie)]:_e.slides[Ie];if(_e.params.slidesPerView!=="auto"&&_e.params.slidesPerView>1)if(_e.params.centeredSlides)(_e.visibleSlides||[]).forEach(Ie=>{Te.push(Ie)});else for(Ae=0;Ae<Math.ceil(_e.params.slidesPerView);Ae+=1){const Ie=_e.activeIndex+Ae;if(Ie>_e.slides.length&&!Le)break;Te.push(Be(Ie))}else Te.push(Be(_e.activeIndex));for(Ae=0;Ae<Te.length;Ae+=1)if(typeof Te[Ae]<"u"){const Ie=Te[Ae].offsetHeight;Fe=Ie>Fe?Ie:Fe}(Fe||Fe===0)&&(_e.wrapperEl.style.height=`${Fe}px`)}function updateSlidesOffset(){const $e=this,_e=$e.slides,Te=$e.isElement?$e.isHorizontal()?$e.wrapperEl.offsetLeft:$e.wrapperEl.offsetTop:0;for(let Le=0;Le<_e.length;Le+=1)_e[Le].swiperSlideOffset=($e.isHorizontal()?_e[Le].offsetLeft:_e[Le].offsetTop)-Te-$e.cssOverflowAdjustment()}function updateSlidesProgress($e){$e===void 0&&($e=this&&this.translate||0);const _e=this,Te=_e.params,{slides:Le,rtlTranslate:Fe,snapGrid:Ae}=_e;if(Le.length===0)return;typeof Le[0].swiperSlideOffset>"u"&&_e.updateSlidesOffset();let Be=-$e;Fe&&(Be=$e),Le.forEach(Ne=>{Ne.classList.remove(Te.slideVisibleClass,Te.slideFullyVisibleClass)}),_e.visibleSlidesIndexes=[],_e.visibleSlides=[];let Ie=Te.spaceBetween;typeof Ie=="string"&&Ie.indexOf("%")>=0?Ie=parseFloat(Ie.replace("%",""))/100*_e.size:typeof Ie=="string"&&(Ie=parseFloat(Ie));for(let Ne=0;Ne<Le.length;Ne+=1){const ze=Le[Ne];let Ue=ze.swiperSlideOffset;Te.cssMode&&Te.centeredSlides&&(Ue-=Le[0].swiperSlideOffset);const je=(Be+(Te.centeredSlides?_e.minTranslate():0)-Ue)/(ze.swiperSlideSize+Ie),Ve=(Be-Ae[0]+(Te.centeredSlides?_e.minTranslate():0)-Ue)/(ze.swiperSlideSize+Ie),Ze=-(Be-Ue),Ke=Ze+_e.slidesSizesGrid[Ne],Je=Ze>=0&&Ze<=_e.size-_e.slidesSizesGrid[Ne];(Ze>=0&&Ze<_e.size-1||Ke>1&&Ke<=_e.size||Ze<=0&&Ke>=_e.size)&&(_e.visibleSlides.push(ze),_e.visibleSlidesIndexes.push(Ne),Le[Ne].classList.add(Te.slideVisibleClass)),Je&&Le[Ne].classList.add(Te.slideFullyVisibleClass),ze.progress=Fe?-je:je,ze.originalProgress=Fe?-Ve:Ve}}function updateProgress($e){const _e=this;if(typeof $e>"u"){const Ue=_e.rtlTranslate?-1:1;$e=_e&&_e.translate&&_e.translate*Ue||0}const Te=_e.params,Le=_e.maxTranslate()-_e.minTranslate();let{progress:Fe,isBeginning:Ae,isEnd:Be,progressLoop:Ie}=_e;const Ne=Ae,ze=Be;if(Le===0)Fe=0,Ae=!0,Be=!0;else{Fe=($e-_e.minTranslate())/Le;const Ue=Math.abs($e-_e.minTranslate())<1,je=Math.abs($e-_e.maxTranslate())<1;Ae=Ue||Fe<=0,Be=je||Fe>=1,Ue&&(Fe=0),je&&(Fe=1)}if(Te.loop){const Ue=_e.getSlideIndexByData(0),je=_e.getSlideIndexByData(_e.slides.length-1),Ve=_e.slidesGrid[Ue],Ze=_e.slidesGrid[je],Ke=_e.slidesGrid[_e.slidesGrid.length-1],Je=Math.abs($e);Je>=Ve?Ie=(Je-Ve)/Ke:Ie=(Je+Ke-Ze)/Ke,Ie>1&&(Ie-=1)}Object.assign(_e,{progress:Fe,progressLoop:Ie,isBeginning:Ae,isEnd:Be}),(Te.watchSlidesProgress||Te.centeredSlides&&Te.autoHeight)&&_e.updateSlidesProgress($e),Ae&&!Ne&&_e.emit("reachBeginning toEdge"),Be&&!ze&&_e.emit("reachEnd toEdge"),(Ne&&!Ae||ze&&!Be)&&_e.emit("fromEdge"),_e.emit("progress",Fe)}function updateSlidesClasses(){const $e=this,{slides:_e,params:Te,slidesEl:Le,activeIndex:Fe}=$e,Ae=$e.virtual&&Te.virtual.enabled,Be=$e.grid&&Te.grid&&Te.grid.rows>1,Ie=je=>elementChildren(Le,`.${Te.slideClass}${je}, swiper-slide${je}`)[0];_e.forEach(je=>{je.classList.remove(Te.slideActiveClass,Te.slideNextClass,Te.slidePrevClass)});let Ne,ze,Ue;if(Ae)if(Te.loop){let je=Fe-$e.virtual.slidesBefore;je<0&&(je=$e.virtual.slides.length+je),je>=$e.virtual.slides.length&&(je-=$e.virtual.slides.length),Ne=Ie(`[data-swiper-slide-index="${je}"]`)}else Ne=Ie(`[data-swiper-slide-index="${Fe}"]`);else Be?(Ne=_e.filter(je=>je.column===Fe)[0],Ue=_e.filter(je=>je.column===Fe+1)[0],ze=_e.filter(je=>je.column===Fe-1)[0]):Ne=_e[Fe];Ne&&(Ne.classList.add(Te.slideActiveClass),Be?(Ue&&Ue.classList.add(Te.slideNextClass),ze&&ze.classList.add(Te.slidePrevClass)):(Ue=elementNextAll(Ne,`.${Te.slideClass}, swiper-slide`)[0],Te.loop&&!Ue&&(Ue=_e[0]),Ue&&Ue.classList.add(Te.slideNextClass),ze=elementPrevAll(Ne,`.${Te.slideClass}, swiper-slide`)[0],Te.loop&&!ze===0&&(ze=_e[_e.length-1]),ze&&ze.classList.add(Te.slidePrevClass))),$e.emitSlidesClasses()}const processLazyPreloader=($e,_e)=>{if(!$e||$e.destroyed||!$e.params)return;const Te=()=>$e.isElement?"swiper-slide":`.${$e.params.slideClass}`,Le=_e.closest(Te());if(Le){let Fe=Le.querySelector(`.${$e.params.lazyPreloaderClass}`);!Fe&&$e.isElement&&(Le.shadowRoot?Fe=Le.shadowRoot.querySelector(`.${$e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{Le.shadowRoot&&(Fe=Le.shadowRoot.querySelector(`.${$e.params.lazyPreloaderClass}`),Fe&&Fe.remove())})),Fe&&Fe.remove()}},unlazy=($e,_e)=>{if(!$e.slides[_e])return;const Te=$e.slides[_e].querySelector('[loading="lazy"]');Te&&Te.removeAttribute("loading")},preload=$e=>{if(!$e||$e.destroyed||!$e.params)return;let _e=$e.params.lazyPreloadPrevNext;const Te=$e.slides.length;if(!Te||!_e||_e<0)return;_e=Math.min(_e,Te);const Le=$e.params.slidesPerView==="auto"?$e.slidesPerViewDynamic():Math.ceil($e.params.slidesPerView),Fe=$e.activeIndex;if($e.params.grid&&$e.params.grid.rows>1){const Be=Fe,Ie=[Be-_e];Ie.push(...Array.from({length:_e}).map((Ne,ze)=>Be+Le+ze)),$e.slides.forEach((Ne,ze)=>{Ie.includes(Ne.column)&&unlazy($e,ze)});return}const Ae=Fe+Le-1;if($e.params.rewind||$e.params.loop)for(let Be=Fe-_e;Be<=Ae+_e;Be+=1){const Ie=(Be%Te+Te)%Te;(Ie<Fe||Ie>Ae)&&unlazy($e,Ie)}else for(let Be=Math.max(Fe-_e,0);Be<=Math.min(Ae+_e,Te-1);Be+=1)Be!==Fe&&(Be>Ae||Be<Fe)&&unlazy($e,Be)};function getActiveIndexByTranslate($e){const{slidesGrid:_e,params:Te}=$e,Le=$e.rtlTranslate?$e.translate:-$e.translate;let Fe;for(let Ae=0;Ae<_e.length;Ae+=1)typeof _e[Ae+1]<"u"?Le>=_e[Ae]&&Le<_e[Ae+1]-(_e[Ae+1]-_e[Ae])/2?Fe=Ae:Le>=_e[Ae]&&Le<_e[Ae+1]&&(Fe=Ae+1):Le>=_e[Ae]&&(Fe=Ae);return Te.normalizeSlideIndex&&(Fe<0||typeof Fe>"u")&&(Fe=0),Fe}function updateActiveIndex($e){const _e=this,Te=_e.rtlTranslate?_e.translate:-_e.translate,{snapGrid:Le,params:Fe,activeIndex:Ae,realIndex:Be,snapIndex:Ie}=_e;let Ne=$e,ze;const Ue=Ze=>{let Ke=Ze-_e.virtual.slidesBefore;return Ke<0&&(Ke=_e.virtual.slides.length+Ke),Ke>=_e.virtual.slides.length&&(Ke-=_e.virtual.slides.length),Ke};if(typeof Ne>"u"&&(Ne=getActiveIndexByTranslate(_e)),Le.indexOf(Te)>=0)ze=Le.indexOf(Te);else{const Ze=Math.min(Fe.slidesPerGroupSkip,Ne);ze=Ze+Math.floor((Ne-Ze)/Fe.slidesPerGroup)}if(ze>=Le.length&&(ze=Le.length-1),Ne===Ae&&!_e.params.loop){ze!==Ie&&(_e.snapIndex=ze,_e.emit("snapIndexChange"));return}if(Ne===Ae&&_e.params.loop&&_e.virtual&&_e.params.virtual.enabled){_e.realIndex=Ue(Ne);return}const je=_e.grid&&Fe.grid&&Fe.grid.rows>1;let Ve;if(_e.virtual&&Fe.virtual.enabled&&Fe.loop)Ve=Ue(Ne);else if(je){const Ze=_e.slides.filter(Je=>Je.column===Ne)[0];let Ke=parseInt(Ze.getAttribute("data-swiper-slide-index"),10);Number.isNaN(Ke)&&(Ke=Math.max(_e.slides.indexOf(Ze),0)),Ve=Math.floor(Ke/Fe.grid.rows)}else if(_e.slides[Ne]){const Ze=_e.slides[Ne].getAttribute("data-swiper-slide-index");Ze?Ve=parseInt(Ze,10):Ve=Ne}else Ve=Ne;Object.assign(_e,{previousSnapIndex:Ie,snapIndex:ze,previousRealIndex:Be,realIndex:Ve,previousIndex:Ae,activeIndex:Ne}),_e.initialized&&preload(_e),_e.emit("activeIndexChange"),_e.emit("snapIndexChange"),(_e.initialized||_e.params.runCallbacksOnInit)&&(Be!==Ve&&_e.emit("realIndexChange"),_e.emit("slideChange"))}function updateClickedSlide($e,_e){const Te=this,Le=Te.params;let Fe=$e.closest(`.${Le.slideClass}, swiper-slide`);!Fe&&Te.isElement&&_e&&_e.length>1&&_e.includes($e)&&[..._e.slice(_e.indexOf($e)+1,_e.length)].forEach(Ie=>{!Fe&&Ie.matches&&Ie.matches(`.${Le.slideClass}, swiper-slide`)&&(Fe=Ie)});let Ae=!1,Be;if(Fe){for(let Ie=0;Ie<Te.slides.length;Ie+=1)if(Te.slides[Ie]===Fe){Ae=!0,Be=Ie;break}}if(Fe&&Ae)Te.clickedSlide=Fe,Te.virtual&&Te.params.virtual.enabled?Te.clickedIndex=parseInt(Fe.getAttribute("data-swiper-slide-index"),10):Te.clickedIndex=Be;else{Te.clickedSlide=void 0,Te.clickedIndex=void 0;return}Le.slideToClickedSlide&&Te.clickedIndex!==void 0&&Te.clickedIndex!==Te.activeIndex&&Te.slideToClickedSlide()}var update={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate($e){$e===void 0&&($e=this.isHorizontal()?"x":"y");const _e=this,{params:Te,rtlTranslate:Le,translate:Fe,wrapperEl:Ae}=_e;if(Te.virtualTranslate)return Le?-Fe:Fe;if(Te.cssMode)return Fe;let Be=getTranslate(Ae,$e);return Be+=_e.cssOverflowAdjustment(),Le&&(Be=-Be),Be||0}function setTranslate($e,_e){const Te=this,{rtlTranslate:Le,params:Fe,wrapperEl:Ae,progress:Be}=Te;let Ie=0,Ne=0;const ze=0;Te.isHorizontal()?Ie=Le?-$e:$e:Ne=$e,Fe.roundLengths&&(Ie=Math.floor(Ie),Ne=Math.floor(Ne)),Te.previousTranslate=Te.translate,Te.translate=Te.isHorizontal()?Ie:Ne,Fe.cssMode?Ae[Te.isHorizontal()?"scrollLeft":"scrollTop"]=Te.isHorizontal()?-Ie:-Ne:Fe.virtualTranslate||(Te.isHorizontal()?Ie-=Te.cssOverflowAdjustment():Ne-=Te.cssOverflowAdjustment(),Ae.style.transform=`translate3d(${Ie}px, ${Ne}px, ${ze}px)`);let Ue;const je=Te.maxTranslate()-Te.minTranslate();je===0?Ue=0:Ue=($e-Te.minTranslate())/je,Ue!==Be&&Te.updateProgress($e),Te.emit("setTranslate",Te.translate,_e)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo($e,_e,Te,Le,Fe){$e===void 0&&($e=0),_e===void 0&&(_e=this.params.speed),Te===void 0&&(Te=!0),Le===void 0&&(Le=!0);const Ae=this,{params:Be,wrapperEl:Ie}=Ae;if(Ae.animating&&Be.preventInteractionOnTransition)return!1;const Ne=Ae.minTranslate(),ze=Ae.maxTranslate();let Ue;if(Le&&$e>Ne?Ue=Ne:Le&&$e<ze?Ue=ze:Ue=$e,Ae.updateProgress(Ue),Be.cssMode){const je=Ae.isHorizontal();if(_e===0)Ie[je?"scrollLeft":"scrollTop"]=-Ue;else{if(!Ae.support.smoothScroll)return animateCSSModeScroll({swiper:Ae,targetPosition:-Ue,side:je?"left":"top"}),!0;Ie.scrollTo({[je?"left":"top"]:-Ue,behavior:"smooth"})}return!0}return _e===0?(Ae.setTransition(0),Ae.setTranslate(Ue),Te&&(Ae.emit("beforeTransitionStart",_e,Fe),Ae.emit("transitionEnd"))):(Ae.setTransition(_e),Ae.setTranslate(Ue),Te&&(Ae.emit("beforeTransitionStart",_e,Fe),Ae.emit("transitionStart")),Ae.animating||(Ae.animating=!0,Ae.onTranslateToWrapperTransitionEnd||(Ae.onTranslateToWrapperTransitionEnd=function(Ve){!Ae||Ae.destroyed||Ve.target===this&&(Ae.wrapperEl.removeEventListener("transitionend",Ae.onTranslateToWrapperTransitionEnd),Ae.onTranslateToWrapperTransitionEnd=null,delete Ae.onTranslateToWrapperTransitionEnd,Te&&Ae.emit("transitionEnd"))}),Ae.wrapperEl.addEventListener("transitionend",Ae.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition($e,_e){const Te=this;Te.params.cssMode||(Te.wrapperEl.style.transitionDuration=`${$e}ms`,Te.wrapperEl.style.transitionDelay=$e===0?"0ms":""),Te.emit("setTransition",$e,_e)}function transitionEmit($e){let{swiper:_e,runCallbacks:Te,direction:Le,step:Fe}=$e;const{activeIndex:Ae,previousIndex:Be}=_e;let Ie=Le;if(Ie||(Ae>Be?Ie="next":Ae<Be?Ie="prev":Ie="reset"),_e.emit(`transition${Fe}`),Te&&Ae!==Be){if(Ie==="reset"){_e.emit(`slideResetTransition${Fe}`);return}_e.emit(`slideChangeTransition${Fe}`),Ie==="next"?_e.emit(`slideNextTransition${Fe}`):_e.emit(`slidePrevTransition${Fe}`)}}function transitionStart($e,_e){$e===void 0&&($e=!0);const Te=this,{params:Le}=Te;Le.cssMode||(Le.autoHeight&&Te.updateAutoHeight(),transitionEmit({swiper:Te,runCallbacks:$e,direction:_e,step:"Start"}))}function transitionEnd($e,_e){$e===void 0&&($e=!0);const Te=this,{params:Le}=Te;Te.animating=!1,!Le.cssMode&&(Te.setTransition(0),transitionEmit({swiper:Te,runCallbacks:$e,direction:_e,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo($e,_e,Te,Le,Fe){$e===void 0&&($e=0),_e===void 0&&(_e=this.params.speed),Te===void 0&&(Te=!0),typeof $e=="string"&&($e=parseInt($e,10));const Ae=this;let Be=$e;Be<0&&(Be=0);const{params:Ie,snapGrid:Ne,slidesGrid:ze,previousIndex:Ue,activeIndex:je,rtlTranslate:Ve,wrapperEl:Ze,enabled:Ke}=Ae;if(Ae.animating&&Ie.preventInteractionOnTransition||!Ke&&!Le&&!Fe)return!1;const Je=Math.min(Ae.params.slidesPerGroupSkip,Be);let ei=Je+Math.floor((Be-Je)/Ae.params.slidesPerGroup);ei>=Ne.length&&(ei=Ne.length-1);const ni=-Ne[ei];if(Ie.normalizeSlideIndex)for(let ii=0;ii<ze.length;ii+=1){const ai=-Math.floor(ni*100),di=Math.floor(ze[ii]*100),vi=Math.floor(ze[ii+1]*100);typeof ze[ii+1]<"u"?ai>=di&&ai<vi-(vi-di)/2?Be=ii:ai>=di&&ai<vi&&(Be=ii+1):ai>=di&&(Be=ii)}if(Ae.initialized&&Be!==je&&(!Ae.allowSlideNext&&(Ve?ni>Ae.translate&&ni>Ae.minTranslate():ni<Ae.translate&&ni<Ae.minTranslate())||!Ae.allowSlidePrev&&ni>Ae.translate&&ni>Ae.maxTranslate()&&(je||0)!==Be))return!1;Be!==(Ue||0)&&Te&&Ae.emit("beforeSlideChangeStart"),Ae.updateProgress(ni);let Qe;if(Be>je?Qe="next":Be<je?Qe="prev":Qe="reset",Ve&&-ni===Ae.translate||!Ve&&ni===Ae.translate)return Ae.updateActiveIndex(Be),Ie.autoHeight&&Ae.updateAutoHeight(),Ae.updateSlidesClasses(),Ie.effect!=="slide"&&Ae.setTranslate(ni),Qe!=="reset"&&(Ae.transitionStart(Te,Qe),Ae.transitionEnd(Te,Qe)),!1;if(Ie.cssMode){const ii=Ae.isHorizontal(),ai=Ve?ni:-ni;if(_e===0){const di=Ae.virtual&&Ae.params.virtual.enabled;di&&(Ae.wrapperEl.style.scrollSnapType="none",Ae._immediateVirtual=!0),di&&!Ae._cssModeVirtualInitialSet&&Ae.params.initialSlide>0?(Ae._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Ze[ii?"scrollLeft":"scrollTop"]=ai})):Ze[ii?"scrollLeft":"scrollTop"]=ai,di&&requestAnimationFrame(()=>{Ae.wrapperEl.style.scrollSnapType="",Ae._immediateVirtual=!1})}else{if(!Ae.support.smoothScroll)return animateCSSModeScroll({swiper:Ae,targetPosition:ai,side:ii?"left":"top"}),!0;Ze.scrollTo({[ii?"left":"top"]:ai,behavior:"smooth"})}return!0}return Ae.setTransition(_e),Ae.setTranslate(ni),Ae.updateActiveIndex(Be),Ae.updateSlidesClasses(),Ae.emit("beforeTransitionStart",_e,Le),Ae.transitionStart(Te,Qe),_e===0?Ae.transitionEnd(Te,Qe):Ae.animating||(Ae.animating=!0,Ae.onSlideToWrapperTransitionEnd||(Ae.onSlideToWrapperTransitionEnd=function(ai){!Ae||Ae.destroyed||ai.target===this&&(Ae.wrapperEl.removeEventListener("transitionend",Ae.onSlideToWrapperTransitionEnd),Ae.onSlideToWrapperTransitionEnd=null,delete Ae.onSlideToWrapperTransitionEnd,Ae.transitionEnd(Te,Qe))}),Ae.wrapperEl.addEventListener("transitionend",Ae.onSlideToWrapperTransitionEnd)),!0}function slideToLoop($e,_e,Te,Le){$e===void 0&&($e=0),_e===void 0&&(_e=this.params.speed),Te===void 0&&(Te=!0),typeof $e=="string"&&($e=parseInt($e,10));const Fe=this,Ae=Fe.grid&&Fe.params.grid&&Fe.params.grid.rows>1;let Be=$e;if(Fe.params.loop)if(Fe.virtual&&Fe.params.virtual.enabled)Be=Be+Fe.virtual.slidesBefore;else{let Ie;if(Ae){const Ve=Be*Fe.params.grid.rows;Ie=Fe.slides.filter(Ze=>Ze.getAttribute("data-swiper-slide-index")*1===Ve)[0].column}else Ie=Fe.getSlideIndexByData(Be);const Ne=Ae?Math.ceil(Fe.slides.length/Fe.params.grid.rows):Fe.slides.length,{centeredSlides:ze}=Fe.params;let Ue=Fe.params.slidesPerView;Ue==="auto"?Ue=Fe.slidesPerViewDynamic():(Ue=Math.ceil(parseFloat(Fe.params.slidesPerView,10)),ze&&Ue%2===0&&(Ue=Ue+1));let je=Ne-Ie<Ue;if(ze&&(je=je||Ie<Math.ceil(Ue/2)),je){const Ve=ze?Ie<Fe.activeIndex?"prev":"next":Ie-Fe.activeIndex-1<Fe.params.slidesPerView?"next":"prev";Fe.loopFix({direction:Ve,slideTo:!0,activeSlideIndex:Ve==="next"?Ie+1:Ie-Ne+1,slideRealIndex:Ve==="next"?Fe.realIndex:void 0})}if(Ae){const Ve=Be*Fe.params.grid.rows;Be=Fe.slides.filter(Ze=>Ze.getAttribute("data-swiper-slide-index")*1===Ve)[0].column}else Be=Fe.getSlideIndexByData(Be)}return requestAnimationFrame(()=>{Fe.slideTo(Be,_e,Te,Le)}),Fe}function slideNext($e,_e,Te){$e===void 0&&($e=this.params.speed),_e===void 0&&(_e=!0);const Le=this,{enabled:Fe,params:Ae,animating:Be}=Le;if(!Fe)return Le;let Ie=Ae.slidesPerGroup;Ae.slidesPerView==="auto"&&Ae.slidesPerGroup===1&&Ae.slidesPerGroupAuto&&(Ie=Math.max(Le.slidesPerViewDynamic("current",!0),1));const Ne=Le.activeIndex<Ae.slidesPerGroupSkip?1:Ie,ze=Le.virtual&&Ae.virtual.enabled;if(Ae.loop){if(Be&&!ze&&Ae.loopPreventsSliding)return!1;if(Le.loopFix({direction:"next"}),Le._clientLeft=Le.wrapperEl.clientLeft,Le.activeIndex===Le.slides.length-1&&Ae.cssMode)return requestAnimationFrame(()=>{Le.slideTo(Le.activeIndex+Ne,$e,_e,Te)}),!0}return Ae.rewind&&Le.isEnd?Le.slideTo(0,$e,_e,Te):Le.slideTo(Le.activeIndex+Ne,$e,_e,Te)}function slidePrev($e,_e,Te){$e===void 0&&($e=this.params.speed),_e===void 0&&(_e=!0);const Le=this,{params:Fe,snapGrid:Ae,slidesGrid:Be,rtlTranslate:Ie,enabled:Ne,animating:ze}=Le;if(!Ne)return Le;const Ue=Le.virtual&&Fe.virtual.enabled;if(Fe.loop){if(ze&&!Ue&&Fe.loopPreventsSliding)return!1;Le.loopFix({direction:"prev"}),Le._clientLeft=Le.wrapperEl.clientLeft}const je=Ie?Le.translate:-Le.translate;function Ve(ni){return ni<0?-Math.floor(Math.abs(ni)):Math.floor(ni)}const Ze=Ve(je),Ke=Ae.map(ni=>Ve(ni));let Je=Ae[Ke.indexOf(Ze)-1];if(typeof Je>"u"&&Fe.cssMode){let ni;Ae.forEach((Qe,ii)=>{Ze>=Qe&&(ni=ii)}),typeof ni<"u"&&(Je=Ae[ni>0?ni-1:ni])}let ei=0;if(typeof Je<"u"&&(ei=Be.indexOf(Je),ei<0&&(ei=Le.activeIndex-1),Fe.slidesPerView==="auto"&&Fe.slidesPerGroup===1&&Fe.slidesPerGroupAuto&&(ei=ei-Le.slidesPerViewDynamic("previous",!0)+1,ei=Math.max(ei,0))),Fe.rewind&&Le.isBeginning){const ni=Le.params.virtual&&Le.params.virtual.enabled&&Le.virtual?Le.virtual.slides.length-1:Le.slides.length-1;return Le.slideTo(ni,$e,_e,Te)}else if(Fe.loop&&Le.activeIndex===0&&Fe.cssMode)return requestAnimationFrame(()=>{Le.slideTo(ei,$e,_e,Te)}),!0;return Le.slideTo(ei,$e,_e,Te)}function slideReset($e,_e,Te){$e===void 0&&($e=this.params.speed),_e===void 0&&(_e=!0);const Le=this;return Le.slideTo(Le.activeIndex,$e,_e,Te)}function slideToClosest($e,_e,Te,Le){$e===void 0&&($e=this.params.speed),_e===void 0&&(_e=!0),Le===void 0&&(Le=.5);const Fe=this;let Ae=Fe.activeIndex;const Be=Math.min(Fe.params.slidesPerGroupSkip,Ae),Ie=Be+Math.floor((Ae-Be)/Fe.params.slidesPerGroup),Ne=Fe.rtlTranslate?Fe.translate:-Fe.translate;if(Ne>=Fe.snapGrid[Ie]){const ze=Fe.snapGrid[Ie],Ue=Fe.snapGrid[Ie+1];Ne-ze>(Ue-ze)*Le&&(Ae+=Fe.params.slidesPerGroup)}else{const ze=Fe.snapGrid[Ie-1],Ue=Fe.snapGrid[Ie];Ne-ze<=(Ue-ze)*Le&&(Ae-=Fe.params.slidesPerGroup)}return Ae=Math.max(Ae,0),Ae=Math.min(Ae,Fe.slidesGrid.length-1),Fe.slideTo(Ae,$e,_e,Te)}function slideToClickedSlide(){const $e=this,{params:_e,slidesEl:Te}=$e,Le=_e.slidesPerView==="auto"?$e.slidesPerViewDynamic():_e.slidesPerView;let Fe=$e.clickedIndex,Ae;const Be=$e.isElement?"swiper-slide":`.${_e.slideClass}`;if(_e.loop){if($e.animating)return;Ae=parseInt($e.clickedSlide.getAttribute("data-swiper-slide-index"),10),_e.centeredSlides?Fe<$e.loopedSlides-Le/2||Fe>$e.slides.length-$e.loopedSlides+Le/2?($e.loopFix(),Fe=$e.getSlideIndex(elementChildren(Te,`${Be}[data-swiper-slide-index="${Ae}"]`)[0]),nextTick(()=>{$e.slideTo(Fe)})):$e.slideTo(Fe):Fe>$e.slides.length-Le?($e.loopFix(),Fe=$e.getSlideIndex(elementChildren(Te,`${Be}[data-swiper-slide-index="${Ae}"]`)[0]),nextTick(()=>{$e.slideTo(Fe)})):$e.slideTo(Fe)}else $e.slideTo(Fe)}var slide={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate($e){const _e=this,{params:Te,slidesEl:Le}=_e;if(!Te.loop||_e.virtual&&_e.params.virtual.enabled)return;const Fe=()=>{elementChildren(Le,`.${Te.slideClass}, swiper-slide`).forEach((je,Ve)=>{je.setAttribute("data-swiper-slide-index",Ve)})},Ae=_e.grid&&Te.grid&&Te.grid.rows>1,Be=Te.slidesPerGroup*(Ae?Te.grid.rows:1),Ie=_e.slides.length%Be!==0,Ne=Ae&&_e.slides.length%Te.grid.rows!==0,ze=Ue=>{for(let je=0;je<Ue;je+=1){const Ve=_e.isElement?createElement$1("swiper-slide",[Te.slideBlankClass]):createElement$1("div",[Te.slideClass,Te.slideBlankClass]);_e.slidesEl.append(Ve)}};if(Ie){if(Te.loopAddBlankSlides){const Ue=Be-_e.slides.length%Be;ze(Ue),_e.recalcSlides(),_e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");Fe()}else if(Ne){if(Te.loopAddBlankSlides){const Ue=Te.grid.rows-_e.slides.length%Te.grid.rows;ze(Ue),_e.recalcSlides(),_e.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");Fe()}else Fe();_e.loopFix({slideRealIndex:$e,direction:Te.centeredSlides?void 0:"next"})}function loopFix($e){let{slideRealIndex:_e,slideTo:Te=!0,direction:Le,setTranslate:Fe,activeSlideIndex:Ae,byController:Be,byMousewheel:Ie}=$e===void 0?{}:$e;const Ne=this;if(!Ne.params.loop)return;Ne.emit("beforeLoopFix");const{slides:ze,allowSlidePrev:Ue,allowSlideNext:je,slidesEl:Ve,params:Ze}=Ne,{centeredSlides:Ke}=Ze;if(Ne.allowSlidePrev=!0,Ne.allowSlideNext=!0,Ne.virtual&&Ze.virtual.enabled){Te&&(!Ze.centeredSlides&&Ne.snapIndex===0?Ne.slideTo(Ne.virtual.slides.length,0,!1,!0):Ze.centeredSlides&&Ne.snapIndex<Ze.slidesPerView?Ne.slideTo(Ne.virtual.slides.length+Ne.snapIndex,0,!1,!0):Ne.snapIndex===Ne.snapGrid.length-1&&Ne.slideTo(Ne.virtual.slidesBefore,0,!1,!0)),Ne.allowSlidePrev=Ue,Ne.allowSlideNext=je,Ne.emit("loopFix");return}let Je=Ze.slidesPerView;Je==="auto"?Je=Ne.slidesPerViewDynamic():(Je=Math.ceil(parseFloat(Ze.slidesPerView,10)),Ke&&Je%2===0&&(Je=Je+1));const ei=Ze.slidesPerGroupAuto?Je:Ze.slidesPerGroup;let ni=ei;ni%ei!==0&&(ni+=ei-ni%ei),ni+=Ze.loopAdditionalSlides,Ne.loopedSlides=ni;const Qe=Ne.grid&&Ze.grid&&Ze.grid.rows>1;ze.length<Je+ni?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Qe&&Ze.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const ii=[],ai=[];let di=Ne.activeIndex;typeof Ae>"u"?Ae=Ne.getSlideIndex(ze.filter(Ti=>Ti.classList.contains(Ze.slideActiveClass))[0]):di=Ae;const vi=Le==="next"||!Le,bi=Le==="prev"||!Le;let xi=0,mi=0;const li=Qe?Math.ceil(ze.length/Ze.grid.rows):ze.length,Li=(Qe?ze[Ae].column:Ae)+(Ke&&typeof Fe>"u"?-Je/2+.5:0);if(Li<ni){xi=Math.max(ni-Li,ei);for(let Ti=0;Ti<ni-Li;Ti+=1){const Oi=Ti-Math.floor(Ti/li)*li;if(Qe){const Di=li-Oi-1;for(let Ri=ze.length-1;Ri>=0;Ri-=1)ze[Ri].column===Di&&ii.push(Ri)}else ii.push(li-Oi-1)}}else if(Li+Je>li-ni){mi=Math.max(Li-(li-ni*2),ei);for(let Ti=0;Ti<mi;Ti+=1){const Oi=Ti-Math.floor(Ti/li)*li;Qe?ze.forEach((Di,Ri)=>{Di.column===Oi&&ai.push(Ri)}):ai.push(Oi)}}if(Ne.__preventObserver__=!0,requestAnimationFrame(()=>{Ne.__preventObserver__=!1}),bi&&ii.forEach(Ti=>{ze[Ti].swiperLoopMoveDOM=!0,Ve.prepend(ze[Ti]),ze[Ti].swiperLoopMoveDOM=!1}),vi&&ai.forEach(Ti=>{ze[Ti].swiperLoopMoveDOM=!0,Ve.append(ze[Ti]),ze[Ti].swiperLoopMoveDOM=!1}),Ne.recalcSlides(),Ze.slidesPerView==="auto"?Ne.updateSlides():Qe&&(ii.length>0&&bi||ai.length>0&&vi)&&Ne.slides.forEach((Ti,Oi)=>{Ne.grid.updateSlide(Oi,Ti,Ne.slides)}),Ze.watchSlidesProgress&&Ne.updateSlidesOffset(),Te){if(ii.length>0&&bi){if(typeof _e>"u"){const Ti=Ne.slidesGrid[di],Di=Ne.slidesGrid[di+xi]-Ti;Ie?Ne.setTranslate(Ne.translate-Di):(Ne.slideTo(di+xi,0,!1,!0),Fe&&(Ne.touchEventsData.startTranslate=Ne.touchEventsData.startTranslate-Di,Ne.touchEventsData.currentTranslate=Ne.touchEventsData.currentTranslate-Di))}else if(Fe){const Ti=Qe?ii.length/Ze.grid.rows:ii.length;Ne.slideTo(Ne.activeIndex+Ti,0,!1,!0),Ne.touchEventsData.currentTranslate=Ne.translate}}else if(ai.length>0&&vi)if(typeof _e>"u"){const Ti=Ne.slidesGrid[di],Di=Ne.slidesGrid[di-mi]-Ti;Ie?Ne.setTranslate(Ne.translate-Di):(Ne.slideTo(di-mi,0,!1,!0),Fe&&(Ne.touchEventsData.startTranslate=Ne.touchEventsData.startTranslate-Di,Ne.touchEventsData.currentTranslate=Ne.touchEventsData.currentTranslate-Di))}else{const Ti=Qe?ai.length/Ze.grid.rows:ai.length;Ne.slideTo(Ne.activeIndex-Ti,0,!1,!0)}}if(Ne.allowSlidePrev=Ue,Ne.allowSlideNext=je,Ne.controller&&Ne.controller.control&&!Be){const Ti={slideRealIndex:_e,direction:Le,setTranslate:Fe,activeSlideIndex:Ae,byController:!0};Array.isArray(Ne.controller.control)?Ne.controller.control.forEach(Oi=>{!Oi.destroyed&&Oi.params.loop&&Oi.loopFix({...Ti,slideTo:Oi.params.slidesPerView===Ze.slidesPerView?Te:!1})}):Ne.controller.control instanceof Ne.constructor&&Ne.controller.control.params.loop&&Ne.controller.control.loopFix({...Ti,slideTo:Ne.controller.control.params.slidesPerView===Ze.slidesPerView?Te:!1})}Ne.emit("loopFix")}function loopDestroy(){const $e=this,{params:_e,slidesEl:Te}=$e;if(!_e.loop||$e.virtual&&$e.params.virtual.enabled)return;$e.recalcSlides();const Le=[];$e.slides.forEach(Fe=>{const Ae=typeof Fe.swiperSlideIndex>"u"?Fe.getAttribute("data-swiper-slide-index")*1:Fe.swiperSlideIndex;Le[Ae]=Fe}),$e.slides.forEach(Fe=>{Fe.removeAttribute("data-swiper-slide-index")}),Le.forEach(Fe=>{Te.append(Fe)}),$e.recalcSlides(),$e.slideTo($e.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor($e){const _e=this;if(!_e.params.simulateTouch||_e.params.watchOverflow&&_e.isLocked||_e.params.cssMode)return;const Te=_e.params.touchEventsTarget==="container"?_e.el:_e.wrapperEl;_e.isElement&&(_e.__preventObserver__=!0),Te.style.cursor="move",Te.style.cursor=$e?"grabbing":"grab",_e.isElement&&requestAnimationFrame(()=>{_e.__preventObserver__=!1})}function unsetGrabCursor(){const $e=this;$e.params.watchOverflow&&$e.isLocked||$e.params.cssMode||($e.isElement&&($e.__preventObserver__=!0),$e[$e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",$e.isElement&&requestAnimationFrame(()=>{$e.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement($e,_e){_e===void 0&&(_e=this);function Te(Le){if(!Le||Le===getDocument()||Le===getWindow$1())return null;Le.assignedSlot&&(Le=Le.assignedSlot);const Fe=Le.closest($e);return!Fe&&!Le.getRootNode?null:Fe||Te(Le.getRootNode().host)}return Te(_e)}function preventEdgeSwipe($e,_e,Te){const Le=getWindow$1(),{params:Fe}=$e,Ae=Fe.edgeSwipeDetection,Be=Fe.edgeSwipeThreshold;return Ae&&(Te<=Be||Te>=Le.innerWidth-Be)?Ae==="prevent"?(_e.preventDefault(),!0):!1:!0}function onTouchStart($e){const _e=this,Te=getDocument();let Le=$e;Le.originalEvent&&(Le=Le.originalEvent);const Fe=_e.touchEventsData;if(Le.type==="pointerdown"){if(Fe.pointerId!==null&&Fe.pointerId!==Le.pointerId)return;Fe.pointerId=Le.pointerId}else Le.type==="touchstart"&&Le.targetTouches.length===1&&(Fe.touchId=Le.targetTouches[0].identifier);if(Le.type==="touchstart"){preventEdgeSwipe(_e,Le,Le.targetTouches[0].pageX);return}const{params:Ae,touches:Be,enabled:Ie}=_e;if(!Ie||!Ae.simulateTouch&&Le.pointerType==="mouse"||_e.animating&&Ae.preventInteractionOnTransition)return;!_e.animating&&Ae.cssMode&&Ae.loop&&_e.loopFix();let Ne=Le.target;if(Ae.touchEventsTarget==="wrapper"&&!_e.wrapperEl.contains(Ne)||"which"in Le&&Le.which===3||"button"in Le&&Le.button>0||Fe.isTouched&&Fe.isMoved)return;const ze=!!Ae.noSwipingClass&&Ae.noSwipingClass!=="",Ue=Le.composedPath?Le.composedPath():Le.path;ze&&Le.target&&Le.target.shadowRoot&&Ue&&(Ne=Ue[0]);const je=Ae.noSwipingSelector?Ae.noSwipingSelector:`.${Ae.noSwipingClass}`,Ve=!!(Le.target&&Le.target.shadowRoot);if(Ae.noSwiping&&(Ve?closestElement(je,Ne):Ne.closest(je))){_e.allowClick=!0;return}if(Ae.swipeHandler&&!Ne.closest(Ae.swipeHandler))return;Be.currentX=Le.pageX,Be.currentY=Le.pageY;const Ze=Be.currentX,Ke=Be.currentY;if(!preventEdgeSwipe(_e,Le,Ze))return;Object.assign(Fe,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),Be.startX=Ze,Be.startY=Ke,Fe.touchStartTime=now$2(),_e.allowClick=!0,_e.updateSize(),_e.swipeDirection=void 0,Ae.threshold>0&&(Fe.allowThresholdMove=!1);let Je=!0;Ne.matches(Fe.focusableElements)&&(Je=!1,Ne.nodeName==="SELECT"&&(Fe.isTouched=!1)),Te.activeElement&&Te.activeElement.matches(Fe.focusableElements)&&Te.activeElement!==Ne&&Te.activeElement.blur();const ei=Je&&_e.allowTouchMove&&Ae.touchStartPreventDefault;(Ae.touchStartForcePreventDefault||ei)&&!Ne.isContentEditable&&Le.preventDefault(),Ae.freeMode&&Ae.freeMode.enabled&&_e.freeMode&&_e.animating&&!Ae.cssMode&&_e.freeMode.onTouchStart(),_e.emit("touchStart",Le)}function onTouchMove($e){const _e=getDocument(),Te=this,Le=Te.touchEventsData,{params:Fe,touches:Ae,rtlTranslate:Be,enabled:Ie}=Te;if(!Ie||!Fe.simulateTouch&&$e.pointerType==="mouse")return;let Ne=$e;if(Ne.originalEvent&&(Ne=Ne.originalEvent),Ne.type==="pointermove"&&(Le.touchId!==null||Ne.pointerId!==Le.pointerId))return;let ze;if(Ne.type==="touchmove"){if(ze=[...Ne.changedTouches].filter(vi=>vi.identifier===Le.touchId)[0],!ze||ze.identifier!==Le.touchId)return}else ze=Ne;if(!Le.isTouched){Le.startMoving&&Le.isScrolling&&Te.emit("touchMoveOpposite",Ne);return}const Ue=ze.pageX,je=ze.pageY;if(Ne.preventedByNestedSwiper){Ae.startX=Ue,Ae.startY=je;return}if(!Te.allowTouchMove){Ne.target.matches(Le.focusableElements)||(Te.allowClick=!1),Le.isTouched&&(Object.assign(Ae,{startX:Ue,startY:je,currentX:Ue,currentY:je}),Le.touchStartTime=now$2());return}if(Fe.touchReleaseOnEdges&&!Fe.loop){if(Te.isVertical()){if(je<Ae.startY&&Te.translate<=Te.maxTranslate()||je>Ae.startY&&Te.translate>=Te.minTranslate()){Le.isTouched=!1,Le.isMoved=!1;return}}else if(Ue<Ae.startX&&Te.translate<=Te.maxTranslate()||Ue>Ae.startX&&Te.translate>=Te.minTranslate())return}if(_e.activeElement&&Ne.target===_e.activeElement&&Ne.target.matches(Le.focusableElements)){Le.isMoved=!0,Te.allowClick=!1;return}Le.allowTouchCallbacks&&Te.emit("touchMove",Ne),Ae.previousX=Ae.currentX,Ae.previousY=Ae.currentY,Ae.currentX=Ue,Ae.currentY=je;const Ve=Ae.currentX-Ae.startX,Ze=Ae.currentY-Ae.startY;if(Te.params.threshold&&Math.sqrt(Ve**2+Ze**2)<Te.params.threshold)return;if(typeof Le.isScrolling>"u"){let vi;Te.isHorizontal()&&Ae.currentY===Ae.startY||Te.isVertical()&&Ae.currentX===Ae.startX?Le.isScrolling=!1:Ve*Ve+Ze*Ze>=25&&(vi=Math.atan2(Math.abs(Ze),Math.abs(Ve))*180/Math.PI,Le.isScrolling=Te.isHorizontal()?vi>Fe.touchAngle:90-vi>Fe.touchAngle)}if(Le.isScrolling&&Te.emit("touchMoveOpposite",Ne),typeof Le.startMoving>"u"&&(Ae.currentX!==Ae.startX||Ae.currentY!==Ae.startY)&&(Le.startMoving=!0),Le.isScrolling){Le.isTouched=!1;return}if(!Le.startMoving)return;Te.allowClick=!1,!Fe.cssMode&&Ne.cancelable&&Ne.preventDefault(),Fe.touchMoveStopPropagation&&!Fe.nested&&Ne.stopPropagation();let Ke=Te.isHorizontal()?Ve:Ze,Je=Te.isHorizontal()?Ae.currentX-Ae.previousX:Ae.currentY-Ae.previousY;Fe.oneWayMovement&&(Ke=Math.abs(Ke)*(Be?1:-1),Je=Math.abs(Je)*(Be?1:-1)),Ae.diff=Ke,Ke*=Fe.touchRatio,Be&&(Ke=-Ke,Je=-Je);const ei=Te.touchesDirection;Te.swipeDirection=Ke>0?"prev":"next",Te.touchesDirection=Je>0?"prev":"next";const ni=Te.params.loop&&!Fe.cssMode,Qe=Te.touchesDirection==="next"&&Te.allowSlideNext||Te.touchesDirection==="prev"&&Te.allowSlidePrev;if(!Le.isMoved){if(ni&&Qe&&Te.loopFix({direction:Te.swipeDirection}),Le.startTranslate=Te.getTranslate(),Te.setTransition(0),Te.animating){const vi=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});Te.wrapperEl.dispatchEvent(vi)}Le.allowMomentumBounce=!1,Fe.grabCursor&&(Te.allowSlideNext===!0||Te.allowSlidePrev===!0)&&Te.setGrabCursor(!0),Te.emit("sliderFirstMove",Ne)}let ii;if(new Date().getTime(),Le.isMoved&&Le.allowThresholdMove&&ei!==Te.touchesDirection&&ni&&Qe&&Math.abs(Ke)>=1){Object.assign(Ae,{startX:Ue,startY:je,currentX:Ue,currentY:je,startTranslate:Le.currentTranslate}),Le.loopSwapReset=!0,Le.startTranslate=Le.currentTranslate;return}Te.emit("sliderMove",Ne),Le.isMoved=!0,Le.currentTranslate=Ke+Le.startTranslate;let ai=!0,di=Fe.resistanceRatio;if(Fe.touchReleaseOnEdges&&(di=0),Ke>0?(ni&&Qe&&!ii&&Le.allowThresholdMove&&Le.currentTranslate>(Fe.centeredSlides?Te.minTranslate()-Te.slidesSizesGrid[Te.activeIndex+1]:Te.minTranslate())&&Te.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),Le.currentTranslate>Te.minTranslate()&&(ai=!1,Fe.resistance&&(Le.currentTranslate=Te.minTranslate()-1+(-Te.minTranslate()+Le.startTranslate+Ke)**di))):Ke<0&&(ni&&Qe&&!ii&&Le.allowThresholdMove&&Le.currentTranslate<(Fe.centeredSlides?Te.maxTranslate()+Te.slidesSizesGrid[Te.slidesSizesGrid.length-1]:Te.maxTranslate())&&Te.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:Te.slides.length-(Fe.slidesPerView==="auto"?Te.slidesPerViewDynamic():Math.ceil(parseFloat(Fe.slidesPerView,10)))}),Le.currentTranslate<Te.maxTranslate()&&(ai=!1,Fe.resistance&&(Le.currentTranslate=Te.maxTranslate()+1-(Te.maxTranslate()-Le.startTranslate-Ke)**di))),ai&&(Ne.preventedByNestedSwiper=!0),!Te.allowSlideNext&&Te.swipeDirection==="next"&&Le.currentTranslate<Le.startTranslate&&(Le.currentTranslate=Le.startTranslate),!Te.allowSlidePrev&&Te.swipeDirection==="prev"&&Le.currentTranslate>Le.startTranslate&&(Le.currentTranslate=Le.startTranslate),!Te.allowSlidePrev&&!Te.allowSlideNext&&(Le.currentTranslate=Le.startTranslate),Fe.threshold>0)if(Math.abs(Ke)>Fe.threshold||Le.allowThresholdMove){if(!Le.allowThresholdMove){Le.allowThresholdMove=!0,Ae.startX=Ae.currentX,Ae.startY=Ae.currentY,Le.currentTranslate=Le.startTranslate,Ae.diff=Te.isHorizontal()?Ae.currentX-Ae.startX:Ae.currentY-Ae.startY;return}}else{Le.currentTranslate=Le.startTranslate;return}!Fe.followFinger||Fe.cssMode||((Fe.freeMode&&Fe.freeMode.enabled&&Te.freeMode||Fe.watchSlidesProgress)&&(Te.updateActiveIndex(),Te.updateSlidesClasses()),Fe.freeMode&&Fe.freeMode.enabled&&Te.freeMode&&Te.freeMode.onTouchMove(),Te.updateProgress(Le.currentTranslate),Te.setTranslate(Le.currentTranslate))}function onTouchEnd($e){const _e=this,Te=_e.touchEventsData;let Le=$e;Le.originalEvent&&(Le=Le.originalEvent);let Fe;if(Le.type==="touchend"||Le.type==="touchcancel"){if(Fe=[...Le.changedTouches].filter(di=>di.identifier===Te.touchId)[0],!Fe||Fe.identifier!==Te.touchId)return}else{if(Te.touchId!==null||Le.pointerId!==Te.pointerId)return;Fe=Le}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(Le.type)&&!(["pointercancel","contextmenu"].includes(Le.type)&&(_e.browser.isSafari||_e.browser.isWebView)))return;Te.pointerId=null,Te.touchId=null;const{params:Be,touches:Ie,rtlTranslate:Ne,slidesGrid:ze,enabled:Ue}=_e;if(!Ue||!Be.simulateTouch&&Le.pointerType==="mouse")return;if(Te.allowTouchCallbacks&&_e.emit("touchEnd",Le),Te.allowTouchCallbacks=!1,!Te.isTouched){Te.isMoved&&Be.grabCursor&&_e.setGrabCursor(!1),Te.isMoved=!1,Te.startMoving=!1;return}Be.grabCursor&&Te.isMoved&&Te.isTouched&&(_e.allowSlideNext===!0||_e.allowSlidePrev===!0)&&_e.setGrabCursor(!1);const je=now$2(),Ve=je-Te.touchStartTime;if(_e.allowClick){const di=Le.path||Le.composedPath&&Le.composedPath();_e.updateClickedSlide(di&&di[0]||Le.target,di),_e.emit("tap click",Le),Ve<300&&je-Te.lastClickTime<300&&_e.emit("doubleTap doubleClick",Le)}if(Te.lastClickTime=now$2(),nextTick(()=>{_e.destroyed||(_e.allowClick=!0)}),!Te.isTouched||!Te.isMoved||!_e.swipeDirection||Ie.diff===0&&!Te.loopSwapReset||Te.currentTranslate===Te.startTranslate&&!Te.loopSwapReset){Te.isTouched=!1,Te.isMoved=!1,Te.startMoving=!1;return}Te.isTouched=!1,Te.isMoved=!1,Te.startMoving=!1;let Ze;if(Be.followFinger?Ze=Ne?_e.translate:-_e.translate:Ze=-Te.currentTranslate,Be.cssMode)return;if(Be.freeMode&&Be.freeMode.enabled){_e.freeMode.onTouchEnd({currentPos:Ze});return}const Ke=Ze>=-_e.maxTranslate()&&!_e.params.loop;let Je=0,ei=_e.slidesSizesGrid[0];for(let di=0;di<ze.length;di+=di<Be.slidesPerGroupSkip?1:Be.slidesPerGroup){const vi=di<Be.slidesPerGroupSkip-1?1:Be.slidesPerGroup;typeof ze[di+vi]<"u"?(Ke||Ze>=ze[di]&&Ze<ze[di+vi])&&(Je=di,ei=ze[di+vi]-ze[di]):(Ke||Ze>=ze[di])&&(Je=di,ei=ze[ze.length-1]-ze[ze.length-2])}let ni=null,Qe=null;Be.rewind&&(_e.isBeginning?Qe=Be.virtual&&Be.virtual.enabled&&_e.virtual?_e.virtual.slides.length-1:_e.slides.length-1:_e.isEnd&&(ni=0));const ii=(Ze-ze[Je])/ei,ai=Je<Be.slidesPerGroupSkip-1?1:Be.slidesPerGroup;if(Ve>Be.longSwipesMs){if(!Be.longSwipes){_e.slideTo(_e.activeIndex);return}_e.swipeDirection==="next"&&(ii>=Be.longSwipesRatio?_e.slideTo(Be.rewind&&_e.isEnd?ni:Je+ai):_e.slideTo(Je)),_e.swipeDirection==="prev"&&(ii>1-Be.longSwipesRatio?_e.slideTo(Je+ai):Qe!==null&&ii<0&&Math.abs(ii)>Be.longSwipesRatio?_e.slideTo(Qe):_e.slideTo(Je))}else{if(!Be.shortSwipes){_e.slideTo(_e.activeIndex);return}_e.navigation&&(Le.target===_e.navigation.nextEl||Le.target===_e.navigation.prevEl)?Le.target===_e.navigation.nextEl?_e.slideTo(Je+ai):_e.slideTo(Je):(_e.swipeDirection==="next"&&_e.slideTo(ni!==null?ni:Je+ai),_e.swipeDirection==="prev"&&_e.slideTo(Qe!==null?Qe:Je))}}function onResize(){const $e=this,{params:_e,el:Te}=$e;if(Te&&Te.offsetWidth===0)return;_e.breakpoints&&$e.setBreakpoint();const{allowSlideNext:Le,allowSlidePrev:Fe,snapGrid:Ae}=$e,Be=$e.virtual&&$e.params.virtual.enabled;$e.allowSlideNext=!0,$e.allowSlidePrev=!0,$e.updateSize(),$e.updateSlides(),$e.updateSlidesClasses();const Ie=Be&&_e.loop;(_e.slidesPerView==="auto"||_e.slidesPerView>1)&&$e.isEnd&&!$e.isBeginning&&!$e.params.centeredSlides&&!Ie?$e.slideTo($e.slides.length-1,0,!1,!0):$e.params.loop&&!Be?$e.slideToLoop($e.realIndex,0,!1,!0):$e.slideTo($e.activeIndex,0,!1,!0),$e.autoplay&&$e.autoplay.running&&$e.autoplay.paused&&(clearTimeout($e.autoplay.resizeTimeout),$e.autoplay.resizeTimeout=setTimeout(()=>{$e.autoplay&&$e.autoplay.running&&$e.autoplay.paused&&$e.autoplay.resume()},500)),$e.allowSlidePrev=Fe,$e.allowSlideNext=Le,$e.params.watchOverflow&&Ae!==$e.snapGrid&&$e.checkOverflow()}function onClick($e){const _e=this;_e.enabled&&(_e.allowClick||(_e.params.preventClicks&&$e.preventDefault(),_e.params.preventClicksPropagation&&_e.animating&&($e.stopPropagation(),$e.stopImmediatePropagation())))}function onScroll(){const $e=this,{wrapperEl:_e,rtlTranslate:Te,enabled:Le}=$e;if(!Le)return;$e.previousTranslate=$e.translate,$e.isHorizontal()?$e.translate=-_e.scrollLeft:$e.translate=-_e.scrollTop,$e.translate===0&&($e.translate=0),$e.updateActiveIndex(),$e.updateSlidesClasses();let Fe;const Ae=$e.maxTranslate()-$e.minTranslate();Ae===0?Fe=0:Fe=($e.translate-$e.minTranslate())/Ae,Fe!==$e.progress&&$e.updateProgress(Te?-$e.translate:$e.translate),$e.emit("setTranslate",$e.translate,!1)}function onLoad($e){const _e=this;processLazyPreloader(_e,$e.target),!(_e.params.cssMode||_e.params.slidesPerView!=="auto"&&!_e.params.autoHeight)&&_e.update()}function onDocumentTouchStart(){const $e=this;$e.documentTouchHandlerProceeded||($e.documentTouchHandlerProceeded=!0,$e.params.touchReleaseOnEdges&&($e.el.style.touchAction="auto"))}const events=($e,_e)=>{const Te=getDocument(),{params:Le,el:Fe,wrapperEl:Ae,device:Be}=$e,Ie=!!Le.nested,Ne=_e==="on"?"addEventListener":"removeEventListener",ze=_e;Te[Ne]("touchstart",$e.onDocumentTouchStart,{passive:!1,capture:Ie}),Fe[Ne]("touchstart",$e.onTouchStart,{passive:!1}),Fe[Ne]("pointerdown",$e.onTouchStart,{passive:!1}),Te[Ne]("touchmove",$e.onTouchMove,{passive:!1,capture:Ie}),Te[Ne]("pointermove",$e.onTouchMove,{passive:!1,capture:Ie}),Te[Ne]("touchend",$e.onTouchEnd,{passive:!0}),Te[Ne]("pointerup",$e.onTouchEnd,{passive:!0}),Te[Ne]("pointercancel",$e.onTouchEnd,{passive:!0}),Te[Ne]("touchcancel",$e.onTouchEnd,{passive:!0}),Te[Ne]("pointerout",$e.onTouchEnd,{passive:!0}),Te[Ne]("pointerleave",$e.onTouchEnd,{passive:!0}),Te[Ne]("contextmenu",$e.onTouchEnd,{passive:!0}),(Le.preventClicks||Le.preventClicksPropagation)&&Fe[Ne]("click",$e.onClick,!0),Le.cssMode&&Ae[Ne]("scroll",$e.onScroll),Le.updateOnWindowResize?$e[ze](Be.ios||Be.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):$e[ze]("observerUpdate",onResize,!0),Fe[Ne]("load",$e.onLoad,{capture:!0})};function attachEvents(){const $e=this,{params:_e}=$e;$e.onTouchStart=onTouchStart.bind($e),$e.onTouchMove=onTouchMove.bind($e),$e.onTouchEnd=onTouchEnd.bind($e),$e.onDocumentTouchStart=onDocumentTouchStart.bind($e),_e.cssMode&&($e.onScroll=onScroll.bind($e)),$e.onClick=onClick.bind($e),$e.onLoad=onLoad.bind($e),events($e,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=($e,_e)=>$e.grid&&_e.grid&&_e.grid.rows>1;function setBreakpoint(){const $e=this,{realIndex:_e,initialized:Te,params:Le,el:Fe}=$e,Ae=Le.breakpoints;if(!Ae||Ae&&Object.keys(Ae).length===0)return;const Be=$e.getBreakpoint(Ae,$e.params.breakpointsBase,$e.el);if(!Be||$e.currentBreakpoint===Be)return;const Ne=(Be in Ae?Ae[Be]:void 0)||$e.originalParams,ze=isGridEnabled($e,Le),Ue=isGridEnabled($e,Ne),je=Le.enabled;ze&&!Ue?(Fe.classList.remove(`${Le.containerModifierClass}grid`,`${Le.containerModifierClass}grid-column`),$e.emitContainerClasses()):!ze&&Ue&&(Fe.classList.add(`${Le.containerModifierClass}grid`),(Ne.grid.fill&&Ne.grid.fill==="column"||!Ne.grid.fill&&Le.grid.fill==="column")&&Fe.classList.add(`${Le.containerModifierClass}grid-column`),$e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(ni=>{if(typeof Ne[ni]>"u")return;const Qe=Le[ni]&&Le[ni].enabled,ii=Ne[ni]&&Ne[ni].enabled;Qe&&!ii&&$e[ni].disable(),!Qe&&ii&&$e[ni].enable()});const Ve=Ne.direction&&Ne.direction!==Le.direction,Ze=Le.loop&&(Ne.slidesPerView!==Le.slidesPerView||Ve),Ke=Le.loop;Ve&&Te&&$e.changeDirection(),extend$1($e.params,Ne);const Je=$e.params.enabled,ei=$e.params.loop;Object.assign($e,{allowTouchMove:$e.params.allowTouchMove,allowSlideNext:$e.params.allowSlideNext,allowSlidePrev:$e.params.allowSlidePrev}),je&&!Je?$e.disable():!je&&Je&&$e.enable(),$e.currentBreakpoint=Be,$e.emit("_beforeBreakpoint",Ne),Te&&(Ze?($e.loopDestroy(),$e.loopCreate(_e),$e.updateSlides()):!Ke&&ei?($e.loopCreate(_e),$e.updateSlides()):Ke&&!ei&&$e.loopDestroy()),$e.emit("breakpoint",Ne)}function getBreakpoint($e,_e,Te){if(_e===void 0&&(_e="window"),!$e||_e==="container"&&!Te)return;let Le=!1;const Fe=getWindow$1(),Ae=_e==="window"?Fe.innerHeight:Te.clientHeight,Be=Object.keys($e).map(Ie=>{if(typeof Ie=="string"&&Ie.indexOf("@")===0){const Ne=parseFloat(Ie.substr(1));return{value:Ae*Ne,point:Ie}}return{value:Ie,point:Ie}});Be.sort((Ie,Ne)=>parseInt(Ie.value,10)-parseInt(Ne.value,10));for(let Ie=0;Ie<Be.length;Ie+=1){const{point:Ne,value:ze}=Be[Ie];_e==="window"?Fe.matchMedia(`(min-width: ${ze}px)`).matches&&(Le=Ne):ze<=Te.clientWidth&&(Le=Ne)}return Le||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses($e,_e){const Te=[];return $e.forEach(Le=>{typeof Le=="object"?Object.keys(Le).forEach(Fe=>{Le[Fe]&&Te.push(_e+Fe)}):typeof Le=="string"&&Te.push(_e+Le)}),Te}function addClasses(){const $e=this,{classNames:_e,params:Te,rtl:Le,el:Fe,device:Ae}=$e,Be=prepareClasses(["initialized",Te.direction,{"free-mode":$e.params.freeMode&&Te.freeMode.enabled},{autoheight:Te.autoHeight},{rtl:Le},{grid:Te.grid&&Te.grid.rows>1},{"grid-column":Te.grid&&Te.grid.rows>1&&Te.grid.fill==="column"},{android:Ae.android},{ios:Ae.ios},{"css-mode":Te.cssMode},{centered:Te.cssMode&&Te.centeredSlides},{"watch-progress":Te.watchSlidesProgress}],Te.containerModifierClass);_e.push(...Be),Fe.classList.add(..._e),$e.emitContainerClasses()}function removeClasses(){const $e=this,{el:_e,classNames:Te}=$e;_e.classList.remove(...Te),$e.emitContainerClasses()}var classes={addClasses,removeClasses};function checkOverflow(){const $e=this,{isLocked:_e,params:Te}=$e,{slidesOffsetBefore:Le}=Te;if(Le){const Fe=$e.slides.length-1,Ae=$e.slidesGrid[Fe]+$e.slidesSizesGrid[Fe]+Le*2;$e.isLocked=$e.size>Ae}else $e.isLocked=$e.snapGrid.length===1;Te.allowSlideNext===!0&&($e.allowSlideNext=!$e.isLocked),Te.allowSlidePrev===!0&&($e.allowSlidePrev=!$e.isLocked),_e&&_e!==$e.isLocked&&($e.isEnd=!1),_e!==$e.isLocked&&$e.emit($e.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$2={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams($e,_e){return function(Le){Le===void 0&&(Le={});const Fe=Object.keys(Le)[0],Ae=Le[Fe];if(typeof Ae!="object"||Ae===null){extend$1(_e,Le);return}if($e[Fe]===!0&&($e[Fe]={enabled:!0}),Fe==="navigation"&&$e[Fe]&&$e[Fe].enabled&&!$e[Fe].prevEl&&!$e[Fe].nextEl&&($e[Fe].auto=!0),["pagination","scrollbar"].indexOf(Fe)>=0&&$e[Fe]&&$e[Fe].enabled&&!$e[Fe].el&&($e[Fe].auto=!0),!(Fe in $e&&"enabled"in Ae)){extend$1(_e,Le);return}typeof $e[Fe]=="object"&&!("enabled"in $e[Fe])&&($e[Fe].enabled=!0),$e[Fe]||($e[Fe]={enabled:!1}),extend$1(_e,Le)}}const prototypes={eventsEmitter,update,translate,transition,slide,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};class Swiper{constructor(){let _e,Te;for(var Le=arguments.length,Fe=new Array(Le),Ae=0;Ae<Le;Ae++)Fe[Ae]=arguments[Ae];Fe.length===1&&Fe[0].constructor&&Object.prototype.toString.call(Fe[0]).slice(8,-1)==="Object"?Te=Fe[0]:[_e,Te]=Fe,Te||(Te={}),Te=extend$1({},Te),_e&&!Te.el&&(Te.el=_e);const Be=getDocument();if(Te.el&&typeof Te.el=="string"&&Be.querySelectorAll(Te.el).length>1){const Ue=[];return Be.querySelectorAll(Te.el).forEach(je=>{const Ve=extend$1({},Te,{el:je});Ue.push(new Swiper(Ve))}),Ue}const Ie=this;Ie.__swiper__=!0,Ie.support=getSupport(),Ie.device=getDevice({userAgent:Te.userAgent}),Ie.browser=getBrowser(),Ie.eventsListeners={},Ie.eventsAnyListeners=[],Ie.modules=[...Ie.__modules__],Te.modules&&Array.isArray(Te.modules)&&Ie.modules.push(...Te.modules);const Ne={};Ie.modules.forEach(Ue=>{Ue({params:Te,swiper:Ie,extendParams:moduleExtendParams(Te,Ne),on:Ie.on.bind(Ie),once:Ie.once.bind(Ie),off:Ie.off.bind(Ie),emit:Ie.emit.bind(Ie)})});const ze=extend$1({},defaults$2,Ne);return Ie.params=extend$1({},ze,extendedDefaults,Te),Ie.originalParams=extend$1({},Ie.params),Ie.passedParams=extend$1({},Te),Ie.params&&Ie.params.on&&Object.keys(Ie.params.on).forEach(Ue=>{Ie.on(Ue,Ie.params.on[Ue])}),Ie.params&&Ie.params.onAny&&Ie.onAny(Ie.params.onAny),Object.assign(Ie,{enabled:Ie.params.enabled,el:_e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return Ie.params.direction==="horizontal"},isVertical(){return Ie.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:Ie.params.allowSlideNext,allowSlidePrev:Ie.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:Ie.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:Ie.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),Ie.emit("_swiper"),Ie.params.init&&Ie.init(),Ie}getDirectionLabel(_e){return this.isHorizontal()?_e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[_e]}getSlideIndex(_e){const{slidesEl:Te,params:Le}=this,Fe=elementChildren(Te,`.${Le.slideClass}, swiper-slide`),Ae=elementIndex(Fe[0]);return elementIndex(_e)-Ae}getSlideIndexByData(_e){return this.getSlideIndex(this.slides.filter(Te=>Te.getAttribute("data-swiper-slide-index")*1===_e)[0])}recalcSlides(){const _e=this,{slidesEl:Te,params:Le}=_e;_e.slides=elementChildren(Te,`.${Le.slideClass}, swiper-slide`)}enable(){const _e=this;_e.enabled||(_e.enabled=!0,_e.params.grabCursor&&_e.setGrabCursor(),_e.emit("enable"))}disable(){const _e=this;_e.enabled&&(_e.enabled=!1,_e.params.grabCursor&&_e.unsetGrabCursor(),_e.emit("disable"))}setProgress(_e,Te){const Le=this;_e=Math.min(Math.max(_e,0),1);const Fe=Le.minTranslate(),Be=(Le.maxTranslate()-Fe)*_e+Fe;Le.translateTo(Be,typeof Te>"u"?0:Te),Le.updateActiveIndex(),Le.updateSlidesClasses()}emitContainerClasses(){const _e=this;if(!_e.params._emitClasses||!_e.el)return;const Te=_e.el.className.split(" ").filter(Le=>Le.indexOf("swiper")===0||Le.indexOf(_e.params.containerModifierClass)===0);_e.emit("_containerClasses",Te.join(" "))}getSlideClasses(_e){const Te=this;return Te.destroyed?"":_e.className.split(" ").filter(Le=>Le.indexOf("swiper-slide")===0||Le.indexOf(Te.params.slideClass)===0).join(" ")}emitSlidesClasses(){const _e=this;if(!_e.params._emitClasses||!_e.el)return;const Te=[];_e.slides.forEach(Le=>{const Fe=_e.getSlideClasses(Le);Te.push({slideEl:Le,classNames:Fe}),_e.emit("_slideClass",Le,Fe)}),_e.emit("_slideClasses",Te)}slidesPerViewDynamic(_e,Te){_e===void 0&&(_e="current"),Te===void 0&&(Te=!1);const Le=this,{params:Fe,slides:Ae,slidesGrid:Be,slidesSizesGrid:Ie,size:Ne,activeIndex:ze}=Le;let Ue=1;if(typeof Fe.slidesPerView=="number")return Fe.slidesPerView;if(Fe.centeredSlides){let je=Ae[ze]?Ae[ze].swiperSlideSize:0,Ve;for(let Ze=ze+1;Ze<Ae.length;Ze+=1)Ae[Ze]&&!Ve&&(je+=Ae[Ze].swiperSlideSize,Ue+=1,je>Ne&&(Ve=!0));for(let Ze=ze-1;Ze>=0;Ze-=1)Ae[Ze]&&!Ve&&(je+=Ae[Ze].swiperSlideSize,Ue+=1,je>Ne&&(Ve=!0))}else if(_e==="current")for(let je=ze+1;je<Ae.length;je+=1)(Te?Be[je]+Ie[je]-Be[ze]<Ne:Be[je]-Be[ze]<Ne)&&(Ue+=1);else for(let je=ze-1;je>=0;je-=1)Be[ze]-Be[je]<Ne&&(Ue+=1);return Ue}update(){const _e=this;if(!_e||_e.destroyed)return;const{snapGrid:Te,params:Le}=_e;Le.breakpoints&&_e.setBreakpoint(),[..._e.el.querySelectorAll('[loading="lazy"]')].forEach(Be=>{Be.complete&&processLazyPreloader(_e,Be)}),_e.updateSize(),_e.updateSlides(),_e.updateProgress(),_e.updateSlidesClasses();function Fe(){const Be=_e.rtlTranslate?_e.translate*-1:_e.translate,Ie=Math.min(Math.max(Be,_e.maxTranslate()),_e.minTranslate());_e.setTranslate(Ie),_e.updateActiveIndex(),_e.updateSlidesClasses()}let Ae;if(Le.freeMode&&Le.freeMode.enabled&&!Le.cssMode)Fe(),Le.autoHeight&&_e.updateAutoHeight();else{if((Le.slidesPerView==="auto"||Le.slidesPerView>1)&&_e.isEnd&&!Le.centeredSlides){const Be=_e.virtual&&Le.virtual.enabled?_e.virtual.slides:_e.slides;Ae=_e.slideTo(Be.length-1,0,!1,!0)}else Ae=_e.slideTo(_e.activeIndex,0,!1,!0);Ae||Fe()}Le.watchOverflow&&Te!==_e.snapGrid&&_e.checkOverflow(),_e.emit("update")}changeDirection(_e,Te){Te===void 0&&(Te=!0);const Le=this,Fe=Le.params.direction;return _e||(_e=Fe==="horizontal"?"vertical":"horizontal"),_e===Fe||_e!=="horizontal"&&_e!=="vertical"||(Le.el.classList.remove(`${Le.params.containerModifierClass}${Fe}`),Le.el.classList.add(`${Le.params.containerModifierClass}${_e}`),Le.emitContainerClasses(),Le.params.direction=_e,Le.slides.forEach(Ae=>{_e==="vertical"?Ae.style.width="":Ae.style.height=""}),Le.emit("changeDirection"),Te&&Le.update()),Le}changeLanguageDirection(_e){const Te=this;Te.rtl&&_e==="rtl"||!Te.rtl&&_e==="ltr"||(Te.rtl=_e==="rtl",Te.rtlTranslate=Te.params.direction==="horizontal"&&Te.rtl,Te.rtl?(Te.el.classList.add(`${Te.params.containerModifierClass}rtl`),Te.el.dir="rtl"):(Te.el.classList.remove(`${Te.params.containerModifierClass}rtl`),Te.el.dir="ltr"),Te.update())}mount(_e){const Te=this;if(Te.mounted)return!0;let Le=_e||Te.params.el;if(typeof Le=="string"&&(Le=document.querySelector(Le)),!Le)return!1;Le.swiper=Te,Le.parentNode&&Le.parentNode.host&&Le.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(Te.isElement=!0);const Fe=()=>`.${(Te.params.wrapperClass||"").trim().split(" ").join(".")}`;let Be=Le&&Le.shadowRoot&&Le.shadowRoot.querySelector?Le.shadowRoot.querySelector(Fe()):elementChildren(Le,Fe())[0];return!Be&&Te.params.createElements&&(Be=createElement$1("div",Te.params.wrapperClass),Le.append(Be),elementChildren(Le,`.${Te.params.slideClass}`).forEach(Ie=>{Be.append(Ie)})),Object.assign(Te,{el:Le,wrapperEl:Be,slidesEl:Te.isElement&&!Le.parentNode.host.slideSlots?Le.parentNode.host:Be,hostEl:Te.isElement?Le.parentNode.host:Le,mounted:!0,rtl:Le.dir.toLowerCase()==="rtl"||elementStyle(Le,"direction")==="rtl",rtlTranslate:Te.params.direction==="horizontal"&&(Le.dir.toLowerCase()==="rtl"||elementStyle(Le,"direction")==="rtl"),wrongRTL:elementStyle(Be,"display")==="-webkit-box"}),!0}init(_e){const Te=this;if(Te.initialized||Te.mount(_e)===!1)return Te;Te.emit("beforeInit"),Te.params.breakpoints&&Te.setBreakpoint(),Te.addClasses(),Te.updateSize(),Te.updateSlides(),Te.params.watchOverflow&&Te.checkOverflow(),Te.params.grabCursor&&Te.enabled&&Te.setGrabCursor(),Te.params.loop&&Te.virtual&&Te.params.virtual.enabled?Te.slideTo(Te.params.initialSlide+Te.virtual.slidesBefore,0,Te.params.runCallbacksOnInit,!1,!0):Te.slideTo(Te.params.initialSlide,0,Te.params.runCallbacksOnInit,!1,!0),Te.params.loop&&Te.loopCreate(),Te.attachEvents();const Fe=[...Te.el.querySelectorAll('[loading="lazy"]')];return Te.isElement&&Fe.push(...Te.hostEl.querySelectorAll('[loading="lazy"]')),Fe.forEach(Ae=>{Ae.complete?processLazyPreloader(Te,Ae):Ae.addEventListener("load",Be=>{processLazyPreloader(Te,Be.target)})}),preload(Te),Te.initialized=!0,preload(Te),Te.emit("init"),Te.emit("afterInit"),Te}destroy(_e,Te){_e===void 0&&(_e=!0),Te===void 0&&(Te=!0);const Le=this,{params:Fe,el:Ae,wrapperEl:Be,slides:Ie}=Le;return typeof Le.params>"u"||Le.destroyed||(Le.emit("beforeDestroy"),Le.initialized=!1,Le.detachEvents(),Fe.loop&&Le.loopDestroy(),Te&&(Le.removeClasses(),Ae.removeAttribute("style"),Be.removeAttribute("style"),Ie&&Ie.length&&Ie.forEach(Ne=>{Ne.classList.remove(Fe.slideVisibleClass,Fe.slideFullyVisibleClass,Fe.slideActiveClass,Fe.slideNextClass,Fe.slidePrevClass),Ne.removeAttribute("style"),Ne.removeAttribute("data-swiper-slide-index")})),Le.emit("destroy"),Object.keys(Le.eventsListeners).forEach(Ne=>{Le.off(Ne)}),_e!==!1&&(Le.el.swiper=null,deleteProps(Le)),Le.destroyed=!0),null}static extendDefaults(_e){extend$1(extendedDefaults,_e)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$2}static installModule(_e){Swiper.prototype.__modules__||(Swiper.prototype.__modules__=[]);const Te=Swiper.prototype.__modules__;typeof _e=="function"&&Te.indexOf(_e)<0&&Te.push(_e)}static use(_e){return Array.isArray(_e)?(_e.forEach(Te=>Swiper.installModule(Te)),Swiper):(Swiper.installModule(_e),Swiper)}}Object.keys(prototypes).forEach($e=>{Object.keys(prototypes[$e]).forEach(_e=>{Swiper.prototype[_e]=prototypes[$e][_e]})});Swiper.use([Resize,Observer]);function createElementIfNotDefined($e,_e,Te,Le){return $e.params.createElements&&Object.keys(Le).forEach(Fe=>{if(!Te[Fe]&&Te.auto===!0){let Ae=elementChildren($e.el,`.${Le[Fe]}`)[0];Ae||(Ae=createElement$1("div",Le[Fe]),Ae.className=Le[Fe],$e.el.append(Ae)),Te[Fe]=Ae,_e[Fe]=Ae}}),Te}function Navigation($e){let{swiper:_e,extendParams:Te,on:Le,emit:Fe}=$e;Te({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),_e.navigation={nextEl:null,prevEl:null};const Ae=Je=>(Array.isArray(Je)?Je:[Je]).filter(ei=>!!ei);function Be(Je){let ei;return Je&&typeof Je=="string"&&_e.isElement&&(ei=_e.el.querySelector(Je),ei)?ei:(Je&&(typeof Je=="string"&&(ei=[...document.querySelectorAll(Je)]),_e.params.uniqueNavElements&&typeof Je=="string"&&ei.length>1&&_e.el.querySelectorAll(Je).length===1&&(ei=_e.el.querySelector(Je))),Je&&!ei?Je:ei)}function Ie(Je,ei){const ni=_e.params.navigation;Je=Ae(Je),Je.forEach(Qe=>{Qe&&(Qe.classList[ei?"add":"remove"](...ni.disabledClass.split(" ")),Qe.tagName==="BUTTON"&&(Qe.disabled=ei),_e.params.watchOverflow&&_e.enabled&&Qe.classList[_e.isLocked?"add":"remove"](ni.lockClass))})}function Ne(){const{nextEl:Je,prevEl:ei}=_e.navigation;if(_e.params.loop){Ie(ei,!1),Ie(Je,!1);return}Ie(ei,_e.isBeginning&&!_e.params.rewind),Ie(Je,_e.isEnd&&!_e.params.rewind)}function ze(Je){Je.preventDefault(),!(_e.isBeginning&&!_e.params.loop&&!_e.params.rewind)&&(_e.slidePrev(),Fe("navigationPrev"))}function Ue(Je){Je.preventDefault(),!(_e.isEnd&&!_e.params.loop&&!_e.params.rewind)&&(_e.slideNext(),Fe("navigationNext"))}function je(){const Je=_e.params.navigation;if(_e.params.navigation=createElementIfNotDefined(_e,_e.originalParams.navigation,_e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(Je.nextEl||Je.prevEl))return;let ei=Be(Je.nextEl),ni=Be(Je.prevEl);Object.assign(_e.navigation,{nextEl:ei,prevEl:ni}),ei=Ae(ei),ni=Ae(ni);const Qe=(ii,ai)=>{ii&&ii.addEventListener("click",ai==="next"?Ue:ze),!_e.enabled&&ii&&ii.classList.add(...Je.lockClass.split(" "))};ei.forEach(ii=>Qe(ii,"next")),ni.forEach(ii=>Qe(ii,"prev"))}function Ve(){let{nextEl:Je,prevEl:ei}=_e.navigation;Je=Ae(Je),ei=Ae(ei);const ni=(Qe,ii)=>{Qe.removeEventListener("click",ii==="next"?Ue:ze),Qe.classList.remove(..._e.params.navigation.disabledClass.split(" "))};Je.forEach(Qe=>ni(Qe,"next")),ei.forEach(Qe=>ni(Qe,"prev"))}Le("init",()=>{_e.params.navigation.enabled===!1?Ke():(je(),Ne())}),Le("toEdge fromEdge lock unlock",()=>{Ne()}),Le("destroy",()=>{Ve()}),Le("enable disable",()=>{let{nextEl:Je,prevEl:ei}=_e.navigation;if(Je=Ae(Je),ei=Ae(ei),_e.enabled){Ne();return}[...Je,...ei].filter(ni=>!!ni).forEach(ni=>ni.classList.add(_e.params.navigation.lockClass))}),Le("click",(Je,ei)=>{let{nextEl:ni,prevEl:Qe}=_e.navigation;ni=Ae(ni),Qe=Ae(Qe);const ii=ei.target;if(_e.params.navigation.hideOnClick&&!Qe.includes(ii)&&!ni.includes(ii)){if(_e.pagination&&_e.params.pagination&&_e.params.pagination.clickable&&(_e.pagination.el===ii||_e.pagination.el.contains(ii)))return;let ai;ni.length?ai=ni[0].classList.contains(_e.params.navigation.hiddenClass):Qe.length&&(ai=Qe[0].classList.contains(_e.params.navigation.hiddenClass)),Fe(ai===!0?"navigationShow":"navigationHide"),[...ni,...Qe].filter(di=>!!di).forEach(di=>di.classList.toggle(_e.params.navigation.hiddenClass))}});const Ze=()=>{_e.el.classList.remove(..._e.params.navigation.navigationDisabledClass.split(" ")),je(),Ne()},Ke=()=>{_e.el.classList.add(..._e.params.navigation.navigationDisabledClass.split(" ")),Ve()};Object.assign(_e.navigation,{enable:Ze,disable:Ke,update:Ne,init:je,destroy:Ve})}function classesToSelector($e){return $e===void 0&&($e=""),`.${$e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Pagination($e){let{swiper:_e,extendParams:Te,on:Le,emit:Fe}=$e;const Ae="swiper-pagination";Te({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:Qe=>Qe,formatFractionTotal:Qe=>Qe,bulletClass:`${Ae}-bullet`,bulletActiveClass:`${Ae}-bullet-active`,modifierClass:`${Ae}-`,currentClass:`${Ae}-current`,totalClass:`${Ae}-total`,hiddenClass:`${Ae}-hidden`,progressbarFillClass:`${Ae}-progressbar-fill`,progressbarOppositeClass:`${Ae}-progressbar-opposite`,clickableClass:`${Ae}-clickable`,lockClass:`${Ae}-lock`,horizontalClass:`${Ae}-horizontal`,verticalClass:`${Ae}-vertical`,paginationDisabledClass:`${Ae}-disabled`}}),_e.pagination={el:null,bullets:[]};let Be,Ie=0;const Ne=Qe=>(Array.isArray(Qe)?Qe:[Qe]).filter(ii=>!!ii);function ze(){return!_e.params.pagination.el||!_e.pagination.el||Array.isArray(_e.pagination.el)&&_e.pagination.el.length===0}function Ue(Qe,ii){const{bulletActiveClass:ai}=_e.params.pagination;Qe&&(Qe=Qe[`${ii==="prev"?"previous":"next"}ElementSibling`],Qe&&(Qe.classList.add(`${ai}-${ii}`),Qe=Qe[`${ii==="prev"?"previous":"next"}ElementSibling`],Qe&&Qe.classList.add(`${ai}-${ii}-${ii}`)))}function je(Qe){const ii=Qe.target.closest(classesToSelector(_e.params.pagination.bulletClass));if(!ii)return;Qe.preventDefault();const ai=elementIndex(ii)*_e.params.slidesPerGroup;if(_e.params.loop){if(_e.realIndex===ai)return;_e.slideToLoop(ai)}else _e.slideTo(ai)}function Ve(){const Qe=_e.rtl,ii=_e.params.pagination;if(ze())return;let ai=_e.pagination.el;ai=Ne(ai);let di,vi;const bi=_e.virtual&&_e.params.virtual.enabled?_e.virtual.slides.length:_e.slides.length,xi=_e.params.loop?Math.ceil(bi/_e.params.slidesPerGroup):_e.snapGrid.length;if(_e.params.loop?(vi=_e.previousRealIndex||0,di=_e.params.slidesPerGroup>1?Math.floor(_e.realIndex/_e.params.slidesPerGroup):_e.realIndex):typeof _e.snapIndex<"u"?(di=_e.snapIndex,vi=_e.previousSnapIndex):(vi=_e.previousIndex||0,di=_e.activeIndex||0),ii.type==="bullets"&&_e.pagination.bullets&&_e.pagination.bullets.length>0){const mi=_e.pagination.bullets;let li,wi,Li;if(ii.dynamicBullets&&(Be=elementOuterSize(mi[0],_e.isHorizontal()?"width":"height",!0),ai.forEach(Ti=>{Ti.style[_e.isHorizontal()?"width":"height"]=`${Be*(ii.dynamicMainBullets+4)}px`}),ii.dynamicMainBullets>1&&vi!==void 0&&(Ie+=di-(vi||0),Ie>ii.dynamicMainBullets-1?Ie=ii.dynamicMainBullets-1:Ie<0&&(Ie=0)),li=Math.max(di-Ie,0),wi=li+(Math.min(mi.length,ii.dynamicMainBullets)-1),Li=(wi+li)/2),mi.forEach(Ti=>{const Oi=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Di=>`${ii.bulletActiveClass}${Di}`)].map(Di=>typeof Di=="string"&&Di.includes(" ")?Di.split(" "):Di).flat();Ti.classList.remove(...Oi)}),ai.length>1)mi.forEach(Ti=>{const Oi=elementIndex(Ti);Oi===di?Ti.classList.add(...ii.bulletActiveClass.split(" ")):_e.isElement&&Ti.setAttribute("part","bullet"),ii.dynamicBullets&&(Oi>=li&&Oi<=wi&&Ti.classList.add(...`${ii.bulletActiveClass}-main`.split(" ")),Oi===li&&Ue(Ti,"prev"),Oi===wi&&Ue(Ti,"next"))});else{const Ti=mi[di];if(Ti&&Ti.classList.add(...ii.bulletActiveClass.split(" ")),_e.isElement&&mi.forEach((Oi,Di)=>{Oi.setAttribute("part",Di===di?"bullet-active":"bullet")}),ii.dynamicBullets){const Oi=mi[li],Di=mi[wi];for(let Ri=li;Ri<=wi;Ri+=1)mi[Ri]&&mi[Ri].classList.add(...`${ii.bulletActiveClass}-main`.split(" "));Ue(Oi,"prev"),Ue(Di,"next")}}if(ii.dynamicBullets){const Ti=Math.min(mi.length,ii.dynamicMainBullets+4),Oi=(Be*Ti-Be)/2-Li*Be,Di=Qe?"right":"left";mi.forEach(Ri=>{Ri.style[_e.isHorizontal()?Di:"top"]=`${Oi}px`})}}ai.forEach((mi,li)=>{if(ii.type==="fraction"&&(mi.querySelectorAll(classesToSelector(ii.currentClass)).forEach(wi=>{wi.textContent=ii.formatFractionCurrent(di+1)}),mi.querySelectorAll(classesToSelector(ii.totalClass)).forEach(wi=>{wi.textContent=ii.formatFractionTotal(xi)})),ii.type==="progressbar"){let wi;ii.progressbarOpposite?wi=_e.isHorizontal()?"vertical":"horizontal":wi=_e.isHorizontal()?"horizontal":"vertical";const Li=(di+1)/xi;let Ti=1,Oi=1;wi==="horizontal"?Ti=Li:Oi=Li,mi.querySelectorAll(classesToSelector(ii.progressbarFillClass)).forEach(Di=>{Di.style.transform=`translate3d(0,0,0) scaleX(${Ti}) scaleY(${Oi})`,Di.style.transitionDuration=`${_e.params.speed}ms`})}ii.type==="custom"&&ii.renderCustom?(mi.innerHTML=ii.renderCustom(_e,di+1,xi),li===0&&Fe("paginationRender",mi)):(li===0&&Fe("paginationRender",mi),Fe("paginationUpdate",mi)),_e.params.watchOverflow&&_e.enabled&&mi.classList[_e.isLocked?"add":"remove"](ii.lockClass)})}function Ze(){const Qe=_e.params.pagination;if(ze())return;const ii=_e.virtual&&_e.params.virtual.enabled?_e.virtual.slides.length:_e.grid&&_e.params.grid.rows>1?_e.slides.length/Math.ceil(_e.params.grid.rows):_e.slides.length;let ai=_e.pagination.el;ai=Ne(ai);let di="";if(Qe.type==="bullets"){let vi=_e.params.loop?Math.ceil(ii/_e.params.slidesPerGroup):_e.snapGrid.length;_e.params.freeMode&&_e.params.freeMode.enabled&&vi>ii&&(vi=ii);for(let bi=0;bi<vi;bi+=1)Qe.renderBullet?di+=Qe.renderBullet.call(_e,bi,Qe.bulletClass):di+=`<${Qe.bulletElement} ${_e.isElement?'part="bullet"':""} class="${Qe.bulletClass}"></${Qe.bulletElement}>`}Qe.type==="fraction"&&(Qe.renderFraction?di=Qe.renderFraction.call(_e,Qe.currentClass,Qe.totalClass):di=`<span class="${Qe.currentClass}"></span> / <span class="${Qe.totalClass}"></span>`),Qe.type==="progressbar"&&(Qe.renderProgressbar?di=Qe.renderProgressbar.call(_e,Qe.progressbarFillClass):di=`<span class="${Qe.progressbarFillClass}"></span>`),_e.pagination.bullets=[],ai.forEach(vi=>{Qe.type!=="custom"&&(vi.innerHTML=di||""),Qe.type==="bullets"&&_e.pagination.bullets.push(...vi.querySelectorAll(classesToSelector(Qe.bulletClass)))}),Qe.type!=="custom"&&Fe("paginationRender",ai[0])}function Ke(){_e.params.pagination=createElementIfNotDefined(_e,_e.originalParams.pagination,_e.params.pagination,{el:"swiper-pagination"});const Qe=_e.params.pagination;if(!Qe.el)return;let ii;typeof Qe.el=="string"&&_e.isElement&&(ii=_e.el.querySelector(Qe.el)),!ii&&typeof Qe.el=="string"&&(ii=[...document.querySelectorAll(Qe.el)]),ii||(ii=Qe.el),!(!ii||ii.length===0)&&(_e.params.uniqueNavElements&&typeof Qe.el=="string"&&Array.isArray(ii)&&ii.length>1&&(ii=[..._e.el.querySelectorAll(Qe.el)],ii.length>1&&(ii=ii.filter(ai=>elementParents(ai,".swiper")[0]===_e.el)[0])),Array.isArray(ii)&&ii.length===1&&(ii=ii[0]),Object.assign(_e.pagination,{el:ii}),ii=Ne(ii),ii.forEach(ai=>{Qe.type==="bullets"&&Qe.clickable&&ai.classList.add(...(Qe.clickableClass||"").split(" ")),ai.classList.add(Qe.modifierClass+Qe.type),ai.classList.add(_e.isHorizontal()?Qe.horizontalClass:Qe.verticalClass),Qe.type==="bullets"&&Qe.dynamicBullets&&(ai.classList.add(`${Qe.modifierClass}${Qe.type}-dynamic`),Ie=0,Qe.dynamicMainBullets<1&&(Qe.dynamicMainBullets=1)),Qe.type==="progressbar"&&Qe.progressbarOpposite&&ai.classList.add(Qe.progressbarOppositeClass),Qe.clickable&&ai.addEventListener("click",je),_e.enabled||ai.classList.add(Qe.lockClass)}))}function Je(){const Qe=_e.params.pagination;if(ze())return;let ii=_e.pagination.el;ii&&(ii=Ne(ii),ii.forEach(ai=>{ai.classList.remove(Qe.hiddenClass),ai.classList.remove(Qe.modifierClass+Qe.type),ai.classList.remove(_e.isHorizontal()?Qe.horizontalClass:Qe.verticalClass),Qe.clickable&&(ai.classList.remove(...(Qe.clickableClass||"").split(" ")),ai.removeEventListener("click",je))})),_e.pagination.bullets&&_e.pagination.bullets.forEach(ai=>ai.classList.remove(...Qe.bulletActiveClass.split(" ")))}Le("changeDirection",()=>{if(!_e.pagination||!_e.pagination.el)return;const Qe=_e.params.pagination;let{el:ii}=_e.pagination;ii=Ne(ii),ii.forEach(ai=>{ai.classList.remove(Qe.horizontalClass,Qe.verticalClass),ai.classList.add(_e.isHorizontal()?Qe.horizontalClass:Qe.verticalClass)})}),Le("init",()=>{_e.params.pagination.enabled===!1?ni():(Ke(),Ze(),Ve())}),Le("activeIndexChange",()=>{typeof _e.snapIndex>"u"&&Ve()}),Le("snapIndexChange",()=>{Ve()}),Le("snapGridLengthChange",()=>{Ze(),Ve()}),Le("destroy",()=>{Je()}),Le("enable disable",()=>{let{el:Qe}=_e.pagination;Qe&&(Qe=Ne(Qe),Qe.forEach(ii=>ii.classList[_e.enabled?"remove":"add"](_e.params.pagination.lockClass)))}),Le("lock unlock",()=>{Ve()}),Le("click",(Qe,ii)=>{const ai=ii.target,di=Ne(_e.pagination.el);if(_e.params.pagination.el&&_e.params.pagination.hideOnClick&&di&&di.length>0&&!ai.classList.contains(_e.params.pagination.bulletClass)){if(_e.navigation&&(_e.navigation.nextEl&&ai===_e.navigation.nextEl||_e.navigation.prevEl&&ai===_e.navigation.prevEl))return;const vi=di[0].classList.contains(_e.params.pagination.hiddenClass);Fe(vi===!0?"paginationShow":"paginationHide"),di.forEach(bi=>bi.classList.toggle(_e.params.pagination.hiddenClass))}});const ei=()=>{_e.el.classList.remove(_e.params.pagination.paginationDisabledClass);let{el:Qe}=_e.pagination;Qe&&(Qe=Ne(Qe),Qe.forEach(ii=>ii.classList.remove(_e.params.pagination.paginationDisabledClass))),Ke(),Ze(),Ve()},ni=()=>{_e.el.classList.add(_e.params.pagination.paginationDisabledClass);let{el:Qe}=_e.pagination;Qe&&(Qe=Ne(Qe),Qe.forEach(ii=>ii.classList.add(_e.params.pagination.paginationDisabledClass))),Je()};Object.assign(_e.pagination,{enable:ei,disable:ni,render:Ze,update:Ve,init:Ke,destroy:Je})}function Autoplay($e){let{swiper:_e,extendParams:Te,on:Le,emit:Fe,params:Ae}=$e;_e.autoplay={running:!1,paused:!1,timeLeft:0},Te({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let Be,Ie,Ne=Ae&&Ae.autoplay?Ae.autoplay.delay:3e3,ze=Ae&&Ae.autoplay?Ae.autoplay.delay:3e3,Ue,je=new Date().getTime(),Ve,Ze,Ke,Je,ei,ni,Qe;function ii(Ci){!_e||_e.destroyed||!_e.wrapperEl||Ci.target===_e.wrapperEl&&(_e.wrapperEl.removeEventListener("transitionend",ii),!Qe&&li())}const ai=()=>{if(_e.destroyed||!_e.autoplay.running)return;_e.autoplay.paused?Ve=!0:Ve&&(ze=Ue,Ve=!1);const Ci=_e.autoplay.paused?Ue:je+ze-new Date().getTime();_e.autoplay.timeLeft=Ci,Fe("autoplayTimeLeft",Ci,Ci/Ne),Ie=requestAnimationFrame(()=>{ai()})},di=()=>{let Ci;return _e.virtual&&_e.params.virtual.enabled?Ci=_e.slides.filter(Pi=>Pi.classList.contains("swiper-slide-active"))[0]:Ci=_e.slides[_e.activeIndex],Ci?parseInt(Ci.getAttribute("data-swiper-autoplay"),10):void 0},vi=Ci=>{if(_e.destroyed||!_e.autoplay.running)return;cancelAnimationFrame(Ie),ai();let hn=typeof Ci>"u"?_e.params.autoplay.delay:Ci;Ne=_e.params.autoplay.delay,ze=_e.params.autoplay.delay;const Pi=di();!Number.isNaN(Pi)&&Pi>0&&typeof Ci>"u"&&(hn=Pi,Ne=Pi,ze=Pi),Ue=hn;const Ki=_e.params.speed,gn=()=>{!_e||_e.destroyed||(_e.params.autoplay.reverseDirection?!_e.isBeginning||_e.params.loop||_e.params.rewind?(_e.slidePrev(Ki,!0,!0),Fe("autoplay")):_e.params.autoplay.stopOnLastSlide||(_e.slideTo(_e.slides.length-1,Ki,!0,!0),Fe("autoplay")):!_e.isEnd||_e.params.loop||_e.params.rewind?(_e.slideNext(Ki,!0,!0),Fe("autoplay")):_e.params.autoplay.stopOnLastSlide||(_e.slideTo(0,Ki,!0,!0),Fe("autoplay")),_e.params.cssMode&&(je=new Date().getTime(),requestAnimationFrame(()=>{vi()})))};return hn>0?(clearTimeout(Be),Be=setTimeout(()=>{gn()},hn)):requestAnimationFrame(()=>{gn()}),hn},bi=()=>{je=new Date().getTime(),_e.autoplay.running=!0,vi(),Fe("autoplayStart")},xi=()=>{_e.autoplay.running=!1,clearTimeout(Be),cancelAnimationFrame(Ie),Fe("autoplayStop")},mi=(Ci,hn)=>{if(_e.destroyed||!_e.autoplay.running)return;clearTimeout(Be),Ci||(ni=!0);const Pi=()=>{Fe("autoplayPause"),_e.params.autoplay.waitForTransition?_e.wrapperEl.addEventListener("transitionend",ii):li()};if(_e.autoplay.paused=!0,hn){ei&&(Ue=_e.params.autoplay.delay),ei=!1,Pi();return}Ue=(Ue||_e.params.autoplay.delay)-(new Date().getTime()-je),!(_e.isEnd&&Ue<0&&!_e.params.loop)&&(Ue<0&&(Ue=0),Pi())},li=()=>{_e.isEnd&&Ue<0&&!_e.params.loop||_e.destroyed||!_e.autoplay.running||(je=new Date().getTime(),ni?(ni=!1,vi(Ue)):vi(),_e.autoplay.paused=!1,Fe("autoplayResume"))},wi=()=>{if(_e.destroyed||!_e.autoplay.running)return;const Ci=getDocument();Ci.visibilityState==="hidden"&&(ni=!0,mi(!0)),Ci.visibilityState==="visible"&&li()},Li=Ci=>{Ci.pointerType==="mouse"&&(ni=!0,Qe=!0,!(_e.animating||_e.autoplay.paused)&&mi(!0))},Ti=Ci=>{Ci.pointerType==="mouse"&&(Qe=!1,_e.autoplay.paused&&li())},Oi=()=>{_e.params.autoplay.pauseOnMouseEnter&&(_e.el.addEventListener("pointerenter",Li),_e.el.addEventListener("pointerleave",Ti))},Di=()=>{_e.el.removeEventListener("pointerenter",Li),_e.el.removeEventListener("pointerleave",Ti)},Ri=()=>{getDocument().addEventListener("visibilitychange",wi)},fn=()=>{getDocument().removeEventListener("visibilitychange",wi)};Le("init",()=>{_e.params.autoplay.enabled&&(Oi(),Ri(),bi())}),Le("destroy",()=>{Di(),fn(),_e.autoplay.running&&xi()}),Le("_freeModeStaticRelease",()=>{(Ke||ni)&&li()}),Le("_freeModeNoMomentumRelease",()=>{_e.params.autoplay.disableOnInteraction?xi():mi(!0,!0)}),Le("beforeTransitionStart",(Ci,hn,Pi)=>{_e.destroyed||!_e.autoplay.running||(Pi||!_e.params.autoplay.disableOnInteraction?mi(!0,!0):xi())}),Le("sliderFirstMove",()=>{if(!(_e.destroyed||!_e.autoplay.running)){if(_e.params.autoplay.disableOnInteraction){xi();return}Ze=!0,Ke=!1,ni=!1,Je=setTimeout(()=>{ni=!0,Ke=!0,mi(!0)},200)}}),Le("touchEnd",()=>{if(!(_e.destroyed||!_e.autoplay.running||!Ze)){if(clearTimeout(Je),clearTimeout(Be),_e.params.autoplay.disableOnInteraction){Ke=!1,Ze=!1;return}Ke&&_e.params.cssMode&&li(),Ke=!1,Ze=!1}}),Le("slideChange",()=>{_e.destroyed||!_e.autoplay.running||(ei=!0)}),Object.assign(_e.autoplay,{start:bi,stop:xi,pause:mi,resume:li})}function Thumb($e){let{swiper:_e,extendParams:Te,on:Le}=$e;Te({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let Fe=!1,Ae=!1;_e.thumbs={swiper:null};function Be(){const ze=_e.thumbs.swiper;if(!ze||ze.destroyed)return;const Ue=ze.clickedIndex,je=ze.clickedSlide;if(je&&je.classList.contains(_e.params.thumbs.slideThumbActiveClass)||typeof Ue>"u"||Ue===null)return;let Ve;ze.params.loop?Ve=parseInt(ze.clickedSlide.getAttribute("data-swiper-slide-index"),10):Ve=Ue,_e.params.loop?_e.slideToLoop(Ve):_e.slideTo(Ve)}function Ie(){const{thumbs:ze}=_e.params;if(Fe)return!1;Fe=!0;const Ue=_e.constructor;if(ze.swiper instanceof Ue)_e.thumbs.swiper=ze.swiper,Object.assign(_e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(_e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),_e.thumbs.swiper.update();else if(isObject$6(ze.swiper)){const je=Object.assign({},ze.swiper);Object.assign(je,{watchSlidesProgress:!0,slideToClickedSlide:!1}),_e.thumbs.swiper=new Ue(je),Ae=!0}return _e.thumbs.swiper.el.classList.add(_e.params.thumbs.thumbsContainerClass),_e.thumbs.swiper.on("tap",Be),!0}function Ne(ze){const Ue=_e.thumbs.swiper;if(!Ue||Ue.destroyed)return;const je=Ue.params.slidesPerView==="auto"?Ue.slidesPerViewDynamic():Ue.params.slidesPerView;let Ve=1;const Ze=_e.params.thumbs.slideThumbActiveClass;if(_e.params.slidesPerView>1&&!_e.params.centeredSlides&&(Ve=_e.params.slidesPerView),_e.params.thumbs.multipleActiveThumbs||(Ve=1),Ve=Math.floor(Ve),Ue.slides.forEach(ei=>ei.classList.remove(Ze)),Ue.params.loop||Ue.params.virtual&&Ue.params.virtual.enabled)for(let ei=0;ei<Ve;ei+=1)elementChildren(Ue.slidesEl,`[data-swiper-slide-index="${_e.realIndex+ei}"]`).forEach(ni=>{ni.classList.add(Ze)});else for(let ei=0;ei<Ve;ei+=1)Ue.slides[_e.realIndex+ei]&&Ue.slides[_e.realIndex+ei].classList.add(Ze);const Ke=_e.params.thumbs.autoScrollOffset,Je=Ke&&!Ue.params.loop;if(_e.realIndex!==Ue.realIndex||Je){const ei=Ue.activeIndex;let ni,Qe;if(Ue.params.loop){const ii=Ue.slides.filter(ai=>ai.getAttribute("data-swiper-slide-index")===`${_e.realIndex}`)[0];ni=Ue.slides.indexOf(ii),Qe=_e.activeIndex>_e.previousIndex?"next":"prev"}else ni=_e.realIndex,Qe=ni>_e.previousIndex?"next":"prev";Je&&(ni+=Qe==="next"?Ke:-1*Ke),Ue.visibleSlidesIndexes&&Ue.visibleSlidesIndexes.indexOf(ni)<0&&(Ue.params.centeredSlides?ni>ei?ni=ni-Math.floor(je/2)+1:ni=ni+Math.floor(je/2)-1:ni>ei&&Ue.params.slidesPerGroup,Ue.slideTo(ni,ze?0:void 0))}}Le("beforeInit",()=>{const{thumbs:ze}=_e.params;if(!(!ze||!ze.swiper))if(typeof ze.swiper=="string"||ze.swiper instanceof HTMLElement){const Ue=getDocument(),je=()=>{const Ze=typeof ze.swiper=="string"?Ue.querySelector(ze.swiper):ze.swiper;if(Ze&&Ze.swiper)ze.swiper=Ze.swiper,Ie(),Ne(!0);else if(Ze){const Ke=Je=>{ze.swiper=Je.detail[0],Ze.removeEventListener("init",Ke),Ie(),Ne(!0),ze.swiper.update(),_e.update()};Ze.addEventListener("init",Ke)}return Ze},Ve=()=>{if(_e.destroyed)return;je()||requestAnimationFrame(Ve)};requestAnimationFrame(Ve)}else Ie(),Ne(!0)}),Le("slideChange update resize observerUpdate",()=>{Ne()}),Le("setTransition",(ze,Ue)=>{const je=_e.thumbs.swiper;!je||je.destroyed||je.setTransition(Ue)}),Le("beforeDestroy",()=>{const ze=_e.thumbs.swiper;!ze||ze.destroyed||Ae&&ze.destroy()}),Object.assign(_e.thumbs,{init:Ie,update:Ne})}function freeMode($e){let{swiper:_e,extendParams:Te,emit:Le,once:Fe}=$e;Te({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function Ae(){if(_e.params.cssMode)return;const Ne=_e.getTranslate();_e.setTranslate(Ne),_e.setTransition(0),_e.touchEventsData.velocities.length=0,_e.freeMode.onTouchEnd({currentPos:_e.rtl?_e.translate:-_e.translate})}function Be(){if(_e.params.cssMode)return;const{touchEventsData:Ne,touches:ze}=_e;Ne.velocities.length===0&&Ne.velocities.push({position:ze[_e.isHorizontal()?"startX":"startY"],time:Ne.touchStartTime}),Ne.velocities.push({position:ze[_e.isHorizontal()?"currentX":"currentY"],time:now$2()})}function Ie(Ne){let{currentPos:ze}=Ne;if(_e.params.cssMode)return;const{params:Ue,wrapperEl:je,rtlTranslate:Ve,snapGrid:Ze,touchEventsData:Ke}=_e,ei=now$2()-Ke.touchStartTime;if(ze<-_e.minTranslate()){_e.slideTo(_e.activeIndex);return}if(ze>-_e.maxTranslate()){_e.slides.length<Ze.length?_e.slideTo(Ze.length-1):_e.slideTo(_e.slides.length-1);return}if(Ue.freeMode.momentum){if(Ke.velocities.length>1){const xi=Ke.velocities.pop(),mi=Ke.velocities.pop(),li=xi.position-mi.position,wi=xi.time-mi.time;_e.velocity=li/wi,_e.velocity/=2,Math.abs(_e.velocity)<Ue.freeMode.minimumVelocity&&(_e.velocity=0),(wi>150||now$2()-xi.time>300)&&(_e.velocity=0)}else _e.velocity=0;_e.velocity*=Ue.freeMode.momentumVelocityRatio,Ke.velocities.length=0;let ni=1e3*Ue.freeMode.momentumRatio;const Qe=_e.velocity*ni;let ii=_e.translate+Qe;Ve&&(ii=-ii);let ai=!1,di;const vi=Math.abs(_e.velocity)*20*Ue.freeMode.momentumBounceRatio;let bi;if(ii<_e.maxTranslate())Ue.freeMode.momentumBounce?(ii+_e.maxTranslate()<-vi&&(ii=_e.maxTranslate()-vi),di=_e.maxTranslate(),ai=!0,Ke.allowMomentumBounce=!0):ii=_e.maxTranslate(),Ue.loop&&Ue.centeredSlides&&(bi=!0);else if(ii>_e.minTranslate())Ue.freeMode.momentumBounce?(ii-_e.minTranslate()>vi&&(ii=_e.minTranslate()+vi),di=_e.minTranslate(),ai=!0,Ke.allowMomentumBounce=!0):ii=_e.minTranslate(),Ue.loop&&Ue.centeredSlides&&(bi=!0);else if(Ue.freeMode.sticky){let xi;for(let mi=0;mi<Ze.length;mi+=1)if(Ze[mi]>-ii){xi=mi;break}Math.abs(Ze[xi]-ii)<Math.abs(Ze[xi-1]-ii)||_e.swipeDirection==="next"?ii=Ze[xi]:ii=Ze[xi-1],ii=-ii}if(bi&&Fe("transitionEnd",()=>{_e.loopFix()}),_e.velocity!==0){if(Ve?ni=Math.abs((-ii-_e.translate)/_e.velocity):ni=Math.abs((ii-_e.translate)/_e.velocity),Ue.freeMode.sticky){const xi=Math.abs((Ve?-ii:ii)-_e.translate),mi=_e.slidesSizesGrid[_e.activeIndex];xi<mi?ni=Ue.speed:xi<2*mi?ni=Ue.speed*1.5:ni=Ue.speed*2.5}}else if(Ue.freeMode.sticky){_e.slideToClosest();return}Ue.freeMode.momentumBounce&&ai?(_e.updateProgress(di),_e.setTransition(ni),_e.setTranslate(ii),_e.transitionStart(!0,_e.swipeDirection),_e.animating=!0,elementTransitionEnd(je,()=>{!_e||_e.destroyed||!Ke.allowMomentumBounce||(Le("momentumBounce"),_e.setTransition(Ue.speed),setTimeout(()=>{_e.setTranslate(di),elementTransitionEnd(je,()=>{!_e||_e.destroyed||_e.transitionEnd()})},0))})):_e.velocity?(Le("_freeModeNoMomentumRelease"),_e.updateProgress(ii),_e.setTransition(ni),_e.setTranslate(ii),_e.transitionStart(!0,_e.swipeDirection),_e.animating||(_e.animating=!0,elementTransitionEnd(je,()=>{!_e||_e.destroyed||_e.transitionEnd()}))):_e.updateProgress(ii),_e.updateActiveIndex(),_e.updateSlidesClasses()}else if(Ue.freeMode.sticky){_e.slideToClosest();return}else Ue.freeMode&&Le("_freeModeNoMomentumRelease");(!Ue.freeMode.momentum||ei>=Ue.longSwipesMs)&&(Le("_freeModeStaticRelease"),_e.updateProgress(),_e.updateActiveIndex(),_e.updateSlidesClasses())}Object.assign(_e,{freeMode:{onTouchStart:Ae,onTouchMove:Be,onTouchEnd:Ie}})}let $input=$$4("input.pin");$input.on("keydown",function($e){var _e=$e.keyCode;if(_e===46||_e==86&&($e.ctrlKey||$e.metaKey))return!0;$e.preventDefault(),isNumKeyCode(_e)?(this.value=String.fromCharCode(_e),moveNext(this)):_e===8?this.value?this.value="":movePrev(this):_e===37||$e.shiftKey&&_e===9?movePrev(this):(_e===39||_e===9)&&moveNext(this);let Te="";$$4("input.pin").each(function(Le,Fe){Te+=Fe.value}),$$4("#code").val(Te).css({opacity:"0",visibility:"hidden"})});$input.on("paste",function($e){$e.preventDefault();var _e=$e.originalEvent.clipboardData.getData("text/plain"),Te=_e.trim().split("").filter(isNum);fill(Te)});function fill($e){$$4("input.pin").each(function(Te,Le){Le.value=$e[Te]||""}),$$4("input.pin").last().focus();let _e="";$$4("input.pin").each(function(Te,Le){_e+=Le.value}),$$4("#code").val(_e).css({opacity:"0",visibility:"hidden"})}function isNum($e){return!isNaN($e)&&!!$e.trim()}function isNumKeyCode($e){return 48<=$e&&$e<=57}function moveNext($e){return $$4($e).next().focus()}function movePrev($e){return $$4($e).prev().focus()}function startCounter(){let $e=60,_e=$$4("#count"),Te=$$4("#resendcode");_e.removeClass("d-none"),Te.addClass("d-none");let Le=setInterval(function(){--$e,$e>=0&&_e.html($e),$e===0&&(clearInterval(Le),_e.html(""),_e.addClass("d-none"),Te.removeClass("d-none"))},1e3)}window.onload=startCounter;$$4("#resendcode").on("click",function(){$$4.ajax({url:"/resend-verification-code",type:"POST",headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},data:{mobile:$$4('input[name="mobile"]').val()},success:function($e){$e&&startCounter()}})});var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function($e,_e){(function(Te,Le){Le(_e)})(commonjsGlobal,function(Te){var Le="1.9.4";function Fe(Me){var De,Re,qe,Ge;for(Re=1,qe=arguments.length;Re<qe;Re++){Ge=arguments[Re];for(De in Ge)Me[De]=Ge[De]}return Me}var Ae=Object.create||function(){function Me(){}return function(De){return Me.prototype=De,new Me}}();function Be(Me,De){var Re=Array.prototype.slice;if(Me.bind)return Me.bind.apply(Me,Re.call(arguments,1));var qe=Re.call(arguments,2);return function(){return Me.apply(De,qe.length?qe.concat(Re.call(arguments)):arguments)}}var Ie=0;function Ne(Me){return"_leaflet_id"in Me||(Me._leaflet_id=++Ie),Me._leaflet_id}function ze(Me,De,Re){var qe,Ge,ti,oi;return oi=function(){qe=!1,Ge&&(ti.apply(Re,Ge),Ge=!1)},ti=function(){qe?Ge=arguments:(Me.apply(Re,arguments),setTimeout(oi,De),qe=!0)},ti}function Ue(Me,De,Re){var qe=De[1],Ge=De[0],ti=qe-Ge;return Me===qe&&Re?Me:((Me-Ge)%ti+ti)%ti+Ge}function je(){return!1}function Ve(Me,De){if(De===!1)return Me;var Re=Math.pow(10,De===void 0?6:De);return Math.round(Me*Re)/Re}function Ze(Me){return Me.trim?Me.trim():Me.replace(/^\s+|\s+$/g,"")}function Ke(Me){return Ze(Me).split(/\s+/)}function Je(Me,De){Object.prototype.hasOwnProperty.call(Me,"options")||(Me.options=Me.options?Ae(Me.options):{});for(var Re in De)Me.options[Re]=De[Re];return Me.options}function ei(Me,De,Re){var qe=[];for(var Ge in Me)qe.push(encodeURIComponent(Re?Ge.toUpperCase():Ge)+"="+encodeURIComponent(Me[Ge]));return(!De||De.indexOf("?")===-1?"?":"&")+qe.join("&")}var ni=/\{ *([\w_ -]+) *\}/g;function Qe(Me,De){return Me.replace(ni,function(Re,qe){var Ge=De[qe];if(Ge===void 0)throw new Error("No value provided for variable "+Re);return typeof Ge=="function"&&(Ge=Ge(De)),Ge})}var ii=Array.isArray||function(Me){return Object.prototype.toString.call(Me)==="[object Array]"};function ai(Me,De){for(var Re=0;Re<Me.length;Re++)if(Me[Re]===De)return Re;return-1}var di="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function vi(Me){return window["webkit"+Me]||window["moz"+Me]||window["ms"+Me]}var bi=0;function xi(Me){var De=+new Date,Re=Math.max(0,16-(De-bi));return bi=De+Re,window.setTimeout(Me,Re)}var mi=window.requestAnimationFrame||vi("RequestAnimationFrame")||xi,li=window.cancelAnimationFrame||vi("CancelAnimationFrame")||vi("CancelRequestAnimationFrame")||function(Me){window.clearTimeout(Me)};function wi(Me,De,Re){if(Re&&mi===xi)Me.call(De);else return mi.call(window,Be(Me,De))}function Li(Me){Me&&li.call(window,Me)}var Ti={__proto__:null,extend:Fe,create:Ae,bind:Be,get lastId(){return Ie},stamp:Ne,throttle:ze,wrapNum:Ue,falseFn:je,formatNum:Ve,trim:Ze,splitWords:Ke,setOptions:Je,getParamString:ei,template:Qe,isArray:ii,indexOf:ai,emptyImageUrl:di,requestFn:mi,cancelFn:li,requestAnimFrame:wi,cancelAnimFrame:Li};function Oi(){}Oi.extend=function(Me){var De=function(){Je(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Re=De.__super__=this.prototype,qe=Ae(Re);qe.constructor=De,De.prototype=qe;for(var Ge in this)Object.prototype.hasOwnProperty.call(this,Ge)&&Ge!=="prototype"&&Ge!=="__super__"&&(De[Ge]=this[Ge]);return Me.statics&&Fe(De,Me.statics),Me.includes&&(Di(Me.includes),Fe.apply(null,[qe].concat(Me.includes))),Fe(qe,Me),delete qe.statics,delete qe.includes,qe.options&&(qe.options=Re.options?Ae(Re.options):{},Fe(qe.options,Me.options)),qe._initHooks=[],qe.callInitHooks=function(){if(!this._initHooksCalled){Re.callInitHooks&&Re.callInitHooks.call(this),this._initHooksCalled=!0;for(var ti=0,oi=qe._initHooks.length;ti<oi;ti++)qe._initHooks[ti].call(this)}},De},Oi.include=function(Me){var De=this.prototype.options;return Fe(this.prototype,Me),Me.options&&(this.prototype.options=De,this.mergeOptions(Me.options)),this},Oi.mergeOptions=function(Me){return Fe(this.prototype.options,Me),this},Oi.addInitHook=function(Me){var De=Array.prototype.slice.call(arguments,1),Re=typeof Me=="function"?Me:function(){this[Me].apply(this,De)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Re),this};function Di(Me){if(!(typeof L>"u"||!L||!L.Mixin)){Me=ii(Me)?Me:[Me];for(var De=0;De<Me.length;De++)Me[De]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ri={on:function(Me,De,Re){if(typeof Me=="object")for(var qe in Me)this._on(qe,Me[qe],De);else{Me=Ke(Me);for(var Ge=0,ti=Me.length;Ge<ti;Ge++)this._on(Me[Ge],De,Re)}return this},off:function(Me,De,Re){if(!arguments.length)delete this._events;else if(typeof Me=="object")for(var qe in Me)this._off(qe,Me[qe],De);else{Me=Ke(Me);for(var Ge=arguments.length===1,ti=0,oi=Me.length;ti<oi;ti++)Ge?this._off(Me[ti]):this._off(Me[ti],De,Re)}return this},_on:function(Me,De,Re,qe){if(typeof De!="function"){console.warn("wrong listener type: "+typeof De);return}if(this._listens(Me,De,Re)===!1){Re===this&&(Re=void 0);var Ge={fn:De,ctx:Re};qe&&(Ge.once=!0),this._events=this._events||{},this._events[Me]=this._events[Me]||[],this._events[Me].push(Ge)}},_off:function(Me,De,Re){var qe,Ge,ti;if(this._events&&(qe=this._events[Me],!!qe)){if(arguments.length===1){if(this._firingCount)for(Ge=0,ti=qe.length;Ge<ti;Ge++)qe[Ge].fn=je;delete this._events[Me];return}if(typeof De!="function"){console.warn("wrong listener type: "+typeof De);return}var oi=this._listens(Me,De,Re);if(oi!==!1){var pi=qe[oi];this._firingCount&&(pi.fn=je,this._events[Me]=qe=qe.slice()),qe.splice(oi,1)}}},fire:function(Me,De,Re){if(!this.listens(Me,Re))return this;var qe=Fe({},De,{type:Me,target:this,sourceTarget:De&&De.sourceTarget||this});if(this._events){var Ge=this._events[Me];if(Ge){this._firingCount=this._firingCount+1||1;for(var ti=0,oi=Ge.length;ti<oi;ti++){var pi=Ge[ti],gi=pi.fn;pi.once&&this.off(Me,gi,pi.ctx),gi.call(pi.ctx||this,qe)}this._firingCount--}}return Re&&this._propagateEvent(qe),this},listens:function(Me,De,Re,qe){typeof Me!="string"&&console.warn('"string" type argument expected');var Ge=De;typeof De!="function"&&(qe=!!De,Ge=void 0,Re=void 0);var ti=this._events&&this._events[Me];if(ti&&ti.length&&this._listens(Me,Ge,Re)!==!1)return!0;if(qe){for(var oi in this._eventParents)if(this._eventParents[oi].listens(Me,De,Re,qe))return!0}return!1},_listens:function(Me,De,Re){if(!this._events)return!1;var qe=this._events[Me]||[];if(!De)return!!qe.length;Re===this&&(Re=void 0);for(var Ge=0,ti=qe.length;Ge<ti;Ge++)if(qe[Ge].fn===De&&qe[Ge].ctx===Re)return Ge;return!1},once:function(Me,De,Re){if(typeof Me=="object")for(var qe in Me)this._on(qe,Me[qe],De,!0);else{Me=Ke(Me);for(var Ge=0,ti=Me.length;Ge<ti;Ge++)this._on(Me[Ge],De,Re,!0)}return this},addEventParent:function(Me){return this._eventParents=this._eventParents||{},this._eventParents[Ne(Me)]=Me,this},removeEventParent:function(Me){return this._eventParents&&delete this._eventParents[Ne(Me)],this},_propagateEvent:function(Me){for(var De in this._eventParents)this._eventParents[De].fire(Me.type,Fe({layer:Me.target,propagatedFrom:Me.target},Me),!0)}};Ri.addEventListener=Ri.on,Ri.removeEventListener=Ri.clearAllEventListeners=Ri.off,Ri.addOneTimeEventListener=Ri.once,Ri.fireEvent=Ri.fire,Ri.hasEventListeners=Ri.listens;var fn=Oi.extend(Ri);function Ci(Me,De,Re){this.x=Re?Math.round(Me):Me,this.y=Re?Math.round(De):De}var hn=Math.trunc||function(Me){return Me>0?Math.floor(Me):Math.ceil(Me)};Ci.prototype={clone:function(){return new Ci(this.x,this.y)},add:function(Me){return this.clone()._add(Pi(Me))},_add:function(Me){return this.x+=Me.x,this.y+=Me.y,this},subtract:function(Me){return this.clone()._subtract(Pi(Me))},_subtract:function(Me){return this.x-=Me.x,this.y-=Me.y,this},divideBy:function(Me){return this.clone()._divideBy(Me)},_divideBy:function(Me){return this.x/=Me,this.y/=Me,this},multiplyBy:function(Me){return this.clone()._multiplyBy(Me)},_multiplyBy:function(Me){return this.x*=Me,this.y*=Me,this},scaleBy:function(Me){return new Ci(this.x*Me.x,this.y*Me.y)},unscaleBy:function(Me){return new Ci(this.x/Me.x,this.y/Me.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=hn(this.x),this.y=hn(this.y),this},distanceTo:function(Me){Me=Pi(Me);var De=Me.x-this.x,Re=Me.y-this.y;return Math.sqrt(De*De+Re*Re)},equals:function(Me){return Me=Pi(Me),Me.x===this.x&&Me.y===this.y},contains:function(Me){return Me=Pi(Me),Math.abs(Me.x)<=Math.abs(this.x)&&Math.abs(Me.y)<=Math.abs(this.y)},toString:function(){return"Point("+Ve(this.x)+", "+Ve(this.y)+")"}};function Pi(Me,De,Re){return Me instanceof Ci?Me:ii(Me)?new Ci(Me[0],Me[1]):Me==null?Me:typeof Me=="object"&&"x"in Me&&"y"in Me?new Ci(Me.x,Me.y):new Ci(Me,De,Re)}function Ki(Me,De){if(Me)for(var Re=De?[Me,De]:Me,qe=0,Ge=Re.length;qe<Ge;qe++)this.extend(Re[qe])}Ki.prototype={extend:function(Me){var De,Re;if(!Me)return this;if(Me instanceof Ci||typeof Me[0]=="number"||"x"in Me)De=Re=Pi(Me);else if(Me=gn(Me),De=Me.min,Re=Me.max,!De||!Re)return this;return!this.min&&!this.max?(this.min=De.clone(),this.max=Re.clone()):(this.min.x=Math.min(De.x,this.min.x),this.max.x=Math.max(Re.x,this.max.x),this.min.y=Math.min(De.y,this.min.y),this.max.y=Math.max(Re.y,this.max.y)),this},getCenter:function(Me){return Pi((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Me)},getBottomLeft:function(){return Pi(this.min.x,this.max.y)},getTopRight:function(){return Pi(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Me){var De,Re;return typeof Me[0]=="number"||Me instanceof Ci?Me=Pi(Me):Me=gn(Me),Me instanceof Ki?(De=Me.min,Re=Me.max):De=Re=Me,De.x>=this.min.x&&Re.x<=this.max.x&&De.y>=this.min.y&&Re.y<=this.max.y},intersects:function(Me){Me=gn(Me);var De=this.min,Re=this.max,qe=Me.min,Ge=Me.max,ti=Ge.x>=De.x&&qe.x<=Re.x,oi=Ge.y>=De.y&&qe.y<=Re.y;return ti&&oi},overlaps:function(Me){Me=gn(Me);var De=this.min,Re=this.max,qe=Me.min,Ge=Me.max,ti=Ge.x>De.x&&qe.x<Re.x,oi=Ge.y>De.y&&qe.y<Re.y;return ti&&oi},isValid:function(){return!!(this.min&&this.max)},pad:function(Me){var De=this.min,Re=this.max,qe=Math.abs(De.x-Re.x)*Me,Ge=Math.abs(De.y-Re.y)*Me;return gn(Pi(De.x-qe,De.y-Ge),Pi(Re.x+qe,Re.y+Ge))},equals:function(Me){return Me?(Me=gn(Me),this.min.equals(Me.getTopLeft())&&this.max.equals(Me.getBottomRight())):!1}};function gn(Me,De){return!Me||Me instanceof Ki?Me:new Ki(Me,De)}function yn(Me,De){if(Me)for(var Re=De?[Me,De]:Me,qe=0,Ge=Re.length;qe<Ge;qe++)this.extend(Re[qe])}yn.prototype={extend:function(Me){var De=this._southWest,Re=this._northEast,qe,Ge;if(Me instanceof hi)qe=Me,Ge=Me;else if(Me instanceof yn){if(qe=Me._southWest,Ge=Me._northEast,!qe||!Ge)return this}else return Me?this.extend(Ui(Me)||pn(Me)):this;return!De&&!Re?(this._southWest=new hi(qe.lat,qe.lng),this._northEast=new hi(Ge.lat,Ge.lng)):(De.lat=Math.min(qe.lat,De.lat),De.lng=Math.min(qe.lng,De.lng),Re.lat=Math.max(Ge.lat,Re.lat),Re.lng=Math.max(Ge.lng,Re.lng)),this},pad:function(Me){var De=this._southWest,Re=this._northEast,qe=Math.abs(De.lat-Re.lat)*Me,Ge=Math.abs(De.lng-Re.lng)*Me;return new yn(new hi(De.lat-qe,De.lng-Ge),new hi(Re.lat+qe,Re.lng+Ge))},getCenter:function(){return new hi((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new hi(this.getNorth(),this.getWest())},getSouthEast:function(){return new hi(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Me){typeof Me[0]=="number"||Me instanceof hi||"lat"in Me?Me=Ui(Me):Me=pn(Me);var De=this._southWest,Re=this._northEast,qe,Ge;return Me instanceof yn?(qe=Me.getSouthWest(),Ge=Me.getNorthEast()):qe=Ge=Me,qe.lat>=De.lat&&Ge.lat<=Re.lat&&qe.lng>=De.lng&&Ge.lng<=Re.lng},intersects:function(Me){Me=pn(Me);var De=this._southWest,Re=this._northEast,qe=Me.getSouthWest(),Ge=Me.getNorthEast(),ti=Ge.lat>=De.lat&&qe.lat<=Re.lat,oi=Ge.lng>=De.lng&&qe.lng<=Re.lng;return ti&&oi},overlaps:function(Me){Me=pn(Me);var De=this._southWest,Re=this._northEast,qe=Me.getSouthWest(),Ge=Me.getNorthEast(),ti=Ge.lat>De.lat&&qe.lat<Re.lat,oi=Ge.lng>De.lng&&qe.lng<Re.lng;return ti&&oi},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Me,De){return Me?(Me=pn(Me),this._southWest.equals(Me.getSouthWest(),De)&&this._northEast.equals(Me.getNorthEast(),De)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pn(Me,De){return Me instanceof yn?Me:new yn(Me,De)}function hi(Me,De,Re){if(isNaN(Me)||isNaN(De))throw new Error("Invalid LatLng object: ("+Me+", "+De+")");this.lat=+Me,this.lng=+De,Re!==void 0&&(this.alt=+Re)}hi.prototype={equals:function(Me,De){if(!Me)return!1;Me=Ui(Me);var Re=Math.max(Math.abs(this.lat-Me.lat),Math.abs(this.lng-Me.lng));return Re<=(De===void 0?1e-9:De)},toString:function(Me){return"LatLng("+Ve(this.lat,Me)+", "+Ve(this.lng,Me)+")"},distanceTo:function(Me){return An.distance(this,Ui(Me))},wrap:function(){return An.wrapLatLng(this)},toBounds:function(Me){var De=180*Me/40075017,Re=De/Math.cos(Math.PI/180*this.lat);return pn([this.lat-De,this.lng-Re],[this.lat+De,this.lng+Re])},clone:function(){return new hi(this.lat,this.lng,this.alt)}};function Ui(Me,De,Re){return Me instanceof hi?Me:ii(Me)&&typeof Me[0]!="object"?Me.length===3?new hi(Me[0],Me[1],Me[2]):Me.length===2?new hi(Me[0],Me[1]):null:Me==null?Me:typeof Me=="object"&&"lat"in Me?new hi(Me.lat,"lng"in Me?Me.lng:Me.lon,Me.alt):De===void 0?null:new hi(Me,De,Re)}var xn={latLngToPoint:function(Me,De){var Re=this.projection.project(Me),qe=this.scale(De);return this.transformation._transform(Re,qe)},pointToLatLng:function(Me,De){var Re=this.scale(De),qe=this.transformation.untransform(Me,Re);return this.projection.unproject(qe)},project:function(Me){return this.projection.project(Me)},unproject:function(Me){return this.projection.unproject(Me)},scale:function(Me){return 256*Math.pow(2,Me)},zoom:function(Me){return Math.log(Me/256)/Math.LN2},getProjectedBounds:function(Me){if(this.infinite)return null;var De=this.projection.bounds,Re=this.scale(Me),qe=this.transformation.transform(De.min,Re),Ge=this.transformation.transform(De.max,Re);return new Ki(qe,Ge)},infinite:!1,wrapLatLng:function(Me){var De=this.wrapLng?Ue(Me.lng,this.wrapLng,!0):Me.lng,Re=this.wrapLat?Ue(Me.lat,this.wrapLat,!0):Me.lat,qe=Me.alt;return new hi(Re,De,qe)},wrapLatLngBounds:function(Me){var De=Me.getCenter(),Re=this.wrapLatLng(De),qe=De.lat-Re.lat,Ge=De.lng-Re.lng;if(qe===0&&Ge===0)return Me;var ti=Me.getSouthWest(),oi=Me.getNorthEast(),pi=new hi(ti.lat-qe,ti.lng-Ge),gi=new hi(oi.lat-qe,oi.lng-Ge);return new yn(pi,gi)}},An=Fe({},xn,{wrapLng:[-180,180],R:6371e3,distance:function(Me,De){var Re=Math.PI/180,qe=Me.lat*Re,Ge=De.lat*Re,ti=Math.sin((De.lat-Me.lat)*Re/2),oi=Math.sin((De.lng-Me.lng)*Re/2),pi=ti*ti+Math.cos(qe)*Math.cos(Ge)*oi*oi,gi=2*Math.atan2(Math.sqrt(pi),Math.sqrt(1-pi));return this.R*gi}}),cs=6378137,Tn={R:cs,MAX_LATITUDE:85.0511287798,project:function(Me){var De=Math.PI/180,Re=this.MAX_LATITUDE,qe=Math.max(Math.min(Re,Me.lat),-Re),Ge=Math.sin(qe*De);return new Ci(this.R*Me.lng*De,this.R*Math.log((1+Ge)/(1-Ge))/2)},unproject:function(Me){var De=180/Math.PI;return new hi((2*Math.atan(Math.exp(Me.y/this.R))-Math.PI/2)*De,Me.x*De/this.R)},bounds:function(){var Me=cs*Math.PI;return new Ki([-Me,-Me],[Me,Me])}()};function Bn(Me,De,Re,qe){if(ii(Me)){this._a=Me[0],this._b=Me[1],this._c=Me[2],this._d=Me[3];return}this._a=Me,this._b=De,this._c=Re,this._d=qe}Bn.prototype={transform:function(Me,De){return this._transform(Me.clone(),De)},_transform:function(Me,De){return De=De||1,Me.x=De*(this._a*Me.x+this._b),Me.y=De*(this._c*Me.y+this._d),Me},untransform:function(Me,De){return De=De||1,new Ci((Me.x/De-this._b)/this._a,(Me.y/De-this._d)/this._c)}};function Dn(Me,De,Re,qe){return new Bn(Me,De,Re,qe)}var In=Fe({},An,{code:"EPSG:3857",projection:Tn,transformation:function(){var Me=.5/(Math.PI*Tn.R);return Dn(Me,.5,-Me,.5)}()}),Vs=Fe({},In,{code:"EPSG:900913"});function ns(Me){return document.createElementNS("http://www.w3.org/2000/svg",Me)}function us(Me,De){var Re="",qe,Ge,ti,oi,pi,gi;for(qe=0,ti=Me.length;qe<ti;qe++){for(pi=Me[qe],Ge=0,oi=pi.length;Ge<oi;Ge++)gi=pi[Ge],Re+=(Ge?"L":"M")+gi.x+" "+gi.y;Re+=De?Ei.svg?"z":"x":""}return Re||"M0 0"}var Vi=document.documentElement.style,Ln="ActiveXObject"in window,En=Ln&&!document.addEventListener,Fn="msLaunchUri"in navigator&&!("documentMode"in document),Xi=Yi("webkit"),nn=Yi("android"),Gn=Yi("android 2")||Yi("android 3"),ur=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ws=nn&&Yi("Google")&&ur<537&&!("AudioNode"in window),vs=!!window.opera,ys=!Fn&&Yi("chrome"),Nn=Yi("gecko")&&!Xi&&!vs&&!Ln,bs=!ys&&Yi("safari"),On=Yi("phantom"),Rn="OTransition"in Vi,ss=navigator.platform.indexOf("Win")===0,dr=Ln&&"transition"in Vi,Hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gn,ds="MozPerspective"in Vi,Zs=!window.L_DISABLE_3D&&(dr||Hn||ds)&&!Rn&&!On,Kn=typeof orientation<"u"||Yi("mobile"),Gs=Kn&&Xi,Fr=Kn&&Hn,rs=!window.PointerEvent&&window.MSPointerEvent,ri=!!(window.PointerEvent||rs),ci="ontouchstart"in window||!!window.TouchEvent,fi=!window.L_NO_TOUCH&&(ci||ri),_i=Kn&&vs,$i=Kn&&Nn,ki=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Bi=function(){var Me=!1;try{var De=Object.defineProperty({},"passive",{get:function(){Me=!0}});window.addEventListener("testPassiveEventSupport",je,De),window.removeEventListener("testPassiveEventSupport",je,De)}catch{}return Me}(),Mi=function(){return!!document.createElement("canvas").getContext}(),cn=!!(document.createElementNS&&ns("svg").createSVGRect),dn=!!cn&&function(){var Me=document.createElement("div");return Me.innerHTML="<svg/>",(Me.firstChild&&Me.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ii=!cn&&function(){try{var Me=document.createElement("div");Me.innerHTML='<v:shape adj="1"/>';var De=Me.firstChild;return De.style.behavior="url(#default#VML)",De&&typeof De.adj=="object"}catch{return!1}}(),sn=navigator.platform.indexOf("Mac")===0,Zi=navigator.platform.indexOf("Linux")===0;function Yi(Me){return navigator.userAgent.toLowerCase().indexOf(Me)>=0}var Ei={ie:Ln,ielt9:En,edge:Fn,webkit:Xi,android:nn,android23:Gn,androidStock:Ws,opera:vs,chrome:ys,gecko:Nn,safari:bs,phantom:On,opera12:Rn,win:ss,ie3d:dr,webkit3d:Hn,gecko3d:ds,any3d:Zs,mobile:Kn,mobileWebkit:Gs,mobileWebkit3d:Fr,msPointer:rs,pointer:ri,touch:fi,touchNative:ci,mobileOpera:_i,mobileGecko:$i,retina:ki,passiveEvents:Bi,canvas:Mi,svg:cn,vml:Ii,inlineSvg:dn,mac:sn,linux:Zi},Qi=Ei.msPointer?"MSPointerDown":"pointerdown",Pn=Ei.msPointer?"MSPointerMove":"pointermove",ws=Ei.msPointer?"MSPointerUp":"pointerup",Xn=Ei.msPointer?"MSPointerCancel":"pointercancel",Cn={touchstart:Qi,touchmove:Pn,touchend:ws,touchcancel:Xn},Ks={touchstart:Jo,touchmove:hr,touchend:hr,touchcancel:hr},qn={},Fs=!1;function Os(Me,De,Re){return De==="touchstart"&&_s(),Ks[De]?(Re=Ks[De].bind(this,Re),Me.addEventListener(Cn[De],Re,!1),Re):(console.warn("wrong event specified:",De),je)}function Xo(Me,De,Re){if(!Cn[De]){console.warn("wrong event specified:",De);return}Me.removeEventListener(Cn[De],Re,!1)}function uo(Me){qn[Me.pointerId]=Me}function Yo(Me){qn[Me.pointerId]&&(qn[Me.pointerId]=Me)}function ho(Me){delete qn[Me.pointerId]}function _s(){Fs||(document.addEventListener(Qi,uo,!0),document.addEventListener(Pn,Yo,!0),document.addEventListener(ws,ho,!0),document.addEventListener(Xn,ho,!0),Fs=!0)}function hr(Me,De){if(De.pointerType!==(De.MSPOINTER_TYPE_MOUSE||"mouse")){De.touches=[];for(var Re in qn)De.touches.push(qn[Re]);De.changedTouches=[De],Me(De)}}function Jo(Me,De){De.MSPOINTER_TYPE_TOUCH&&De.pointerType===De.MSPOINTER_TYPE_TOUCH&&kn(De),hr(Me,De)}function Qo(Me){var De={},Re,qe;for(qe in Me)Re=Me[qe],De[qe]=Re&&Re.bind?Re.bind(Me):Re;return Me=De,De.type="dblclick",De.detail=2,De.isTrusted=!1,De._simulated=!0,De}var ea=200;function ta(Me,De){Me.addEventListener("dblclick",De);var Re=0,qe;function Ge(ti){if(ti.detail!==1){qe=ti.detail;return}if(!(ti.pointerType==="mouse"||ti.sourceCapabilities&&!ti.sourceCapabilities.firesTouchEvents)){var oi=xs(ti);if(!(oi.some(function(gi){return gi instanceof HTMLLabelElement&&gi.attributes.for})&&!oi.some(function(gi){return gi instanceof HTMLInputElement||gi instanceof HTMLSelectElement}))){var pi=Date.now();pi-Re<=ea?(qe++,qe===2&&De(Qo(ti))):qe=1,Re=pi}}}return Me.addEventListener("click",Ge),{dblclick:De,simDblclick:Ge}}function Or(Me,De){Me.removeEventListener("dblclick",De.dblclick),Me.removeEventListener("click",De.simDblclick)}var Mr=mr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xs=mr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hs=Xs==="webkitTransition"||Xs==="OTransition"?Xs+"End":"transitionend";function po(Me){return typeof Me=="string"?document.getElementById(Me):Me}function Ys(Me,De){var Re=Me.style[De]||Me.currentStyle&&Me.currentStyle[De];if((!Re||Re==="auto")&&document.defaultView){var qe=document.defaultView.getComputedStyle(Me,null);Re=qe?qe[De]:null}return Re==="auto"?null:Re}function ln(Me,De,Re){var qe=document.createElement(Me);return qe.className=De||"",Re&&Re.appendChild(qe),qe}function vn(Me){var De=Me.parentNode;De&&De.removeChild(Me)}function pr(Me){for(;Me.firstChild;)Me.removeChild(Me.firstChild)}function Ms(Me){var De=Me.parentNode;De&&De.lastChild!==Me&&De.appendChild(Me)}function Bs(Me){var De=Me.parentNode;De&&De.firstChild!==Me&&De.insertBefore(Me,De.firstChild)}function Br(Me,De){if(Me.classList!==void 0)return Me.classList.contains(De);var Re=fr(Me);return Re.length>0&&new RegExp("(^|\\s)"+De+"(\\s|$)").test(Re)}function Wi(Me,De){if(Me.classList!==void 0)for(var Re=Ke(De),qe=0,Ge=Re.length;qe<Ge;qe++)Me.classList.add(Re[qe]);else if(!Br(Me,De)){var ti=fr(Me);Ir(Me,(ti?ti+" ":"")+De)}}function ji(Me,De){Me.classList!==void 0?Me.classList.remove(De):Ir(Me,Ze((" "+fr(Me)+" ").replace(" "+De+" "," ")))}function Ir(Me,De){Me.className.baseVal===void 0?Me.className=De:Me.className.baseVal=De}function fr(Me){return Me.correspondingElement&&(Me=Me.correspondingElement),Me.className.baseVal===void 0?Me.className:Me.className.baseVal}function zn(Me,De){"opacity"in Me.style?Me.style.opacity=De:"filter"in Me.style&&ia(Me,De)}function ia(Me,De){var Re=!1,qe="DXImageTransform.Microsoft.Alpha";try{Re=Me.filters.item(qe)}catch{if(De===1)return}De=Math.round(De*100),Re?(Re.Enabled=De!==100,Re.Opacity=De):Me.style.filter+=" progid:"+qe+"(opacity="+De+")"}function mr(Me){for(var De=document.documentElement.style,Re=0;Re<Me.length;Re++)if(Me[Re]in De)return Me[Re];return!1}function Ps(Me,De,Re){var qe=De||new Ci(0,0);Me.style[Mr]=(Ei.ie3d?"translate("+qe.x+"px,"+qe.y+"px)":"translate3d("+qe.x+"px,"+qe.y+"px,0)")+(Re?" scale("+Re+")":"")}function Sn(Me,De){Me._leaflet_pos=De,Ei.any3d?Ps(Me,De):(Me.style.left=De.x+"px",Me.style.top=De.y+"px")}function Vn(Me){return Me._leaflet_pos||new Ci(0,0)}var Is,ps,bn;if("onselectstart"in document)Is=function(){Hi(window,"selectstart",kn)},ps=function(){mn(window,"selectstart",kn)};else{var Js=mr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Is=function(){if(Js){var Me=document.documentElement.style;bn=Me[Js],Me[Js]="none"}},ps=function(){Js&&(document.documentElement.style[Js]=bn,bn=void 0)}}function Dr(){Hi(window,"dragstart",kn)}function Nr(){mn(window,"dragstart",kn)}var Qs,Rr;function zr(Me){for(;Me.tabIndex===-1;)Me=Me.parentNode;Me.style&&(gr(),Qs=Me,Rr=Me.style.outlineStyle,Me.style.outlineStyle="none",Hi(window,"keydown",gr))}function gr(){Qs&&(Qs.style.outlineStyle=Rr,Qs=void 0,Rr=void 0,mn(window,"keydown",gr))}function Ur(Me){do Me=Me.parentNode;while((!Me.offsetWidth||!Me.offsetHeight)&&Me!==document.body);return Me}function jr(Me){var De=Me.getBoundingClientRect();return{x:De.width/Me.offsetWidth||1,y:De.height/Me.offsetHeight||1,boundingClientRect:De}}var fo={__proto__:null,TRANSFORM:Mr,TRANSITION:Xs,TRANSITION_END:hs,get:po,getStyle:Ys,create:ln,remove:vn,empty:pr,toFront:Ms,toBack:Bs,hasClass:Br,addClass:Wi,removeClass:ji,setClass:Ir,getClass:fr,setOpacity:zn,testProp:mr,setTransform:Ps,setPosition:Sn,getPosition:Vn,get disableTextSelection(){return Is},get enableTextSelection(){return ps},disableImageDrag:Dr,enableImageDrag:Nr,preventOutline:zr,restoreOutline:gr,getSizedParentNode:Ur,getScale:jr};function Hi(Me,De,Re,qe){if(De&&typeof De=="object")for(var Ge in De)qr(Me,Ge,De[Ge],Re);else{De=Ke(De);for(var ti=0,oi=De.length;ti<oi;ti++)qr(Me,De[ti],Re,qe)}return this}var Yn="_leaflet_events";function mn(Me,De,Re,qe){if(arguments.length===1)mo(Me),delete Me[Yn];else if(De&&typeof De=="object")for(var Ge in De)Vr(Me,Ge,De[Ge],Re);else if(De=Ke(De),arguments.length===2)mo(Me,function(pi){return ai(De,pi)!==-1});else for(var ti=0,oi=De.length;ti<oi;ti++)Vr(Me,De[ti],Re,qe);return this}function mo(Me,De){for(var Re in Me[Yn]){var qe=Re.split(/\d/)[0];(!De||De(qe))&&Vr(Me,qe,null,null,Re)}}var Hr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qr(Me,De,Re,qe){var Ge=De+Ne(Re)+(qe?"_"+Ne(qe):"");if(Me[Yn]&&Me[Yn][Ge])return this;var ti=function(pi){return Re.call(qe||Me,pi||window.event)},oi=ti;!Ei.touchNative&&Ei.pointer&&De.indexOf("touch")===0?ti=Os(Me,De,ti):Ei.touch&&De==="dblclick"?ti=ta(Me,ti):"addEventListener"in Me?De==="touchstart"||De==="touchmove"||De==="wheel"||De==="mousewheel"?Me.addEventListener(Hr[De]||De,ti,Ei.passiveEvents?{passive:!1}:!1):De==="mouseenter"||De==="mouseleave"?(ti=function(pi){pi=pi||window.event,yr(Me,pi)&&oi(pi)},Me.addEventListener(Hr[De],ti,!1)):Me.addEventListener(De,oi,!1):Me.attachEvent("on"+De,ti),Me[Yn]=Me[Yn]||{},Me[Yn][Ge]=ti}function Vr(Me,De,Re,qe,Ge){Ge=Ge||De+Ne(Re)+(qe?"_"+Ne(qe):"");var ti=Me[Yn]&&Me[Yn][Ge];if(!ti)return this;!Ei.touchNative&&Ei.pointer&&De.indexOf("touch")===0?Xo(Me,De,ti):Ei.touch&&De==="dblclick"?Or(Me,ti):"removeEventListener"in Me?Me.removeEventListener(Hr[De]||De,ti,!1):Me.detachEvent("on"+De,ti),Me[Yn][Ge]=null}function fs(Me){return Me.stopPropagation?Me.stopPropagation():Me.originalEvent?Me.originalEvent._stopped=!0:Me.cancelBubble=!0,this}function Wr(Me){return qr(Me,"wheel",fs),this}function Ds(Me){return Hi(Me,"mousedown touchstart dblclick contextmenu",fs),Me._leaflet_disable_click=!0,this}function kn(Me){return Me.preventDefault?Me.preventDefault():Me.returnValue=!1,this}function Ss(Me){return kn(Me),fs(Me),this}function xs(Me){if(Me.composedPath)return Me.composedPath();for(var De=[],Re=Me.target;Re;)De.push(Re),Re=Re.parentNode;return De}function Zr(Me,De){if(!De)return new Ci(Me.clientX,Me.clientY);var Re=jr(De),qe=Re.boundingClientRect;return new Ci((Me.clientX-qe.left)/Re.x-De.clientLeft,(Me.clientY-qe.top)/Re.y-De.clientTop)}var na=Ei.linux&&Ei.chrome?window.devicePixelRatio:Ei.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vr(Me){return Ei.edge?Me.wheelDeltaY/2:Me.deltaY&&Me.deltaMode===0?-Me.deltaY/na:Me.deltaY&&Me.deltaMode===1?-Me.deltaY*20:Me.deltaY&&Me.deltaMode===2?-Me.deltaY*60:Me.deltaX||Me.deltaZ?0:Me.wheelDelta?(Me.wheelDeltaY||Me.wheelDelta)/2:Me.detail&&Math.abs(Me.detail)<32765?-Me.detail*20:Me.detail?Me.detail/-32765*60:0}function yr(Me,De){var Re=De.relatedTarget;if(!Re)return!0;try{for(;Re&&Re!==Me;)Re=Re.parentNode}catch{return!1}return Re!==Me}var sa={__proto__:null,on:Hi,off:mn,stopPropagation:fs,disableScrollPropagation:Wr,disableClickPropagation:Ds,preventDefault:kn,stop:Ss,getPropagationPath:xs,getMousePosition:Zr,getWheelDelta:vr,isExternalTarget:yr,addListener:Hi,removeListener:mn},go=fn.extend({run:function(Me,De,Re,qe){this.stop(),this._el=Me,this._inProgress=!0,this._duration=Re||.25,this._easeOutPower=1/Math.max(qe||.5,.2),this._startPos=Vn(Me),this._offset=De.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=wi(this._animate,this),this._step()},_step:function(Me){var De=+new Date-this._startTime,Re=this._duration*1e3;De<Re?this._runFrame(this._easeOut(De/Re),Me):(this._runFrame(1),this._complete())},_runFrame:function(Me,De){var Re=this._startPos.add(this._offset.multiplyBy(Me));De&&Re._round(),Sn(this._el,Re),this.fire("step")},_complete:function(){Li(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Me){return 1-Math.pow(1-Me,this._easeOutPower)}}),an=fn.extend({options:{crs:In,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Me,De){De=Je(this,De),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(Me),this._initLayout(),this._onResize=Be(this._onResize,this),this._initEvents(),De.maxBounds&&this.setMaxBounds(De.maxBounds),De.zoom!==void 0&&(this._zoom=this._limitZoom(De.zoom)),De.center&&De.zoom!==void 0&&this.setView(Ui(De.center),De.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xs&&Ei.any3d&&!Ei.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Hi(this._proxy,hs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(Me,De,Re){if(De=De===void 0?this._zoom:this._limitZoom(De),Me=this._limitCenter(Ui(Me),De,this.options.maxBounds),Re=Re||{},this._stop(),this._loaded&&!Re.reset&&Re!==!0){Re.animate!==void 0&&(Re.zoom=Fe({animate:Re.animate},Re.zoom),Re.pan=Fe({animate:Re.animate,duration:Re.duration},Re.pan));var qe=this._zoom!==De?this._tryAnimatedZoom&&this._tryAnimatedZoom(Me,De,Re.zoom):this._tryAnimatedPan(Me,Re.pan);if(qe)return clearTimeout(this._sizeTimer),this}return this._resetView(Me,De,Re.pan&&Re.pan.noMoveStart),this},setZoom:function(Me,De){return this._loaded?this.setView(this.getCenter(),Me,{zoom:De}):(this._zoom=Me,this)},zoomIn:function(Me,De){return Me=Me||(Ei.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+Me,De)},zoomOut:function(Me,De){return Me=Me||(Ei.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-Me,De)},setZoomAround:function(Me,De,Re){var qe=this.getZoomScale(De),Ge=this.getSize().divideBy(2),ti=Me instanceof Ci?Me:this.latLngToContainerPoint(Me),oi=ti.subtract(Ge).multiplyBy(1-1/qe),pi=this.containerPointToLatLng(Ge.add(oi));return this.setView(pi,De,{zoom:Re})},_getBoundsCenterZoom:function(Me,De){De=De||{},Me=Me.getBounds?Me.getBounds():pn(Me);var Re=Pi(De.paddingTopLeft||De.padding||[0,0]),qe=Pi(De.paddingBottomRight||De.padding||[0,0]),Ge=this.getBoundsZoom(Me,!1,Re.add(qe));if(Ge=typeof De.maxZoom=="number"?Math.min(De.maxZoom,Ge):Ge,Ge===1/0)return{center:Me.getCenter(),zoom:Ge};var ti=qe.subtract(Re).divideBy(2),oi=this.project(Me.getSouthWest(),Ge),pi=this.project(Me.getNorthEast(),Ge),gi=this.unproject(oi.add(pi).divideBy(2).add(ti),Ge);return{center:gi,zoom:Ge}},fitBounds:function(Me,De){if(Me=pn(Me),!Me.isValid())throw new Error("Bounds are not valid.");var Re=this._getBoundsCenterZoom(Me,De);return this.setView(Re.center,Re.zoom,De)},fitWorld:function(Me){return this.fitBounds([[-90,-180],[90,180]],Me)},panTo:function(Me,De){return this.setView(Me,this._zoom,{pan:De})},panBy:function(Me,De){if(Me=Pi(Me).round(),De=De||{},!Me.x&&!Me.y)return this.fire("moveend");if(De.animate!==!0&&!this.getSize().contains(Me))return this._resetView(this.unproject(this.project(this.getCenter()).add(Me)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new go,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),De.noMoveStart||this.fire("movestart"),De.animate!==!1){Wi(this._mapPane,"leaflet-pan-anim");var Re=this._getMapPanePos().subtract(Me).round();this._panAnim.run(this._mapPane,Re,De.duration||.25,De.easeLinearity)}else this._rawPanBy(Me),this.fire("move").fire("moveend");return this},flyTo:function(Me,De,Re){if(Re=Re||{},Re.animate===!1||!Ei.any3d)return this.setView(Me,De,Re);this._stop();var qe=this.project(this.getCenter()),Ge=this.project(Me),ti=this.getSize(),oi=this._zoom;Me=Ui(Me),De=De===void 0?oi:De;var pi=Math.max(ti.x,ti.y),gi=pi*this.getZoomScale(oi,De),Si=Ge.distanceTo(qe)||1,Fi=1.42,Ni=Fi*Fi;function zi(wn){var Xe=wn?-1:1,He=wn?gi:pi,We=gi*gi-pi*pi+Xe*Ni*Ni*Si*Si,Ye=2*He*Ni*Si,si=We/Ye,yi=Math.sqrt(si*si+1)-si,Ai=yi<1e-9?-18:Math.log(yi);return Ai}function $n(wn){return(Math.exp(wn)-Math.exp(-wn))/2}function Gi(wn){return(Math.exp(wn)+Math.exp(-wn))/2}function jn(wn){return $n(wn)/Gi(wn)}var Mn=zi(0);function qs(wn){return pi*(Gi(Mn)/Gi(Mn+Fi*wn))}function Ta(wn){return pi*(Gi(Mn)*jn(Mn+Fi*wn)-$n(Mn))/Ni}function Ea(wn){return 1-Math.pow(1-wn,1.5)}var Ca=Date.now(),Go=(zi(1)-Mn)/Fi,Ko=Re.duration?1e3*Re.duration:1e3*Go*.8;function lo(){var wn=(Date.now()-Ca)/Ko,Xe=Ea(wn)*Go;wn<=1?(this._flyToFrame=wi(lo,this),this._move(this.unproject(qe.add(Ge.subtract(qe).multiplyBy(Ta(Xe)/Si)),oi),this.getScaleZoom(pi/qs(Xe),oi),{flyTo:!0})):this._move(Me,De)._moveEnd(!0)}return this._moveStart(!0,Re.noMoveStart),lo.call(this),this},flyToBounds:function(Me,De){var Re=this._getBoundsCenterZoom(Me,De);return this.flyTo(Re.center,Re.zoom,De)},setMaxBounds:function(Me){return Me=pn(Me),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),Me.isValid()?(this.options.maxBounds=Me,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(Me){var De=this.options.minZoom;return this.options.minZoom=Me,this._loaded&&De!==Me&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(Me):this},setMaxZoom:function(Me){var De=this.options.maxZoom;return this.options.maxZoom=Me,this._loaded&&De!==Me&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(Me):this},panInsideBounds:function(Me,De){this._enforcingBounds=!0;var Re=this.getCenter(),qe=this._limitCenter(Re,this._zoom,pn(Me));return Re.equals(qe)||this.panTo(qe,De),this._enforcingBounds=!1,this},panInside:function(Me,De){De=De||{};var Re=Pi(De.paddingTopLeft||De.padding||[0,0]),qe=Pi(De.paddingBottomRight||De.padding||[0,0]),Ge=this.project(this.getCenter()),ti=this.project(Me),oi=this.getPixelBounds(),pi=gn([oi.min.add(Re),oi.max.subtract(qe)]),gi=pi.getSize();if(!pi.contains(ti)){this._enforcingBounds=!0;var Si=ti.subtract(pi.getCenter()),Fi=pi.extend(ti).getSize().subtract(gi);Ge.x+=Si.x<0?-Fi.x:Fi.x,Ge.y+=Si.y<0?-Fi.y:Fi.y,this.panTo(this.unproject(Ge),De),this._enforcingBounds=!1}return this},invalidateSize:function(Me){if(!this._loaded)return this;Me=Fe({animate:!1,pan:!0},Me===!0?{animate:!0}:Me);var De=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Re=this.getSize(),qe=De.divideBy(2).round(),Ge=Re.divideBy(2).round(),ti=qe.subtract(Ge);return!ti.x&&!ti.y?this:(Me.animate&&Me.pan?this.panBy(ti):(Me.pan&&this._rawPanBy(ti),this.fire("move"),Me.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Be(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:De,newSize:Re}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(Me){if(Me=this._locateOptions=Fe({timeout:1e4,watch:!1},Me),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var De=Be(this._handleGeolocationResponse,this),Re=Be(this._handleGeolocationError,this);return Me.watch?this._locationWatchId=navigator.geolocation.watchPosition(De,Re,Me):navigator.geolocation.getCurrentPosition(De,Re,Me),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(Me){if(this._container._leaflet_id){var De=Me.code,Re=Me.message||(De===1?"permission denied":De===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:De,message:"Geolocation error: "+Re+"."})}},_handleGeolocationResponse:function(Me){if(this._container._leaflet_id){var De=Me.coords.latitude,Re=Me.coords.longitude,qe=new hi(De,Re),Ge=qe.toBounds(Me.coords.accuracy*2),ti=this._locateOptions;if(ti.setView){var oi=this.getBoundsZoom(Ge);this.setView(qe,ti.maxZoom?Math.min(oi,ti.maxZoom):oi)}var pi={latlng:qe,bounds:Ge,timestamp:Me.timestamp};for(var gi in Me.coords)typeof Me.coords[gi]=="number"&&(pi[gi]=Me.coords[gi]);this.fire("locationfound",pi)}},addHandler:function(Me,De){if(!De)return this;var Re=this[Me]=new De(this);return this._handlers.push(Re),this.options[Me]&&Re.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Li(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var Me;for(Me in this._layers)this._layers[Me].remove();for(Me in this._panes)vn(this._panes[Me]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Me,De){var Re="leaflet-pane"+(Me?" leaflet-"+Me.replace("Pane","")+"-pane":""),qe=ln("div",Re,De||this._mapPane);return Me&&(this._panes[Me]=qe),qe},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Me=this.getPixelBounds(),De=this.unproject(Me.getBottomLeft()),Re=this.unproject(Me.getTopRight());return new yn(De,Re)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Me,De,Re){Me=pn(Me),Re=Pi(Re||[0,0]);var qe=this.getZoom()||0,Ge=this.getMinZoom(),ti=this.getMaxZoom(),oi=Me.getNorthWest(),pi=Me.getSouthEast(),gi=this.getSize().subtract(Re),Si=gn(this.project(pi,qe),this.project(oi,qe)).getSize(),Fi=Ei.any3d?this.options.zoomSnap:1,Ni=gi.x/Si.x,zi=gi.y/Si.y,$n=De?Math.max(Ni,zi):Math.min(Ni,zi);return qe=this.getScaleZoom($n,qe),Fi&&(qe=Math.round(qe/(Fi/100))*(Fi/100),qe=De?Math.ceil(qe/Fi)*Fi:Math.floor(qe/Fi)*Fi),Math.max(Ge,Math.min(ti,qe))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ci(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(Me,De){var Re=this._getTopLeftPoint(Me,De);return new Ki(Re,Re.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Me){return this.options.crs.getProjectedBounds(Me===void 0?this.getZoom():Me)},getPane:function(Me){return typeof Me=="string"?this._panes[Me]:Me},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Me,De){var Re=this.options.crs;return De=De===void 0?this._zoom:De,Re.scale(Me)/Re.scale(De)},getScaleZoom:function(Me,De){var Re=this.options.crs;De=De===void 0?this._zoom:De;var qe=Re.zoom(Me*Re.scale(De));return isNaN(qe)?1/0:qe},project:function(Me,De){return De=De===void 0?this._zoom:De,this.options.crs.latLngToPoint(Ui(Me),De)},unproject:function(Me,De){return De=De===void 0?this._zoom:De,this.options.crs.pointToLatLng(Pi(Me),De)},layerPointToLatLng:function(Me){var De=Pi(Me).add(this.getPixelOrigin());return this.unproject(De)},latLngToLayerPoint:function(Me){var De=this.project(Ui(Me))._round();return De._subtract(this.getPixelOrigin())},wrapLatLng:function(Me){return this.options.crs.wrapLatLng(Ui(Me))},wrapLatLngBounds:function(Me){return this.options.crs.wrapLatLngBounds(pn(Me))},distance:function(Me,De){return this.options.crs.distance(Ui(Me),Ui(De))},containerPointToLayerPoint:function(Me){return Pi(Me).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Me){return Pi(Me).add(this._getMapPanePos())},containerPointToLatLng:function(Me){var De=this.containerPointToLayerPoint(Pi(Me));return this.layerPointToLatLng(De)},latLngToContainerPoint:function(Me){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ui(Me)))},mouseEventToContainerPoint:function(Me){return Zr(Me,this._container)},mouseEventToLayerPoint:function(Me){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Me))},mouseEventToLatLng:function(Me){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Me))},_initContainer:function(Me){var De=this._container=po(Me);if(De){if(De._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Hi(De,"scroll",this._onScroll,this),this._containerId=Ne(De)},_initLayout:function(){var Me=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ei.any3d,Wi(Me,"leaflet-container"+(Ei.touch?" leaflet-touch":"")+(Ei.retina?" leaflet-retina":"")+(Ei.ielt9?" leaflet-oldie":"")+(Ei.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var De=Ys(Me,"position");De!=="absolute"&&De!=="relative"&&De!=="fixed"&&De!=="sticky"&&(Me.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var Me=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Sn(this._mapPane,new Ci(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wi(Me.markerPane,"leaflet-zoom-hide"),Wi(Me.shadowPane,"leaflet-zoom-hide"))},_resetView:function(Me,De,Re){Sn(this._mapPane,new Ci(0,0));var qe=!this._loaded;this._loaded=!0,De=this._limitZoom(De),this.fire("viewprereset");var Ge=this._zoom!==De;this._moveStart(Ge,Re)._move(Me,De)._moveEnd(Ge),this.fire("viewreset"),qe&&this.fire("load")},_moveStart:function(Me,De){return Me&&this.fire("zoomstart"),De||this.fire("movestart"),this},_move:function(Me,De,Re,qe){De===void 0&&(De=this._zoom);var Ge=this._zoom!==De;return this._zoom=De,this._lastCenter=Me,this._pixelOrigin=this._getNewPixelOrigin(Me),qe?Re&&Re.pinch&&this.fire("zoom",Re):((Ge||Re&&Re.pinch)&&this.fire("zoom",Re),this.fire("move",Re)),this},_moveEnd:function(Me){return Me&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Li(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(Me){Sn(this._mapPane,this._getMapPanePos().subtract(Me))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Me){this._targets={},this._targets[Ne(this._container)]=this;var De=Me?mn:Hi;De(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&De(window,"resize",this._onResize,this),Ei.any3d&&this.options.transform3DLimit&&(Me?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Li(this._resizeRequest),this._resizeRequest=wi(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Me=this._getMapPanePos();Math.max(Math.abs(Me.x),Math.abs(Me.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Me,De){for(var Re=[],qe,Ge=De==="mouseout"||De==="mouseover",ti=Me.target||Me.srcElement,oi=!1;ti;){if(qe=this._targets[Ne(ti)],qe&&(De==="click"||De==="preclick")&&this._draggableMoved(qe)){oi=!0;break}if(qe&&qe.listens(De,!0)&&(Ge&&!yr(ti,Me)||(Re.push(qe),Ge))||ti===this._container)break;ti=ti.parentNode}return!Re.length&&!oi&&!Ge&&this.listens(De,!0)&&(Re=[this]),Re},_isClickDisabled:function(Me){for(;Me&&Me!==this._container;){if(Me._leaflet_disable_click)return!0;Me=Me.parentNode}},_handleDOMEvent:function(Me){var De=Me.target||Me.srcElement;if(!(!this._loaded||De._leaflet_disable_events||Me.type==="click"&&this._isClickDisabled(De))){var Re=Me.type;Re==="mousedown"&&zr(De),this._fireDOMEvent(Me,Re)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Me,De,Re){if(Me.type==="click"){var qe=Fe({},Me);qe.type="preclick",this._fireDOMEvent(qe,qe.type,Re)}var Ge=this._findEventTargets(Me,De);if(Re){for(var ti=[],oi=0;oi<Re.length;oi++)Re[oi].listens(De,!0)&&ti.push(Re[oi]);Ge=ti.concat(Ge)}if(Ge.length){De==="contextmenu"&&kn(Me);var pi=Ge[0],gi={originalEvent:Me};if(Me.type!=="keypress"&&Me.type!=="keydown"&&Me.type!=="keyup"){var Si=pi.getLatLng&&(!pi._radius||pi._radius<=10);gi.containerPoint=Si?this.latLngToContainerPoint(pi.getLatLng()):this.mouseEventToContainerPoint(Me),gi.layerPoint=this.containerPointToLayerPoint(gi.containerPoint),gi.latlng=Si?pi.getLatLng():this.layerPointToLatLng(gi.layerPoint)}for(oi=0;oi<Ge.length;oi++)if(Ge[oi].fire(De,gi,!0),gi.originalEvent._stopped||Ge[oi].options.bubblingMouseEvents===!1&&ai(this._mouseEvents,De)!==-1)return}},_draggableMoved:function(Me){return Me=Me.dragging&&Me.dragging.enabled()?Me:this,Me.dragging&&Me.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Me=0,De=this._handlers.length;Me<De;Me++)this._handlers[Me].disable()},whenReady:function(Me,De){return this._loaded?Me.call(De||this,{target:this}):this.on("load",Me,De),this},_getMapPanePos:function(){return Vn(this._mapPane)||new Ci(0,0)},_moved:function(){var Me=this._getMapPanePos();return Me&&!Me.equals([0,0])},_getTopLeftPoint:function(Me,De){var Re=Me&&De!==void 0?this._getNewPixelOrigin(Me,De):this.getPixelOrigin();return Re.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Me,De){var Re=this.getSize()._divideBy(2);return this.project(Me,De)._subtract(Re)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Me,De,Re){var qe=this._getNewPixelOrigin(Re,De);return this.project(Me,De)._subtract(qe)},_latLngBoundsToNewLayerBounds:function(Me,De,Re){var qe=this._getNewPixelOrigin(Re,De);return gn([this.project(Me.getSouthWest(),De)._subtract(qe),this.project(Me.getNorthWest(),De)._subtract(qe),this.project(Me.getSouthEast(),De)._subtract(qe),this.project(Me.getNorthEast(),De)._subtract(qe)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Me){return this.latLngToLayerPoint(Me).subtract(this._getCenterLayerPoint())},_limitCenter:function(Me,De,Re){if(!Re)return Me;var qe=this.project(Me,De),Ge=this.getSize().divideBy(2),ti=new Ki(qe.subtract(Ge),qe.add(Ge)),oi=this._getBoundsOffset(ti,Re,De);return Math.abs(oi.x)<=1&&Math.abs(oi.y)<=1?Me:this.unproject(qe.add(oi),De)},_limitOffset:function(Me,De){if(!De)return Me;var Re=this.getPixelBounds(),qe=new Ki(Re.min.add(Me),Re.max.add(Me));return Me.add(this._getBoundsOffset(qe,De))},_getBoundsOffset:function(Me,De,Re){var qe=gn(this.project(De.getNorthEast(),Re),this.project(De.getSouthWest(),Re)),Ge=qe.min.subtract(Me.min),ti=qe.max.subtract(Me.max),oi=this._rebound(Ge.x,-ti.x),pi=this._rebound(Ge.y,-ti.y);return new Ci(oi,pi)},_rebound:function(Me,De){return Me+De>0?Math.round(Me-De)/2:Math.max(0,Math.ceil(Me))-Math.max(0,Math.floor(De))},_limitZoom:function(Me){var De=this.getMinZoom(),Re=this.getMaxZoom(),qe=Ei.any3d?this.options.zoomSnap:1;return qe&&(Me=Math.round(Me/qe)*qe),Math.max(De,Math.min(Re,Me))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ji(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Me,De){var Re=this._getCenterOffset(Me)._trunc();return(De&&De.animate)!==!0&&!this.getSize().contains(Re)?!1:(this.panBy(Re,De),!0)},_createAnimProxy:function(){var Me=this._proxy=ln("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Me),this.on("zoomanim",function(De){var Re=Mr,qe=this._proxy.style[Re];Ps(this._proxy,this.project(De.center,De.zoom),this.getZoomScale(De.zoom,1)),qe===this._proxy.style[Re]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var Me=this.getCenter(),De=this.getZoom();Ps(this._proxy,this.project(Me,De),this.getZoomScale(De,1))},_catchTransitionEnd:function(Me){this._animatingZoom&&Me.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Me,De,Re){if(this._animatingZoom)return!0;if(Re=Re||{},!this._zoomAnimated||Re.animate===!1||this._nothingToAnimate()||Math.abs(De-this._zoom)>this.options.zoomAnimationThreshold)return!1;var qe=this.getZoomScale(De),Ge=this._getCenterOffset(Me)._divideBy(1-1/qe);return Re.animate!==!0&&!this.getSize().contains(Ge)?!1:(wi(function(){this._moveStart(!0,Re.noMoveStart||!1)._animateZoom(Me,De,!0)},this),!0)},_animateZoom:function(Me,De,Re,qe){this._mapPane&&(Re&&(this._animatingZoom=!0,this._animateToCenter=Me,this._animateToZoom=De,Wi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:Me,zoom:De,noUpdate:qe}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Be(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ji(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ra(Me,De){return new an(Me,De)}var Wn=Oi.extend({options:{position:"topright"},initialize:function(Me){Je(this,Me)},getPosition:function(){return this.options.position},setPosition:function(Me){var De=this._map;return De&&De.removeControl(this),this.options.position=Me,De&&De.addControl(this),this},getContainer:function(){return this._container},addTo:function(Me){this.remove(),this._map=Me;var De=this._container=this.onAdd(Me),Re=this.getPosition(),qe=Me._controlCorners[Re];return Wi(De,"leaflet-control"),Re.indexOf("bottom")!==-1?qe.insertBefore(De,qe.firstChild):qe.appendChild(De),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(Me){this._map&&Me&&Me.screenX>0&&Me.screenY>0&&this._map.getContainer().focus()}}),er=function(Me){return new Wn(Me)};an.include({addControl:function(Me){return Me.addTo(this),this},removeControl:function(Me){return Me.remove(),this},_initControlPos:function(){var Me=this._controlCorners={},De="leaflet-",Re=this._controlContainer=ln("div",De+"control-container",this._container);function qe(Ge,ti){var oi=De+Ge+" "+De+ti;Me[Ge+ti]=ln("div",oi,Re)}qe("top","left"),qe("top","right"),qe("bottom","left"),qe("bottom","right")},_clearControlPos:function(){for(var Me in this._controlCorners)vn(this._controlCorners[Me]);vn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ts=Wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Me,De,Re,qe){return Re<qe?-1:qe<Re?1:0}},initialize:function(Me,De,Re){Je(this,Re),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var qe in Me)this._addLayer(Me[qe],qe);for(qe in De)this._addLayer(De[qe],qe,!0)},onAdd:function(Me){this._initLayout(),this._update(),this._map=Me,Me.on("zoomend",this._checkDisabledLayers,this);for(var De=0;De<this._layers.length;De++)this._layers[De].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Me){return Wn.prototype.addTo.call(this,Me),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Me=0;Me<this._layers.length;Me++)this._layers[Me].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Me,De){return this._addLayer(Me,De),this._map?this._update():this},addOverlay:function(Me,De){return this._addLayer(Me,De,!0),this._map?this._update():this},removeLayer:function(Me){Me.off("add remove",this._onLayerChange,this);var De=this._getLayer(Ne(Me));return De&&this._layers.splice(this._layers.indexOf(De),1),this._map?this._update():this},expand:function(){Wi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var Me=this._map.getSize().y-(this._container.offsetTop+50);return Me<this._section.clientHeight?(Wi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=Me+"px"):ji(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ji(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Me="leaflet-control-layers",De=this._container=ln("div",Me),Re=this.options.collapsed;De.setAttribute("aria-haspopup",!0),Ds(De),Wr(De);var qe=this._section=ln("section",Me+"-list");Re&&(this._map.on("click",this.collapse,this),Hi(De,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Ge=this._layersLink=ln("a",Me+"-toggle",De);Ge.href="#",Ge.title="Layers",Ge.setAttribute("role","button"),Hi(Ge,{keydown:function(ti){ti.keyCode===13&&this._expandSafely()},click:function(ti){kn(ti),this._expandSafely()}},this),Re||this.expand(),this._baseLayersList=ln("div",Me+"-base",qe),this._separator=ln("div",Me+"-separator",qe),this._overlaysList=ln("div",Me+"-overlays",qe),De.appendChild(qe)},_getLayer:function(Me){for(var De=0;De<this._layers.length;De++)if(this._layers[De]&&Ne(this._layers[De].layer)===Me)return this._layers[De]},_addLayer:function(Me,De,Re){this._map&&Me.on("add remove",this._onLayerChange,this),this._layers.push({layer:Me,name:De,overlay:Re}),this.options.sortLayers&&this._layers.sort(Be(function(qe,Ge){return this.options.sortFunction(qe.layer,Ge.layer,qe.name,Ge.name)},this)),this.options.autoZIndex&&Me.setZIndex&&(this._lastZIndex++,Me.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pr(this._baseLayersList),pr(this._overlaysList),this._layerControlInputs=[];var Me,De,Re,qe,Ge=0;for(Re=0;Re<this._layers.length;Re++)qe=this._layers[Re],this._addItem(qe),De=De||qe.overlay,Me=Me||!qe.overlay,Ge+=qe.overlay?0:1;return this.options.hideSingleBase&&(Me=Me&&Ge>1,this._baseLayersList.style.display=Me?"":"none"),this._separator.style.display=De&&Me?"":"none",this},_onLayerChange:function(Me){this._handlingClick||this._update();var De=this._getLayer(Ne(Me.target)),Re=De.overlay?Me.type==="add"?"overlayadd":"overlayremove":Me.type==="add"?"baselayerchange":null;Re&&this._map.fire(Re,De)},_createRadioElement:function(Me,De){var Re='<input type="radio" class="leaflet-control-layers-selector" name="'+Me+'"'+(De?' checked="checked"':"")+"/>",qe=document.createElement("div");return qe.innerHTML=Re,qe.firstChild},_addItem:function(Me){var De=document.createElement("label"),Re=this._map.hasLayer(Me.layer),qe;Me.overlay?(qe=document.createElement("input"),qe.type="checkbox",qe.className="leaflet-control-layers-selector",qe.defaultChecked=Re):qe=this._createRadioElement("leaflet-base-layers_"+Ne(this),Re),this._layerControlInputs.push(qe),qe.layerId=Ne(Me.layer),Hi(qe,"click",this._onInputClick,this);var Ge=document.createElement("span");Ge.innerHTML=" "+Me.name;var ti=document.createElement("span");De.appendChild(ti),ti.appendChild(qe),ti.appendChild(Ge);var oi=Me.overlay?this._overlaysList:this._baseLayersList;return oi.appendChild(De),this._checkDisabledLayers(),De},_onInputClick:function(){if(!this._preventClick){var Me=this._layerControlInputs,De,Re,qe=[],Ge=[];this._handlingClick=!0;for(var ti=Me.length-1;ti>=0;ti--)De=Me[ti],Re=this._getLayer(De.layerId).layer,De.checked?qe.push(Re):De.checked||Ge.push(Re);for(ti=0;ti<Ge.length;ti++)this._map.hasLayer(Ge[ti])&&this._map.removeLayer(Ge[ti]);for(ti=0;ti<qe.length;ti++)this._map.hasLayer(qe[ti])||this._map.addLayer(qe[ti]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var Me=this._layerControlInputs,De,Re,qe=this._map.getZoom(),Ge=Me.length-1;Ge>=0;Ge--)De=Me[Ge],Re=this._getLayer(De.layerId).layer,De.disabled=Re.options.minZoom!==void 0&&qe<Re.options.minZoom||Re.options.maxZoom!==void 0&&qe>Re.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var Me=this._section;this._preventClick=!0,Hi(Me,"click",kn),this.expand();var De=this;setTimeout(function(){mn(Me,"click",kn),De._preventClick=!1})}}),oa=function(Me,De,Re){return new Ts(Me,De,Re)},br=Wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(Me){var De="leaflet-control-zoom",Re=ln("div",De+" leaflet-bar"),qe=this.options;return this._zoomInButton=this._createButton(qe.zoomInText,qe.zoomInTitle,De+"-in",Re,this._zoomIn),this._zoomOutButton=this._createButton(qe.zoomOutText,qe.zoomOutTitle,De+"-out",Re,this._zoomOut),this._updateDisabled(),Me.on("zoomend zoomlevelschange",this._updateDisabled,this),Re},onRemove:function(Me){Me.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Me){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(Me.shiftKey?3:1))},_zoomOut:function(Me){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(Me.shiftKey?3:1))},_createButton:function(Me,De,Re,qe,Ge){var ti=ln("a",Re,qe);return ti.innerHTML=Me,ti.href="#",ti.title=De,ti.setAttribute("role","button"),ti.setAttribute("aria-label",De),Ds(ti),Hi(ti,"click",Ss),Hi(ti,"click",Ge,this),Hi(ti,"click",this._refocusOnMap,this),ti},_updateDisabled:function(){var Me=this._map,De="leaflet-disabled";ji(this._zoomInButton,De),ji(this._zoomOutButton,De),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||Me._zoom===Me.getMinZoom())&&(Wi(this._zoomOutButton,De),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||Me._zoom===Me.getMaxZoom())&&(Wi(this._zoomInButton,De),this._zoomInButton.setAttribute("aria-disabled","true"))}});an.mergeOptions({zoomControl:!0}),an.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new br,this.addControl(this.zoomControl))});var vo=function(Me){return new br(Me)},yo=Wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Me){var De="leaflet-control-scale",Re=ln("div",De),qe=this.options;return this._addScales(qe,De+"-line",Re),Me.on(qe.updateWhenIdle?"moveend":"move",this._update,this),Me.whenReady(this._update,this),Re},onRemove:function(Me){Me.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Me,De,Re){Me.metric&&(this._mScale=ln("div",De,Re)),Me.imperial&&(this._iScale=ln("div",De,Re))},_update:function(){var Me=this._map,De=Me.getSize().y/2,Re=Me.distance(Me.containerPointToLatLng([0,De]),Me.containerPointToLatLng([this.options.maxWidth,De]));this._updateScales(Re)},_updateScales:function(Me){this.options.metric&&Me&&this._updateMetric(Me),this.options.imperial&&Me&&this._updateImperial(Me)},_updateMetric:function(Me){var De=this._getRoundNum(Me),Re=De<1e3?De+" m":De/1e3+" km";this._updateScale(this._mScale,Re,De/Me)},_updateImperial:function(Me){var De=Me*3.2808399,Re,qe,Ge;De>5280?(Re=De/5280,qe=this._getRoundNum(Re),this._updateScale(this._iScale,qe+" mi",qe/Re)):(Ge=this._getRoundNum(De),this._updateScale(this._iScale,Ge+" ft",Ge/De))},_updateScale:function(Me,De,Re){Me.style.width=Math.round(this.options.maxWidth*Re)+"px",Me.innerHTML=De},_getRoundNum:function(Me){var De=Math.pow(10,(Math.floor(Me)+"").length-1),Re=Me/De;return Re=Re>=10?10:Re>=5?5:Re>=3?3:Re>=2?2:1,De*Re}}),aa=function(Me){return new yo(Me)},la='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gr=Wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ei.inlineSvg?la+" ":"")+"Leaflet</a>"},initialize:function(Me){Je(this,Me),this._attributions={}},onAdd:function(Me){Me.attributionControl=this,this._container=ln("div","leaflet-control-attribution"),Ds(this._container);for(var De in Me._layers)Me._layers[De].getAttribution&&this.addAttribution(Me._layers[De].getAttribution());return this._update(),Me.on("layeradd",this._addAttribution,this),this._container},onRemove:function(Me){Me.off("layeradd",this._addAttribution,this)},_addAttribution:function(Me){Me.layer.getAttribution&&(this.addAttribution(Me.layer.getAttribution()),Me.layer.once("remove",function(){this.removeAttribution(Me.layer.getAttribution())},this))},setPrefix:function(Me){return this.options.prefix=Me,this._update(),this},addAttribution:function(Me){return Me?(this._attributions[Me]||(this._attributions[Me]=0),this._attributions[Me]++,this._update(),this):this},removeAttribution:function(Me){return Me?(this._attributions[Me]&&(this._attributions[Me]--,this._update()),this):this},_update:function(){if(this._map){var Me=[];for(var De in this._attributions)this._attributions[De]&&Me.push(De);var Re=[];this.options.prefix&&Re.push(this.options.prefix),Me.length&&Re.push(Me.join(", ")),this._container.innerHTML=Re.join(' <span aria-hidden="true">|</span> ')}}});an.mergeOptions({attributionControl:!0}),an.addInitHook(function(){this.options.attributionControl&&new Gr().addTo(this)});var ca=function(Me){return new Gr(Me)};Wn.Layers=Ts,Wn.Zoom=br,Wn.Scale=yo,Wn.Attribution=Gr,er.layers=oa,er.zoom=vo,er.scale=aa,er.attribution=ca;var Jn=Oi.extend({initialize:function(Me){this._map=Me},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(Me,De){return Me.addHandler(De,this),this};var ua={Events:Ri},Es=Ei.touch?"touchstart mousedown":"mousedown",ms=fn.extend({options:{clickTolerance:3},initialize:function(Me,De,Re,qe){Je(this,qe),this._element=Me,this._dragStartTarget=De||Me,this._preventOutline=Re},enable:function(){this._enabled||(Hi(this._dragStartTarget,Es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ms._dragging===this&&this.finishDrag(!0),mn(this._dragStartTarget,Es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(Me){if(this._enabled&&(this._moved=!1,!Br(this._element,"leaflet-zoom-anim"))){if(Me.touches&&Me.touches.length!==1){ms._dragging===this&&this.finishDrag();return}if(!(ms._dragging||Me.shiftKey||Me.which!==1&&Me.button!==1&&!Me.touches)&&(ms._dragging=this,this._preventOutline&&zr(this._element),Dr(),Is(),!this._moving)){this.fire("down");var De=Me.touches?Me.touches[0]:Me,Re=Ur(this._element);this._startPoint=new Ci(De.clientX,De.clientY),this._startPos=Vn(this._element),this._parentScale=jr(Re);var qe=Me.type==="mousedown";Hi(document,qe?"mousemove":"touchmove",this._onMove,this),Hi(document,qe?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(Me){if(this._enabled){if(Me.touches&&Me.touches.length>1){this._moved=!0;return}var De=Me.touches&&Me.touches.length===1?Me.touches[0]:Me,Re=new Ci(De.clientX,De.clientY)._subtract(this._startPoint);!Re.x&&!Re.y||Math.abs(Re.x)+Math.abs(Re.y)<this.options.clickTolerance||(Re.x/=this._parentScale.x,Re.y/=this._parentScale.y,kn(Me),this._moved||(this.fire("dragstart"),this._moved=!0,Wi(document.body,"leaflet-dragging"),this._lastTarget=Me.target||Me.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Re),this._moving=!0,this._lastEvent=Me,this._updatePosition())}},_updatePosition:function(){var Me={originalEvent:this._lastEvent};this.fire("predrag",Me),Sn(this._element,this._newPos),this.fire("drag",Me)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(Me){ji(document.body,"leaflet-dragging"),this._lastTarget&&(ji(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mn(document,"mousemove touchmove",this._onMove,this),mn(document,"mouseup touchend touchcancel",this._onUp,this),Nr(),ps();var De=this._moved&&this._moving;this._moving=!1,ms._dragging=!1,De&&this.fire("dragend",{noInertia:Me,distance:this._newPos.distanceTo(this._startPos)})}});function bo(Me,De,Re){var qe,Ge=[1,4,2,8],ti,oi,pi,gi,Si,Fi,Ni,zi;for(ti=0,Fi=Me.length;ti<Fi;ti++)Me[ti]._code=$s(Me[ti],De);for(pi=0;pi<4;pi++){for(Ni=Ge[pi],qe=[],ti=0,Fi=Me.length,oi=Fi-1;ti<Fi;oi=ti++)gi=Me[ti],Si=Me[oi],gi._code&Ni?Si._code&Ni||(zi=wr(Si,gi,Ni,De,Re),zi._code=$s(zi,De),qe.push(zi)):(Si._code&Ni&&(zi=wr(Si,gi,Ni,De,Re),zi._code=$s(zi,De),qe.push(zi)),qe.push(gi));Me=qe}return Me}function Kr(Me,De){var Re,qe,Ge,ti,oi,pi,gi,Si,Fi;if(!Me||Me.length===0)throw new Error("latlngs not passed");Un(Me)||(console.warn("latlngs are not flat! Only the first ring will be used"),Me=Me[0]);var Ni=Ui([0,0]),zi=pn(Me),$n=zi.getNorthWest().distanceTo(zi.getSouthWest())*zi.getNorthEast().distanceTo(zi.getNorthWest());$n<1700&&(Ni=Xr(Me));var Gi=Me.length,jn=[];for(Re=0;Re<Gi;Re++){var Mn=Ui(Me[Re]);jn.push(De.project(Ui([Mn.lat-Ni.lat,Mn.lng-Ni.lng])))}for(pi=gi=Si=0,Re=0,qe=Gi-1;Re<Gi;qe=Re++)Ge=jn[Re],ti=jn[qe],oi=Ge.y*ti.x-ti.y*Ge.x,gi+=(Ge.x+ti.x)*oi,Si+=(Ge.y+ti.y)*oi,pi+=oi*3;pi===0?Fi=jn[0]:Fi=[gi/pi,Si/pi];var qs=De.unproject(Pi(Fi));return Ui([qs.lat+Ni.lat,qs.lng+Ni.lng])}function Xr(Me){for(var De=0,Re=0,qe=0,Ge=0;Ge<Me.length;Ge++){var ti=Ui(Me[Ge]);De+=ti.lat,Re+=ti.lng,qe++}return Ui([De/qe,Re/qe])}var gs={__proto__:null,clipPolygon:bo,polygonCenter:Kr,centroid:Xr};function wo(Me,De){if(!De||!Me.length)return Me.slice();var Re=De*De;return Me=ha(Me,Re),Me=da(Me,Re),Me}function Yr(Me,De,Re){return Math.sqrt(ir(Me,De,Re,!0))}function tr(Me,De,Re){return ir(Me,De,Re)}function da(Me,De){var Re=Me.length,qe=typeof Uint8Array<"u"?Uint8Array:Array,Ge=new qe(Re);Ge[0]=Ge[Re-1]=1,Jr(Me,Ge,De,0,Re-1);var ti,oi=[];for(ti=0;ti<Re;ti++)Ge[ti]&&oi.push(Me[ti]);return oi}function Jr(Me,De,Re,qe,Ge){var ti=0,oi,pi,gi;for(pi=qe+1;pi<=Ge-1;pi++)gi=ir(Me[pi],Me[qe],Me[Ge],!0),gi>ti&&(oi=pi,ti=gi);ti>Re&&(De[oi]=1,Jr(Me,De,Re,qe,oi),Jr(Me,De,Re,oi,Ge))}function ha(Me,De){for(var Re=[Me[0]],qe=1,Ge=0,ti=Me.length;qe<ti;qe++)pa(Me[qe],Me[Ge])>De&&(Re.push(Me[qe]),Ge=qe);return Ge<ti-1&&Re.push(Me[ti-1]),Re}var Qr;function Cs(Me,De,Re,qe,Ge){var ti=qe?Qr:$s(Me,Re),oi=$s(De,Re),pi,gi,Si;for(Qr=oi;;){if(!(ti|oi))return[Me,De];if(ti&oi)return!1;pi=ti||oi,gi=wr(Me,De,pi,Re,Ge),Si=$s(gi,Re),pi===ti?(Me=gi,ti=Si):(De=gi,oi=Si)}}function wr(Me,De,Re,qe,Ge){var ti=De.x-Me.x,oi=De.y-Me.y,pi=qe.min,gi=qe.max,Si,Fi;return Re&8?(Si=Me.x+ti*(gi.y-Me.y)/oi,Fi=gi.y):Re&4?(Si=Me.x+ti*(pi.y-Me.y)/oi,Fi=pi.y):Re&2?(Si=gi.x,Fi=Me.y+oi*(gi.x-Me.x)/ti):Re&1&&(Si=pi.x,Fi=Me.y+oi*(pi.x-Me.x)/ti),new Ci(Si,Fi,Ge)}function $s(Me,De){var Re=0;return Me.x<De.min.x?Re|=1:Me.x>De.max.x&&(Re|=2),Me.y<De.min.y?Re|=4:Me.y>De.max.y&&(Re|=8),Re}function pa(Me,De){var Re=De.x-Me.x,qe=De.y-Me.y;return Re*Re+qe*qe}function ir(Me,De,Re,qe){var Ge=De.x,ti=De.y,oi=Re.x-Ge,pi=Re.y-ti,gi=oi*oi+pi*pi,Si;return gi>0&&(Si=((Me.x-Ge)*oi+(Me.y-ti)*pi)/gi,Si>1?(Ge=Re.x,ti=Re.y):Si>0&&(Ge+=oi*Si,ti+=pi*Si)),oi=Me.x-Ge,pi=Me.y-ti,qe?oi*oi+pi*pi:new Ci(Ge,ti)}function Un(Me){return!ii(Me[0])||typeof Me[0][0]!="object"&&typeof Me[0][0]<"u"}function _o(Me){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Un(Me)}function Po(Me,De){var Re,qe,Ge,ti,oi,pi,gi,Si;if(!Me||Me.length===0)throw new Error("latlngs not passed");Un(Me)||(console.warn("latlngs are not flat! Only the first ring will be used"),Me=Me[0]);var Fi=Ui([0,0]),Ni=pn(Me),zi=Ni.getNorthWest().distanceTo(Ni.getSouthWest())*Ni.getNorthEast().distanceTo(Ni.getNorthWest());zi<1700&&(Fi=Xr(Me));var $n=Me.length,Gi=[];for(Re=0;Re<$n;Re++){var jn=Ui(Me[Re]);Gi.push(De.project(Ui([jn.lat-Fi.lat,jn.lng-Fi.lng])))}for(Re=0,qe=0;Re<$n-1;Re++)qe+=Gi[Re].distanceTo(Gi[Re+1])/2;if(qe===0)Si=Gi[0];else for(Re=0,ti=0;Re<$n-1;Re++)if(oi=Gi[Re],pi=Gi[Re+1],Ge=oi.distanceTo(pi),ti+=Ge,ti>qe){gi=(ti-qe)/Ge,Si=[pi.x-gi*(pi.x-oi.x),pi.y-gi*(pi.y-oi.y)];break}var Mn=De.unproject(Pi(Si));return Ui([Mn.lat+Fi.lat,Mn.lng+Fi.lng])}var fa={__proto__:null,simplify:wo,pointToSegmentDistance:Yr,closestPointOnSegment:tr,clipSegment:Cs,_getEdgeIntersection:wr,_getBitCode:$s,_sqClosestPointOnSegment:ir,isFlat:Un,_flat:_o,polylineCenter:Po},eo={project:function(Me){return new Ci(Me.lng,Me.lat)},unproject:function(Me){return new hi(Me.y,Me.x)},bounds:new Ki([-180,-90],[180,90])},to={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ki([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(Me){var De=Math.PI/180,Re=this.R,qe=Me.lat*De,Ge=this.R_MINOR/Re,ti=Math.sqrt(1-Ge*Ge),oi=ti*Math.sin(qe),pi=Math.tan(Math.PI/4-qe/2)/Math.pow((1-oi)/(1+oi),ti/2);return qe=-Re*Math.log(Math.max(pi,1e-10)),new Ci(Me.lng*De*Re,qe)},unproject:function(Me){for(var De=180/Math.PI,Re=this.R,qe=this.R_MINOR/Re,Ge=Math.sqrt(1-qe*qe),ti=Math.exp(-Me.y/Re),oi=Math.PI/2-2*Math.atan(ti),pi=0,gi=.1,Si;pi<15&&Math.abs(gi)>1e-7;pi++)Si=Ge*Math.sin(oi),Si=Math.pow((1-Si)/(1+Si),Ge/2),gi=Math.PI/2-2*Math.atan(ti*Si)-oi,oi+=gi;return new hi(oi*De,Me.x*De/Re)}},So={__proto__:null,LonLat:eo,Mercator:to,SphericalMercator:Tn},xo=Fe({},An,{code:"EPSG:3395",projection:to,transformation:function(){var Me=.5/(Math.PI*to.R);return Dn(Me,.5,-Me,.5)}()}),nr=Fe({},An,{code:"EPSG:4326",projection:eo,transformation:Dn(1/180,1,-1/180,.5)}),ma=Fe({},xn,{projection:eo,transformation:Dn(1,0,-1,0),scale:function(Me){return Math.pow(2,Me)},zoom:function(Me){return Math.log(Me)/Math.LN2},distance:function(Me,De){var Re=De.lng-Me.lng,qe=De.lat-Me.lat;return Math.sqrt(Re*Re+qe*qe)},infinite:!0});xn.Earth=An,xn.EPSG3395=xo,xn.EPSG3857=In,xn.EPSG900913=Vs,xn.EPSG4326=nr,xn.Simple=ma;var Zn=fn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Me){return Me.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Me){return Me&&Me.removeLayer(this),this},getPane:function(Me){return this._map.getPane(Me?this.options[Me]||Me:this.options.pane)},addInteractiveTarget:function(Me){return this._map._targets[Ne(Me)]=this,this},removeInteractiveTarget:function(Me){return delete this._map._targets[Ne(Me)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Me){var De=Me.target;if(De.hasLayer(this)){if(this._map=De,this._zoomAnimated=De._zoomAnimated,this.getEvents){var Re=this.getEvents();De.on(Re,this),this.once("remove",function(){De.off(Re,this)},this)}this.onAdd(De),this.fire("add"),De.fire("layeradd",{layer:this})}}});an.include({addLayer:function(Me){if(!Me._layerAdd)throw new Error("The provided object is not a Layer.");var De=Ne(Me);return this._layers[De]?this:(this._layers[De]=Me,Me._mapToAdd=this,Me.beforeAdd&&Me.beforeAdd(this),this.whenReady(Me._layerAdd,Me),this)},removeLayer:function(Me){var De=Ne(Me);return this._layers[De]?(this._loaded&&Me.onRemove(this),delete this._layers[De],this._loaded&&(this.fire("layerremove",{layer:Me}),Me.fire("remove")),Me._map=Me._mapToAdd=null,this):this},hasLayer:function(Me){return Ne(Me)in this._layers},eachLayer:function(Me,De){for(var Re in this._layers)Me.call(De,this._layers[Re]);return this},_addLayers:function(Me){Me=Me?ii(Me)?Me:[Me]:[];for(var De=0,Re=Me.length;De<Re;De++)this.addLayer(Me[De])},_addZoomLimit:function(Me){(!isNaN(Me.options.maxZoom)||!isNaN(Me.options.minZoom))&&(this._zoomBoundLayers[Ne(Me)]=Me,this._updateZoomLevels())},_removeZoomLimit:function(Me){var De=Ne(Me);this._zoomBoundLayers[De]&&(delete this._zoomBoundLayers[De],this._updateZoomLevels())},_updateZoomLevels:function(){var Me=1/0,De=-1/0,Re=this._getZoomSpan();for(var qe in this._zoomBoundLayers){var Ge=this._zoomBoundLayers[qe].options;Me=Ge.minZoom===void 0?Me:Math.min(Me,Ge.minZoom),De=Ge.maxZoom===void 0?De:Math.max(De,Ge.maxZoom)}this._layersMaxZoom=De===-1/0?void 0:De,this._layersMinZoom=Me===1/0?void 0:Me,Re!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ns=Zn.extend({initialize:function(Me,De){Je(this,De),this._layers={};var Re,qe;if(Me)for(Re=0,qe=Me.length;Re<qe;Re++)this.addLayer(Me[Re])},addLayer:function(Me){var De=this.getLayerId(Me);return this._layers[De]=Me,this._map&&this._map.addLayer(Me),this},removeLayer:function(Me){var De=Me in this._layers?Me:this.getLayerId(Me);return this._map&&this._layers[De]&&this._map.removeLayer(this._layers[De]),delete this._layers[De],this},hasLayer:function(Me){var De=typeof Me=="number"?Me:this.getLayerId(Me);return De in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(Me){var De=Array.prototype.slice.call(arguments,1),Re,qe;for(Re in this._layers)qe=this._layers[Re],qe[Me]&&qe[Me].apply(qe,De);return this},onAdd:function(Me){this.eachLayer(Me.addLayer,Me)},onRemove:function(Me){this.eachLayer(Me.removeLayer,Me)},eachLayer:function(Me,De){for(var Re in this._layers)Me.call(De,this._layers[Re]);return this},getLayer:function(Me){return this._layers[Me]},getLayers:function(){var Me=[];return this.eachLayer(Me.push,Me),Me},setZIndex:function(Me){return this.invoke("setZIndex",Me)},getLayerId:function(Me){return Ne(Me)}}),To=function(Me,De){return new Ns(Me,De)},os=Ns.extend({addLayer:function(Me){return this.hasLayer(Me)?this:(Me.addEventParent(this),Ns.prototype.addLayer.call(this,Me),this.fire("layeradd",{layer:Me}))},removeLayer:function(Me){return this.hasLayer(Me)?(Me in this._layers&&(Me=this._layers[Me]),Me.removeEventParent(this),Ns.prototype.removeLayer.call(this,Me),this.fire("layerremove",{layer:Me})):this},setStyle:function(Me){return this.invoke("setStyle",Me)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Me=new yn;for(var De in this._layers){var Re=this._layers[De];Me.extend(Re.getBounds?Re.getBounds():Re.getLatLng())}return Me}}),io=function(Me,De){return new os(Me,De)},ks=Oi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(Me){Je(this,Me)},createIcon:function(Me){return this._createIcon("icon",Me)},createShadow:function(Me){return this._createIcon("shadow",Me)},_createIcon:function(Me,De){var Re=this._getIconUrl(Me);if(!Re){if(Me==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var qe=this._createImg(Re,De&&De.tagName==="IMG"?De:null);return this._setIconStyles(qe,Me),(this.options.crossOrigin||this.options.crossOrigin==="")&&(qe.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),qe},_setIconStyles:function(Me,De){var Re=this.options,qe=Re[De+"Size"];typeof qe=="number"&&(qe=[qe,qe]);var Ge=Pi(qe),ti=Pi(De==="shadow"&&Re.shadowAnchor||Re.iconAnchor||Ge&&Ge.divideBy(2,!0));Me.className="leaflet-marker-"+De+" "+(Re.className||""),ti&&(Me.style.marginLeft=-ti.x+"px",Me.style.marginTop=-ti.y+"px"),Ge&&(Me.style.width=Ge.x+"px",Me.style.height=Ge.y+"px")},_createImg:function(Me,De){return De=De||document.createElement("img"),De.src=Me,De},_getIconUrl:function(Me){return Ei.retina&&this.options[Me+"RetinaUrl"]||this.options[Me+"Url"]}});function Eo(Me){return new ks(Me)}var Ls=ks.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Me){return typeof Ls.imagePath!="string"&&(Ls.imagePath=this._detectIconPath()),(this.options.imagePath||Ls.imagePath)+ks.prototype._getIconUrl.call(this,Me)},_stripUrl:function(Me){var De=function(Re,qe,Ge){var ti=qe.exec(Re);return ti&&ti[Ge]};return Me=De(Me,/^url\((['"])?(.+)\1\)$/,2),Me&&De(Me,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var Me=ln("div","leaflet-default-icon-path",document.body),De=Ys(Me,"background-image")||Ys(Me,"backgroundImage");if(document.body.removeChild(Me),De=this._stripUrl(De),De)return De;var Re=document.querySelector('link[href$="leaflet.css"]');return Re?Re.href.substring(0,Re.href.length-11-1):""}}),sr=Jn.extend({initialize:function(Me){this._marker=Me},addHooks:function(){var Me=this._marker._icon;this._draggable||(this._draggable=new ms(Me,Me,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wi(Me,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ji(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(Me){var De=this._marker,Re=De._map,qe=this._marker.options.autoPanSpeed,Ge=this._marker.options.autoPanPadding,ti=Vn(De._icon),oi=Re.getPixelBounds(),pi=Re.getPixelOrigin(),gi=gn(oi.min._subtract(pi).add(Ge),oi.max._subtract(pi).subtract(Ge));if(!gi.contains(ti)){var Si=Pi((Math.max(gi.max.x,ti.x)-gi.max.x)/(oi.max.x-gi.max.x)-(Math.min(gi.min.x,ti.x)-gi.min.x)/(oi.min.x-gi.min.x),(Math.max(gi.max.y,ti.y)-gi.max.y)/(oi.max.y-gi.max.y)-(Math.min(gi.min.y,ti.y)-gi.min.y)/(oi.min.y-gi.min.y)).multiplyBy(qe);Re.panBy(Si,{animate:!1}),this._draggable._newPos._add(Si),this._draggable._startPos._add(Si),Sn(De._icon,this._draggable._newPos),this._onDrag(Me),this._panRequest=wi(this._adjustPan.bind(this,Me))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(Me){this._marker.options.autoPan&&(Li(this._panRequest),this._panRequest=wi(this._adjustPan.bind(this,Me)))},_onDrag:function(Me){var De=this._marker,Re=De._shadow,qe=Vn(De._icon),Ge=De._map.layerPointToLatLng(qe);Re&&Sn(Re,qe),De._latlng=Ge,Me.latlng=Ge,Me.oldLatLng=this._oldLatLng,De.fire("move",Me).fire("drag",Me)},_onDragEnd:function(Me){Li(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Me)}}),_r=Zn.extend({options:{icon:new Ls,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(Me,De){Je(this,De),this._latlng=Ui(Me)},onAdd:function(Me){this._zoomAnimated=this._zoomAnimated&&Me.options.markerZoomAnimation,this._zoomAnimated&&Me.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(Me){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&Me.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Me){var De=this._latlng;return this._latlng=Ui(Me),this.update(),this.fire("move",{oldLatLng:De,latlng:this._latlng})},setZIndexOffset:function(Me){return this.options.zIndexOffset=Me,this.update()},getIcon:function(){return this.options.icon},setIcon:function(Me){return this.options.icon=Me,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var Me=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Me)}return this},_initIcon:function(){var Me=this.options,De="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Re=Me.icon.createIcon(this._icon),qe=!1;Re!==this._icon&&(this._icon&&this._removeIcon(),qe=!0,Me.title&&(Re.title=Me.title),Re.tagName==="IMG"&&(Re.alt=Me.alt||"")),Wi(Re,De),Me.keyboard&&(Re.tabIndex="0",Re.setAttribute("role","button")),this._icon=Re,Me.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Hi(Re,"focus",this._panOnFocus,this);var Ge=Me.icon.createShadow(this._shadow),ti=!1;Ge!==this._shadow&&(this._removeShadow(),ti=!0),Ge&&(Wi(Ge,De),Ge.alt=""),this._shadow=Ge,Me.opacity<1&&this._updateOpacity(),qe&&this.getPane().appendChild(this._icon),this._initInteraction(),Ge&&ti&&this.getPane(Me.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mn(this._icon,"focus",this._panOnFocus,this),vn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vn(this._shadow),this._shadow=null},_setPos:function(Me){this._icon&&Sn(this._icon,Me),this._shadow&&Sn(this._shadow,Me),this._zIndex=Me.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Me){this._icon&&(this._icon.style.zIndex=this._zIndex+Me)},_animateZoom:function(Me){var De=this._map._latLngToNewLayerPoint(this._latlng,Me.zoom,Me.center).round();this._setPos(De)},_initInteraction:function(){if(this.options.interactive&&(Wi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sr)){var Me=this.options.draggable;this.dragging&&(Me=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sr(this),Me&&this.dragging.enable()}},setOpacity:function(Me){return this.options.opacity=Me,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var Me=this.options.opacity;this._icon&&zn(this._icon,Me),this._shadow&&zn(this._shadow,Me)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var Me=this._map;if(Me){var De=this.options.icon.options,Re=De.iconSize?Pi(De.iconSize):Pi(0,0),qe=De.iconAnchor?Pi(De.iconAnchor):Pi(0,0);Me.panInside(this._latlng,{paddingTopLeft:qe,paddingBottomRight:Re.subtract(qe)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Co(Me,De){return new _r(Me,De)}var as=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Me){this._renderer=Me.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(Me){return Je(this,Me),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&Me&&Object.prototype.hasOwnProperty.call(Me,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rr=as.extend({options:{fill:!0,radius:10},initialize:function(Me,De){Je(this,De),this._latlng=Ui(Me),this._radius=this.options.radius},setLatLng:function(Me){var De=this._latlng;return this._latlng=Ui(Me),this.redraw(),this.fire("move",{oldLatLng:De,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Me){return this.options.radius=this._radius=Me,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Me){var De=Me&&Me.radius||this._radius;return as.prototype.setStyle.call(this,Me),this.setRadius(De),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Me=this._radius,De=this._radiusY||Me,Re=this._clickTolerance(),qe=[Me+Re,De+Re];this._pxBounds=new Ki(this._point.subtract(qe),this._point.add(qe))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Me){return Me.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $o(Me,De){return new rr(Me,De)}var Pr=rr.extend({initialize:function(Me,De,Re){if(typeof De=="number"&&(De=Fe({},Re,{radius:De})),Je(this,De),this._latlng=Ui(Me),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Me){return this._mRadius=Me,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Me=[this._radius,this._radiusY||this._radius];return new yn(this._map.layerPointToLatLng(this._point.subtract(Me)),this._map.layerPointToLatLng(this._point.add(Me)))},setStyle:as.prototype.setStyle,_project:function(){var Me=this._latlng.lng,De=this._latlng.lat,Re=this._map,qe=Re.options.crs;if(qe.distance===An.distance){var Ge=Math.PI/180,ti=this._mRadius/An.R/Ge,oi=Re.project([De+ti,Me]),pi=Re.project([De-ti,Me]),gi=oi.add(pi).divideBy(2),Si=Re.unproject(gi).lat,Fi=Math.acos((Math.cos(ti*Ge)-Math.sin(De*Ge)*Math.sin(Si*Ge))/(Math.cos(De*Ge)*Math.cos(Si*Ge)))/Ge;(isNaN(Fi)||Fi===0)&&(Fi=ti/Math.cos(Math.PI/180*De)),this._point=gi.subtract(Re.getPixelOrigin()),this._radius=isNaN(Fi)?0:gi.x-Re.project([Si,Me-Fi]).x,this._radiusY=gi.y-oi.y}else{var Ni=qe.unproject(qe.project(this._latlng).subtract([this._mRadius,0]));this._point=Re.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Re.latLngToLayerPoint(Ni).x}this._updateBounds()}});function ko(Me,De,Re){return new Pr(Me,De,Re)}var Qn=as.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Me,De){Je(this,De),this._setLatLngs(Me)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Me){return this._setLatLngs(Me),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Me){for(var De=1/0,Re=null,qe=ir,Ge,ti,oi=0,pi=this._parts.length;oi<pi;oi++)for(var gi=this._parts[oi],Si=1,Fi=gi.length;Si<Fi;Si++){Ge=gi[Si-1],ti=gi[Si];var Ni=qe(Me,Ge,ti,!0);Ni<De&&(De=Ni,Re=qe(Me,Ge,ti))}return Re&&(Re.distance=Math.sqrt(De)),Re},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Po(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(Me,De){return De=De||this._defaultShape(),Me=Ui(Me),De.push(Me),this._bounds.extend(Me),this.redraw()},_setLatLngs:function(Me){this._bounds=new yn,this._latlngs=this._convertLatLngs(Me)},_defaultShape:function(){return Un(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Me){for(var De=[],Re=Un(Me),qe=0,Ge=Me.length;qe<Ge;qe++)Re?(De[qe]=Ui(Me[qe]),this._bounds.extend(De[qe])):De[qe]=this._convertLatLngs(Me[qe]);return De},_project:function(){var Me=new Ki;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Me),this._bounds.isValid()&&Me.isValid()&&(this._rawPxBounds=Me,this._updateBounds())},_updateBounds:function(){var Me=this._clickTolerance(),De=new Ci(Me,Me);this._rawPxBounds&&(this._pxBounds=new Ki([this._rawPxBounds.min.subtract(De),this._rawPxBounds.max.add(De)]))},_projectLatlngs:function(Me,De,Re){var qe=Me[0]instanceof hi,Ge=Me.length,ti,oi;if(qe){for(oi=[],ti=0;ti<Ge;ti++)oi[ti]=this._map.latLngToLayerPoint(Me[ti]),Re.extend(oi[ti]);De.push(oi)}else for(ti=0;ti<Ge;ti++)this._projectLatlngs(Me[ti],De,Re)},_clipPoints:function(){var Me=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Me))){if(this.options.noClip){this._parts=this._rings;return}var De=this._parts,Re,qe,Ge,ti,oi,pi,gi;for(Re=0,Ge=0,ti=this._rings.length;Re<ti;Re++)for(gi=this._rings[Re],qe=0,oi=gi.length;qe<oi-1;qe++)pi=Cs(gi[qe],gi[qe+1],Me,qe,!0),pi&&(De[Ge]=De[Ge]||[],De[Ge].push(pi[0]),(pi[1]!==gi[qe+1]||qe===oi-2)&&(De[Ge].push(pi[1]),Ge++))}},_simplifyPoints:function(){for(var Me=this._parts,De=this.options.smoothFactor,Re=0,qe=Me.length;Re<qe;Re++)Me[Re]=wo(Me[Re],De)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Me,De){var Re,qe,Ge,ti,oi,pi,gi=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Me))return!1;for(Re=0,ti=this._parts.length;Re<ti;Re++)for(pi=this._parts[Re],qe=0,oi=pi.length,Ge=oi-1;qe<oi;Ge=qe++)if(!(!De&&qe===0)&&Yr(Me,pi[Ge],pi[qe])<=gi)return!0;return!1}});function Lo(Me,De){return new Qn(Me,De)}Qn._flat=_o;var As=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(Me){var De=Qn.prototype._convertLatLngs.call(this,Me),Re=De.length;return Re>=2&&De[0]instanceof hi&&De[0].equals(De[Re-1])&&De.pop(),De},_setLatLngs:function(Me){Qn.prototype._setLatLngs.call(this,Me),Un(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Un(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Me=this._renderer._bounds,De=this.options.weight,Re=new Ci(De,De);if(Me=new Ki(Me.min.subtract(Re),Me.max.add(Re)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Me))){if(this.options.noClip){this._parts=this._rings;return}for(var qe=0,Ge=this._rings.length,ti;qe<Ge;qe++)ti=bo(this._rings[qe],Me,!0),ti.length&&this._parts.push(ti)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Me){var De=!1,Re,qe,Ge,ti,oi,pi,gi,Si;if(!this._pxBounds||!this._pxBounds.contains(Me))return!1;for(ti=0,gi=this._parts.length;ti<gi;ti++)for(Re=this._parts[ti],oi=0,Si=Re.length,pi=Si-1;oi<Si;pi=oi++)qe=Re[oi],Ge=Re[pi],qe.y>Me.y!=Ge.y>Me.y&&Me.x<(Ge.x-qe.x)*(Me.y-qe.y)/(Ge.y-qe.y)+qe.x&&(De=!De);return De||Qn.prototype._containsPoint.call(this,Me,!0)}});function Rs(Me,De){return new As(Me,De)}var ls=os.extend({initialize:function(Me,De){Je(this,De),this._layers={},Me&&this.addData(Me)},addData:function(Me){var De=ii(Me)?Me:Me.features,Re,qe,Ge;if(De){for(Re=0,qe=De.length;Re<qe;Re++)Ge=De[Re],(Ge.geometries||Ge.geometry||Ge.features||Ge.coordinates)&&this.addData(Ge);return this}var ti=this.options;if(ti.filter&&!ti.filter(Me))return this;var oi=Sr(Me,ti);return oi?(oi.feature=Cr(Me),oi.defaultOptions=oi.options,this.resetStyle(oi),ti.onEachFeature&&ti.onEachFeature(Me,oi),this.addLayer(oi)):this},resetStyle:function(Me){return Me===void 0?this.eachLayer(this.resetStyle,this):(Me.options=Fe({},Me.defaultOptions),this._setLayerStyle(Me,this.options.style),this)},setStyle:function(Me){return this.eachLayer(function(De){this._setLayerStyle(De,Me)},this)},_setLayerStyle:function(Me,De){Me.setStyle&&(typeof De=="function"&&(De=De(Me.feature)),Me.setStyle(De))}});function Sr(Me,De){var Re=Me.type==="Feature"?Me.geometry:Me,qe=Re?Re.coordinates:null,Ge=[],ti=De&&De.pointToLayer,oi=De&&De.coordsToLatLng||xr,pi,gi,Si,Fi;if(!qe&&!Re)return null;switch(Re.type){case"Point":return pi=oi(qe),Ao(ti,Me,pi,De);case"MultiPoint":for(Si=0,Fi=qe.length;Si<Fi;Si++)pi=oi(qe[Si]),Ge.push(Ao(ti,Me,pi,De));return new os(Ge);case"LineString":case"MultiLineString":return gi=or(qe,Re.type==="LineString"?0:1,oi),new Qn(gi,De);case"Polygon":case"MultiPolygon":return gi=or(qe,Re.type==="Polygon"?1:2,oi),new As(gi,De);case"GeometryCollection":for(Si=0,Fi=Re.geometries.length;Si<Fi;Si++){var Ni=Sr({geometry:Re.geometries[Si],type:"Feature",properties:Me.properties},De);Ni&&Ge.push(Ni)}return new os(Ge);case"FeatureCollection":for(Si=0,Fi=Re.features.length;Si<Fi;Si++){var zi=Sr(Re.features[Si],De);zi&&Ge.push(zi)}return new os(Ge);default:throw new Error("Invalid GeoJSON object.")}}function Ao(Me,De,Re,qe){return Me?Me(De,Re):new _r(Re,qe&&qe.markersInheritOptions&&qe)}function xr(Me){return new hi(Me[1],Me[0],Me[2])}function or(Me,De,Re){for(var qe=[],Ge=0,ti=Me.length,oi;Ge<ti;Ge++)oi=De?or(Me[Ge],De-1,Re):(Re||xr)(Me[Ge]),qe.push(oi);return qe}function Tr(Me,De){return Me=Ui(Me),Me.alt!==void 0?[Ve(Me.lng,De),Ve(Me.lat,De),Ve(Me.alt,De)]:[Ve(Me.lng,De),Ve(Me.lat,De)]}function Er(Me,De,Re,qe){for(var Ge=[],ti=0,oi=Me.length;ti<oi;ti++)Ge.push(De?Er(Me[ti],Un(Me[ti])?0:De-1,Re,qe):Tr(Me[ti],qe));return!De&&Re&&Ge.length>0&&Ge.push(Ge[0].slice()),Ge}function zs(Me,De){return Me.feature?Fe({},Me.feature,{geometry:De}):Cr(De)}function Cr(Me){return Me.type==="Feature"||Me.type==="FeatureCollection"?Me:{type:"Feature",properties:{},geometry:Me}}var no={toGeoJSON:function(Me){return zs(this,{type:"Point",coordinates:Tr(this.getLatLng(),Me)})}};_r.include(no),Pr.include(no),rr.include(no),Qn.include({toGeoJSON:function(Me){var De=!Un(this._latlngs),Re=Er(this._latlngs,De?1:0,!1,Me);return zs(this,{type:(De?"Multi":"")+"LineString",coordinates:Re})}}),As.include({toGeoJSON:function(Me){var De=!Un(this._latlngs),Re=De&&!Un(this._latlngs[0]),qe=Er(this._latlngs,Re?2:De?1:0,!0,Me);return De||(qe=[qe]),zs(this,{type:(Re?"Multi":"")+"Polygon",coordinates:qe})}}),Ns.include({toMultiPoint:function(Me){var De=[];return this.eachLayer(function(Re){De.push(Re.toGeoJSON(Me).geometry.coordinates)}),zs(this,{type:"MultiPoint",coordinates:De})},toGeoJSON:function(Me){var De=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(De==="MultiPoint")return this.toMultiPoint(Me);var Re=De==="GeometryCollection",qe=[];return this.eachLayer(function(Ge){if(Ge.toGeoJSON){var ti=Ge.toGeoJSON(Me);if(Re)qe.push(ti.geometry);else{var oi=Cr(ti);oi.type==="FeatureCollection"?qe.push.apply(qe,oi.features):qe.push(oi)}}}),Re?zs(this,{geometries:qe,type:"GeometryCollection"}):{type:"FeatureCollection",features:qe}}});function so(Me,De){return new ls(Me,De)}var ga=so,ar=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Me,De,Re){this._url=Me,this._bounds=pn(De),Je(this,Re)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(Me){return this.options.opacity=Me,this._image&&this._updateOpacity(),this},setStyle:function(Me){return Me.opacity&&this.setOpacity(Me.opacity),this},bringToFront:function(){return this._map&&Ms(this._image),this},bringToBack:function(){return this._map&&Bs(this._image),this},setUrl:function(Me){return this._url=Me,this._image&&(this._image.src=Me),this},setBounds:function(Me){return this._bounds=pn(Me),this._map&&this._reset(),this},getEvents:function(){var Me={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(Me.zoomanim=this._animateZoom),Me},setZIndex:function(Me){return this.options.zIndex=Me,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Me=this._url.tagName==="IMG",De=this._image=Me?this._url:ln("img");if(Wi(De,"leaflet-image-layer"),this._zoomAnimated&&Wi(De,"leaflet-zoom-animated"),this.options.className&&Wi(De,this.options.className),De.onselectstart=je,De.onmousemove=je,De.onload=Be(this.fire,this,"load"),De.onerror=Be(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(De.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),Me){this._url=De.src;return}De.src=this._url,De.alt=this.options.alt},_animateZoom:function(Me){var De=this._map.getZoomScale(Me.zoom),Re=this._map._latLngBoundsToNewLayerBounds(this._bounds,Me.zoom,Me.center).min;Ps(this._image,Re,De)},_reset:function(){var Me=this._image,De=new Ki(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Re=De.getSize();Sn(Me,De.min),Me.style.width=Re.x+"px",Me.style.height=Re.y+"px"},_updateOpacity:function(){zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var Me=this.options.errorOverlayUrl;Me&&this._url!==Me&&(this._url=Me,this._image.src=Me)},getCenter:function(){return this._bounds.getCenter()}}),va=function(Me,De,Re){return new ar(Me,De,Re)},ro=ar.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var Me=this._url.tagName==="VIDEO",De=this._image=Me?this._url:ln("video");if(Wi(De,"leaflet-image-layer"),this._zoomAnimated&&Wi(De,"leaflet-zoom-animated"),this.options.className&&Wi(De,this.options.className),De.onselectstart=je,De.onmousemove=je,De.onloadeddata=Be(this.fire,this,"load"),Me){for(var Re=De.getElementsByTagName("source"),qe=[],Ge=0;Ge<Re.length;Ge++)qe.push(Re[Ge].src);this._url=Re.length>0?qe:[De.src];return}ii(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(De.style,"objectFit")&&(De.style.objectFit="fill"),De.autoplay=!!this.options.autoplay,De.loop=!!this.options.loop,De.muted=!!this.options.muted,De.playsInline=!!this.options.playsInline;for(var ti=0;ti<this._url.length;ti++){var oi=ln("source");oi.src=this._url[ti],De.appendChild(oi)}}});function oo(Me,De,Re){return new ro(Me,De,Re)}var Fo=ar.extend({_initImage:function(){var Me=this._image=this._url;Wi(Me,"leaflet-image-layer"),this._zoomAnimated&&Wi(Me,"leaflet-zoom-animated"),this.options.className&&Wi(Me,this.options.className),Me.onselectstart=je,Me.onmousemove=je}});function ya(Me,De,Re){return new Fo(Me,De,Re)}var es=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(Me,De){Me&&(Me instanceof hi||ii(Me))?(this._latlng=Ui(Me),Je(this,De)):(Je(this,Me),this._source=De),this.options.content&&(this._content=this.options.content)},openOn:function(Me){return Me=arguments.length?Me:this._source._map,Me.hasLayer(this)||Me.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(Me){return this._map?this.close():(arguments.length?this._source=Me:Me=this._source,this._prepareOpen(),this.openOn(Me._map)),this},onAdd:function(Me){this._zoomAnimated=Me._zoomAnimated,this._container||this._initLayout(),Me._fadeAnimated&&zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Me._fadeAnimated&&zn(this._container,1),this.bringToFront(),this.options.interactive&&(Wi(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(Me){Me._fadeAnimated?(zn(this._container,0),this._removeTimeout=setTimeout(Be(vn,void 0,this._container),200)):vn(this._container),this.options.interactive&&(ji(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(Me){return this._latlng=Ui(Me),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(Me){return this._content=Me,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var Me={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(Me.zoomanim=this._animateZoom),Me},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ms(this._container),this},bringToBack:function(){return this._map&&Bs(this._container),this},_prepareOpen:function(Me){var De=this._source;if(!De._map)return!1;if(De instanceof os){De=null;var Re=this._source._layers;for(var qe in Re)if(Re[qe]._map){De=Re[qe];break}if(!De)return!1;this._source=De}if(!Me)if(De.getCenter)Me=De.getCenter();else if(De.getLatLng)Me=De.getLatLng();else if(De.getBounds)Me=De.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(Me),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var Me=this._contentNode,De=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof De=="string")Me.innerHTML=De;else{for(;Me.hasChildNodes();)Me.removeChild(Me.firstChild);Me.appendChild(De)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var Me=this._map.latLngToLayerPoint(this._latlng),De=Pi(this.options.offset),Re=this._getAnchor();this._zoomAnimated?Sn(this._container,Me.add(Re)):De=De.add(Me).add(Re);var qe=this._containerBottom=-De.y,Ge=this._containerLeft=-Math.round(this._containerWidth/2)+De.x;this._container.style.bottom=qe+"px",this._container.style.left=Ge+"px"}},_getAnchor:function(){return[0,0]}});an.include({_initOverlay:function(Me,De,Re,qe){var Ge=De;return Ge instanceof Me||(Ge=new Me(qe).setContent(De)),Re&&Ge.setLatLng(Re),Ge}}),Zn.include({_initOverlay:function(Me,De,Re,qe){var Ge=Re;return Ge instanceof Me?(Je(Ge,qe),Ge._source=this):(Ge=De&&!qe?De:new Me(qe,this),Ge.setContent(Re)),Ge}});var $r=es.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(Me){return Me=arguments.length?Me:this._source._map,!Me.hasLayer(this)&&Me._popup&&Me._popup.options.autoClose&&Me.removeLayer(Me._popup),Me._popup=this,es.prototype.openOn.call(this,Me)},onAdd:function(Me){es.prototype.onAdd.call(this,Me),Me.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof as||this._source.on("preclick",fs))},onRemove:function(Me){es.prototype.onRemove.call(this,Me),Me.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof as||this._source.off("preclick",fs))},getEvents:function(){var Me=es.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(Me.preclick=this.close),this.options.keepInView&&(Me.moveend=this._adjustPan),Me},_initLayout:function(){var Me="leaflet-popup",De=this._container=ln("div",Me+" "+(this.options.className||"")+" leaflet-zoom-animated"),Re=this._wrapper=ln("div",Me+"-content-wrapper",De);if(this._contentNode=ln("div",Me+"-content",Re),Ds(De),Wr(this._contentNode),Hi(De,"contextmenu",fs),this._tipContainer=ln("div",Me+"-tip-container",De),this._tip=ln("div",Me+"-tip",this._tipContainer),this.options.closeButton){var qe=this._closeButton=ln("a",Me+"-close-button",De);qe.setAttribute("role","button"),qe.setAttribute("aria-label","Close popup"),qe.href="#close",qe.innerHTML='<span aria-hidden="true">&#215;</span>',Hi(qe,"click",function(Ge){kn(Ge),this.close()},this)}},_updateLayout:function(){var Me=this._contentNode,De=Me.style;De.width="",De.whiteSpace="nowrap";var Re=Me.offsetWidth;Re=Math.min(Re,this.options.maxWidth),Re=Math.max(Re,this.options.minWidth),De.width=Re+1+"px",De.whiteSpace="",De.height="";var qe=Me.offsetHeight,Ge=this.options.maxHeight,ti="leaflet-popup-scrolled";Ge&&qe>Ge?(De.height=Ge+"px",Wi(Me,ti)):ji(Me,ti),this._containerWidth=this._container.offsetWidth},_animateZoom:function(Me){var De=this._map._latLngToNewLayerPoint(this._latlng,Me.zoom,Me.center),Re=this._getAnchor();Sn(this._container,De.add(Re))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var Me=this._map,De=parseInt(Ys(this._container,"marginBottom"),10)||0,Re=this._container.offsetHeight+De,qe=this._containerWidth,Ge=new Ci(this._containerLeft,-Re-this._containerBottom);Ge._add(Vn(this._container));var ti=Me.layerPointToContainerPoint(Ge),oi=Pi(this.options.autoPanPadding),pi=Pi(this.options.autoPanPaddingTopLeft||oi),gi=Pi(this.options.autoPanPaddingBottomRight||oi),Si=Me.getSize(),Fi=0,Ni=0;ti.x+qe+gi.x>Si.x&&(Fi=ti.x+qe-Si.x+gi.x),ti.x-Fi-pi.x<0&&(Fi=ti.x-pi.x),ti.y+Re+gi.y>Si.y&&(Ni=ti.y+Re-Si.y+gi.y),ti.y-Ni-pi.y<0&&(Ni=ti.y-pi.y),(Fi||Ni)&&(this.options.keepInView&&(this._autopanning=!0),Me.fire("autopanstart").panBy([Fi,Ni]))}},_getAnchor:function(){return Pi(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kr=function(Me,De){return new $r(Me,De)};an.mergeOptions({closePopupOnClick:!0}),an.include({openPopup:function(Me,De,Re){return this._initOverlay($r,Me,De,Re).openOn(this),this},closePopup:function(Me){return Me=arguments.length?Me:this._popup,Me&&Me.close(),this}}),Zn.include({bindPopup:function(Me,De){return this._popup=this._initOverlay($r,this._popup,Me,De),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(Me){return this._popup&&(this instanceof os||(this._popup._source=this),this._popup._prepareOpen(Me||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(Me){return this._popup&&this._popup.setContent(Me),this},getPopup:function(){return this._popup},_openPopup:function(Me){if(!(!this._popup||!this._map)){Ss(Me);var De=Me.layer||Me.target;if(this._popup._source===De&&!(De instanceof as)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(Me.latlng);return}this._popup._source=De,this.openPopup(Me.latlng)}},_movePopup:function(Me){this._popup.setLatLng(Me.latlng)},_onKeyPress:function(Me){Me.originalEvent.keyCode===13&&this._openPopup(Me)}});var Lr=es.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(Me){es.prototype.onAdd.call(this,Me),this.setOpacity(this.options.opacity),Me.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(Me){es.prototype.onRemove.call(this,Me),Me.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var Me=es.prototype.getEvents.call(this);return this.options.permanent||(Me.preclick=this.close),Me},_initLayout:function(){var Me="leaflet-tooltip",De=Me+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ln("div",De),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Ne(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Me){var De,Re,qe=this._map,Ge=this._container,ti=qe.latLngToContainerPoint(qe.getCenter()),oi=qe.layerPointToContainerPoint(Me),pi=this.options.direction,gi=Ge.offsetWidth,Si=Ge.offsetHeight,Fi=Pi(this.options.offset),Ni=this._getAnchor();pi==="top"?(De=gi/2,Re=Si):pi==="bottom"?(De=gi/2,Re=0):pi==="center"?(De=gi/2,Re=Si/2):pi==="right"?(De=0,Re=Si/2):pi==="left"?(De=gi,Re=Si/2):oi.x<ti.x?(pi="right",De=0,Re=Si/2):(pi="left",De=gi+(Fi.x+Ni.x)*2,Re=Si/2),Me=Me.subtract(Pi(De,Re,!0)).add(Fi).add(Ni),ji(Ge,"leaflet-tooltip-right"),ji(Ge,"leaflet-tooltip-left"),ji(Ge,"leaflet-tooltip-top"),ji(Ge,"leaflet-tooltip-bottom"),Wi(Ge,"leaflet-tooltip-"+pi),Sn(Ge,Me)},_updatePosition:function(){var Me=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Me)},setOpacity:function(Me){this.options.opacity=Me,this._container&&zn(this._container,Me)},_animateZoom:function(Me){var De=this._map._latLngToNewLayerPoint(this._latlng,Me.zoom,Me.center);this._setPosition(De)},_getAnchor:function(){return Pi(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ba=function(Me,De){return new Lr(Me,De)};an.include({openTooltip:function(Me,De,Re){return this._initOverlay(Lr,Me,De,Re).openOn(this),this},closeTooltip:function(Me){return Me.close(),this}}),Zn.include({bindTooltip:function(Me,De){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lr,this._tooltip,Me,De),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(Me){if(!(!Me&&this._tooltipHandlersAdded)){var De=Me?"off":"on",Re={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Re.add=this._openTooltip:(Re.mouseover=this._openTooltip,Re.mouseout=this.closeTooltip,Re.click=this._openTooltip,this._map?this._addFocusListeners():Re.add=this._addFocusListeners),this._tooltip.options.sticky&&(Re.mousemove=this._moveTooltip),this[De](Re),this._tooltipHandlersAdded=!Me}},openTooltip:function(Me){return this._tooltip&&(this instanceof os||(this._tooltip._source=this),this._tooltip._prepareOpen(Me)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Me){return this._tooltip&&this._tooltip.setContent(Me),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(Me){var De=typeof Me.getElement=="function"&&Me.getElement();De&&(Hi(De,"focus",function(){this._tooltip._source=Me,this.openTooltip()},this),Hi(De,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(Me){var De=typeof Me.getElement=="function"&&Me.getElement();De&&De.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(Me){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var De=this;this._map.once("moveend",function(){De._openOnceFlag=!1,De._openTooltip(Me)});return}this._tooltip._source=Me.layer||Me.target,this.openTooltip(this._tooltip.options.sticky?Me.latlng:void 0)}},_moveTooltip:function(Me){var De=Me.latlng,Re,qe;this._tooltip.options.sticky&&Me.originalEvent&&(Re=this._map.mouseEventToContainerPoint(Me.originalEvent),qe=this._map.containerPointToLayerPoint(Re),De=this._map.layerPointToLatLng(qe)),this._tooltip.setLatLng(De)}});var Oo=ks.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Me){var De=Me&&Me.tagName==="DIV"?Me:document.createElement("div"),Re=this.options;if(Re.html instanceof Element?(pr(De),De.appendChild(Re.html)):De.innerHTML=Re.html!==!1?Re.html:"",Re.bgPos){var qe=Pi(Re.bgPos);De.style.backgroundPosition=-qe.x+"px "+-qe.y+"px"}return this._setIconStyles(De,"icon"),De},createShadow:function(){return null}});function wa(Me){return new Oo(Me)}ks.Default=Ls;var Us=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ei.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Me){Je(this,Me)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(Me){Me._addZoomLimit(this)},onRemove:function(Me){this._removeAllTiles(),vn(this._container),Me._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(Me){return this.options.opacity=Me,this._updateOpacity(),this},setZIndex:function(Me){return this.options.zIndex=Me,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var Me=this._clampZoom(this._map.getZoom());Me!==this._tileZoom&&(this._tileZoom=Me,this._updateLevels()),this._update()}return this},getEvents:function(){var Me={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ze(this._onMoveEnd,this.options.updateInterval,this)),Me.move=this._onMove),this._zoomAnimated&&(Me.zoomanim=this._animateZoom),Me},createTile:function(){return document.createElement("div")},getTileSize:function(){var Me=this.options.tileSize;return Me instanceof Ci?Me:new Ci(Me,Me)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(Me){for(var De=this.getPane().children,Re=-Me(-1/0,1/0),qe=0,Ge=De.length,ti;qe<Ge;qe++)ti=De[qe].style.zIndex,De[qe]!==this._container&&ti&&(Re=Me(Re,+ti));isFinite(Re)&&(this.options.zIndex=Re+Me(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ei.ielt9){zn(this._container,this.options.opacity);var Me=+new Date,De=!1,Re=!1;for(var qe in this._tiles){var Ge=this._tiles[qe];if(!(!Ge.current||!Ge.loaded)){var ti=Math.min(1,(Me-Ge.loaded)/200);zn(Ge.el,ti),ti<1?De=!0:(Ge.active?Re=!0:this._onOpaqueTile(Ge),Ge.active=!0)}}Re&&!this._noPrune&&this._pruneTiles(),De&&(Li(this._fadeFrame),this._fadeFrame=wi(this._updateOpacity,this))}},_onOpaqueTile:je,_initContainer:function(){this._container||(this._container=ln("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var Me=this._tileZoom,De=this.options.maxZoom;if(Me!==void 0){for(var Re in this._levels)Re=Number(Re),this._levels[Re].el.children.length||Re===Me?(this._levels[Re].el.style.zIndex=De-Math.abs(Me-Re),this._onUpdateLevel(Re)):(vn(this._levels[Re].el),this._removeTilesAtZoom(Re),this._onRemoveLevel(Re),delete this._levels[Re]);var qe=this._levels[Me],Ge=this._map;return qe||(qe=this._levels[Me]={},qe.el=ln("div","leaflet-tile-container leaflet-zoom-animated",this._container),qe.el.style.zIndex=De,qe.origin=Ge.project(Ge.unproject(Ge.getPixelOrigin()),Me).round(),qe.zoom=Me,this._setZoomTransform(qe,Ge.getCenter(),Ge.getZoom()),je(qe.el.offsetWidth),this._onCreateLevel(qe)),this._level=qe,qe}},_onUpdateLevel:je,_onRemoveLevel:je,_onCreateLevel:je,_pruneTiles:function(){if(this._map){var Me,De,Re=this._map.getZoom();if(Re>this.options.maxZoom||Re<this.options.minZoom){this._removeAllTiles();return}for(Me in this._tiles)De=this._tiles[Me],De.retain=De.current;for(Me in this._tiles)if(De=this._tiles[Me],De.current&&!De.active){var qe=De.coords;this._retainParent(qe.x,qe.y,qe.z,qe.z-5)||this._retainChildren(qe.x,qe.y,qe.z,qe.z+2)}for(Me in this._tiles)this._tiles[Me].retain||this._removeTile(Me)}},_removeTilesAtZoom:function(Me){for(var De in this._tiles)this._tiles[De].coords.z===Me&&this._removeTile(De)},_removeAllTiles:function(){for(var Me in this._tiles)this._removeTile(Me)},_invalidateAll:function(){for(var Me in this._levels)vn(this._levels[Me].el),this._onRemoveLevel(Number(Me)),delete this._levels[Me];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Me,De,Re,qe){var Ge=Math.floor(Me/2),ti=Math.floor(De/2),oi=Re-1,pi=new Ci(+Ge,+ti);pi.z=+oi;var gi=this._tileCoordsToKey(pi),Si=this._tiles[gi];return Si&&Si.active?(Si.retain=!0,!0):(Si&&Si.loaded&&(Si.retain=!0),oi>qe?this._retainParent(Ge,ti,oi,qe):!1)},_retainChildren:function(Me,De,Re,qe){for(var Ge=2*Me;Ge<2*Me+2;Ge++)for(var ti=2*De;ti<2*De+2;ti++){var oi=new Ci(Ge,ti);oi.z=Re+1;var pi=this._tileCoordsToKey(oi),gi=this._tiles[pi];if(gi&&gi.active){gi.retain=!0;continue}else gi&&gi.loaded&&(gi.retain=!0);Re+1<qe&&this._retainChildren(Ge,ti,Re+1,qe)}},_resetView:function(Me){var De=Me&&(Me.pinch||Me.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),De,De)},_animateZoom:function(Me){this._setView(Me.center,Me.zoom,!0,Me.noUpdate)},_clampZoom:function(Me){var De=this.options;return De.minNativeZoom!==void 0&&Me<De.minNativeZoom?De.minNativeZoom:De.maxNativeZoom!==void 0&&De.maxNativeZoom<Me?De.maxNativeZoom:Me},_setView:function(Me,De,Re,qe){var Ge=Math.round(De);this.options.maxZoom!==void 0&&Ge>this.options.maxZoom||this.options.minZoom!==void 0&&Ge<this.options.minZoom?Ge=void 0:Ge=this._clampZoom(Ge);var ti=this.options.updateWhenZooming&&Ge!==this._tileZoom;(!qe||ti)&&(this._tileZoom=Ge,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Ge!==void 0&&this._update(Me),Re||this._pruneTiles(),this._noPrune=!!Re),this._setZoomTransforms(Me,De)},_setZoomTransforms:function(Me,De){for(var Re in this._levels)this._setZoomTransform(this._levels[Re],Me,De)},_setZoomTransform:function(Me,De,Re){var qe=this._map.getZoomScale(Re,Me.zoom),Ge=Me.origin.multiplyBy(qe).subtract(this._map._getNewPixelOrigin(De,Re)).round();Ei.any3d?Ps(Me.el,Ge,qe):Sn(Me.el,Ge)},_resetGrid:function(){var Me=this._map,De=Me.options.crs,Re=this._tileSize=this.getTileSize(),qe=this._tileZoom,Ge=this._map.getPixelWorldBounds(this._tileZoom);Ge&&(this._globalTileRange=this._pxBoundsToTileRange(Ge)),this._wrapX=De.wrapLng&&!this.options.noWrap&&[Math.floor(Me.project([0,De.wrapLng[0]],qe).x/Re.x),Math.ceil(Me.project([0,De.wrapLng[1]],qe).x/Re.y)],this._wrapY=De.wrapLat&&!this.options.noWrap&&[Math.floor(Me.project([De.wrapLat[0],0],qe).y/Re.x),Math.ceil(Me.project([De.wrapLat[1],0],qe).y/Re.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(Me){var De=this._map,Re=De._animatingZoom?Math.max(De._animateToZoom,De.getZoom()):De.getZoom(),qe=De.getZoomScale(Re,this._tileZoom),Ge=De.project(Me,this._tileZoom).floor(),ti=De.getSize().divideBy(qe*2);return new Ki(Ge.subtract(ti),Ge.add(ti))},_update:function(Me){var De=this._map;if(De){var Re=this._clampZoom(De.getZoom());if(Me===void 0&&(Me=De.getCenter()),this._tileZoom!==void 0){var qe=this._getTiledPixelBounds(Me),Ge=this._pxBoundsToTileRange(qe),ti=Ge.getCenter(),oi=[],pi=this.options.keepBuffer,gi=new Ki(Ge.getBottomLeft().subtract([pi,-pi]),Ge.getTopRight().add([pi,-pi]));if(!(isFinite(Ge.min.x)&&isFinite(Ge.min.y)&&isFinite(Ge.max.x)&&isFinite(Ge.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Si in this._tiles){var Fi=this._tiles[Si].coords;(Fi.z!==this._tileZoom||!gi.contains(new Ci(Fi.x,Fi.y)))&&(this._tiles[Si].current=!1)}if(Math.abs(Re-this._tileZoom)>1){this._setView(Me,Re);return}for(var Ni=Ge.min.y;Ni<=Ge.max.y;Ni++)for(var zi=Ge.min.x;zi<=Ge.max.x;zi++){var $n=new Ci(zi,Ni);if($n.z=this._tileZoom,!!this._isValidTile($n)){var Gi=this._tiles[this._tileCoordsToKey($n)];Gi?Gi.current=!0:oi.push($n)}}if(oi.sort(function(Mn,qs){return Mn.distanceTo(ti)-qs.distanceTo(ti)}),oi.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jn=document.createDocumentFragment();for(zi=0;zi<oi.length;zi++)this._addTile(oi[zi],jn);this._level.el.appendChild(jn)}}}},_isValidTile:function(Me){var De=this._map.options.crs;if(!De.infinite){var Re=this._globalTileRange;if(!De.wrapLng&&(Me.x<Re.min.x||Me.x>Re.max.x)||!De.wrapLat&&(Me.y<Re.min.y||Me.y>Re.max.y))return!1}if(!this.options.bounds)return!0;var qe=this._tileCoordsToBounds(Me);return pn(this.options.bounds).overlaps(qe)},_keyToBounds:function(Me){return this._tileCoordsToBounds(this._keyToTileCoords(Me))},_tileCoordsToNwSe:function(Me){var De=this._map,Re=this.getTileSize(),qe=Me.scaleBy(Re),Ge=qe.add(Re),ti=De.unproject(qe,Me.z),oi=De.unproject(Ge,Me.z);return[ti,oi]},_tileCoordsToBounds:function(Me){var De=this._tileCoordsToNwSe(Me),Re=new yn(De[0],De[1]);return this.options.noWrap||(Re=this._map.wrapLatLngBounds(Re)),Re},_tileCoordsToKey:function(Me){return Me.x+":"+Me.y+":"+Me.z},_keyToTileCoords:function(Me){var De=Me.split(":"),Re=new Ci(+De[0],+De[1]);return Re.z=+De[2],Re},_removeTile:function(Me){var De=this._tiles[Me];De&&(vn(De.el),delete this._tiles[Me],this.fire("tileunload",{tile:De.el,coords:this._keyToTileCoords(Me)}))},_initTile:function(Me){Wi(Me,"leaflet-tile");var De=this.getTileSize();Me.style.width=De.x+"px",Me.style.height=De.y+"px",Me.onselectstart=je,Me.onmousemove=je,Ei.ielt9&&this.options.opacity<1&&zn(Me,this.options.opacity)},_addTile:function(Me,De){var Re=this._getTilePos(Me),qe=this._tileCoordsToKey(Me),Ge=this.createTile(this._wrapCoords(Me),Be(this._tileReady,this,Me));this._initTile(Ge),this.createTile.length<2&&wi(Be(this._tileReady,this,Me,null,Ge)),Sn(Ge,Re),this._tiles[qe]={el:Ge,coords:Me,current:!0},De.appendChild(Ge),this.fire("tileloadstart",{tile:Ge,coords:Me})},_tileReady:function(Me,De,Re){De&&this.fire("tileerror",{error:De,tile:Re,coords:Me});var qe=this._tileCoordsToKey(Me);Re=this._tiles[qe],Re&&(Re.loaded=+new Date,this._map._fadeAnimated?(zn(Re.el,0),Li(this._fadeFrame),this._fadeFrame=wi(this._updateOpacity,this)):(Re.active=!0,this._pruneTiles()),De||(Wi(Re.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Re.el,coords:Me})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ei.ielt9||!this._map._fadeAnimated?wi(this._pruneTiles,this):setTimeout(Be(this._pruneTiles,this),250)))},_getTilePos:function(Me){return Me.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Me){var De=new Ci(this._wrapX?Ue(Me.x,this._wrapX):Me.x,this._wrapY?Ue(Me.y,this._wrapY):Me.y);return De.z=Me.z,De},_pxBoundsToTileRange:function(Me){var De=this.getTileSize();return new Ki(Me.min.unscaleBy(De).floor(),Me.max.unscaleBy(De).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Me in this._tiles)if(!this._tiles[Me].loaded)return!1;return!0}});function _a(Me){return new Us(Me)}var js=Us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(Me,De){this._url=Me,De=Je(this,De),De.detectRetina&&Ei.retina&&De.maxZoom>0?(De.tileSize=Math.floor(De.tileSize/2),De.zoomReverse?(De.zoomOffset--,De.minZoom=Math.min(De.maxZoom,De.minZoom+1)):(De.zoomOffset++,De.maxZoom=Math.max(De.minZoom,De.maxZoom-1)),De.minZoom=Math.max(0,De.minZoom)):De.zoomReverse?De.minZoom=Math.min(De.maxZoom,De.minZoom):De.maxZoom=Math.max(De.minZoom,De.maxZoom),typeof De.subdomains=="string"&&(De.subdomains=De.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(Me,De){return this._url===Me&&De===void 0&&(De=!0),this._url=Me,De||this.redraw(),this},createTile:function(Me,De){var Re=document.createElement("img");return Hi(Re,"load",Be(this._tileOnLoad,this,De,Re)),Hi(Re,"error",Be(this._tileOnError,this,De,Re)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Re.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Re.referrerPolicy=this.options.referrerPolicy),Re.alt="",Re.src=this.getTileUrl(Me),Re},getTileUrl:function(Me){var De={r:Ei.retina?"@2x":"",s:this._getSubdomain(Me),x:Me.x,y:Me.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Re=this._globalTileRange.max.y-Me.y;this.options.tms&&(De.y=Re),De["-y"]=Re}return Qe(this._url,Fe(De,this.options))},_tileOnLoad:function(Me,De){Ei.ielt9?setTimeout(Be(Me,this,null,De),0):Me(null,De)},_tileOnError:function(Me,De,Re){var qe=this.options.errorTileUrl;qe&&De.getAttribute("src")!==qe&&(De.src=qe),Me(Re,De)},_onTileRemove:function(Me){Me.tile.onload=null},_getZoomForUrl:function(){var Me=this._tileZoom,De=this.options.maxZoom,Re=this.options.zoomReverse,qe=this.options.zoomOffset;return Re&&(Me=De-Me),Me+qe},_getSubdomain:function(Me){var De=Math.abs(Me.x+Me.y)%this.options.subdomains.length;return this.options.subdomains[De]},_abortLoading:function(){var Me,De;for(Me in this._tiles)if(this._tiles[Me].coords.z!==this._tileZoom&&(De=this._tiles[Me].el,De.onload=je,De.onerror=je,!De.complete)){De.src=di;var Re=this._tiles[Me].coords;vn(De),delete this._tiles[Me],this.fire("tileabort",{tile:De,coords:Re})}},_removeTile:function(Me){var De=this._tiles[Me];if(De)return De.el.setAttribute("src",di),Us.prototype._removeTile.call(this,Me)},_tileReady:function(Me,De,Re){if(!(!this._map||Re&&Re.getAttribute("src")===di))return Us.prototype._tileReady.call(this,Me,De,Re)}});function Mo(Me,De){return new js(Me,De)}var Bo=js.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Me,De){this._url=Me;var Re=Fe({},this.defaultWmsParams);for(var qe in De)qe in this.options||(Re[qe]=De[qe]);De=Je(this,De);var Ge=De.detectRetina&&Ei.retina?2:1,ti=this.getTileSize();Re.width=ti.x*Ge,Re.height=ti.y*Ge,this.wmsParams=Re},onAdd:function(Me){this._crs=this.options.crs||Me.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var De=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[De]=this._crs.code,js.prototype.onAdd.call(this,Me)},getTileUrl:function(Me){var De=this._tileCoordsToNwSe(Me),Re=this._crs,qe=gn(Re.project(De[0]),Re.project(De[1])),Ge=qe.min,ti=qe.max,oi=(this._wmsVersion>=1.3&&this._crs===nr?[Ge.y,Ge.x,ti.y,ti.x]:[Ge.x,Ge.y,ti.x,ti.y]).join(","),pi=js.prototype.getTileUrl.call(this,Me);return pi+ei(this.wmsParams,pi,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+oi},setParams:function(Me,De){return Fe(this.wmsParams,Me),De||this.redraw(),this}});function Io(Me,De){return new Bo(Me,De)}js.WMS=Bo,Mo.wms=Io;var ts=Zn.extend({options:{padding:.1},initialize:function(Me){Je(this,Me),Ne(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Me={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(Me.zoomanim=this._onAnimZoom),Me},_onAnimZoom:function(Me){this._updateTransform(Me.center,Me.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Me,De){var Re=this._map.getZoomScale(De,this._zoom),qe=this._map.getSize().multiplyBy(.5+this.options.padding),Ge=this._map.project(this._center,De),ti=qe.multiplyBy(-Re).add(Ge).subtract(this._map._getNewPixelOrigin(Me,De));Ei.any3d?Ps(this._container,ti,Re):Sn(this._container,ti)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var Me in this._layers)this._layers[Me]._reset()},_onZoomEnd:function(){for(var Me in this._layers)this._layers[Me]._project()},_updatePaths:function(){for(var Me in this._layers)this._layers[Me]._update()},_update:function(){var Me=this.options.padding,De=this._map.getSize(),Re=this._map.containerPointToLayerPoint(De.multiplyBy(-Me)).round();this._bounds=new Ki(Re,Re.add(De.multiplyBy(1+Me*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Do=ts.extend({options:{tolerance:0},getEvents:function(){var Me=ts.prototype.getEvents.call(this);return Me.viewprereset=this._onViewPreReset,Me},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ts.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Me=this._container=document.createElement("canvas");Hi(Me,"mousemove",this._onMouseMove,this),Hi(Me,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Hi(Me,"mouseout",this._handleMouseOut,this),Me._leaflet_disable_events=!0,this._ctx=Me.getContext("2d")},_destroyContainer:function(){Li(this._redrawRequest),delete this._ctx,vn(this._container),mn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var Me;this._redrawBounds=null;for(var De in this._layers)Me=this._layers[De],Me._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ts.prototype._update.call(this);var Me=this._bounds,De=this._container,Re=Me.getSize(),qe=Ei.retina?2:1;Sn(De,Me.min),De.width=qe*Re.x,De.height=qe*Re.y,De.style.width=Re.x+"px",De.style.height=Re.y+"px",Ei.retina&&this._ctx.scale(2,2),this._ctx.translate(-Me.min.x,-Me.min.y),this.fire("update")}},_reset:function(){ts.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(Me){this._updateDashArray(Me),this._layers[Ne(Me)]=Me;var De=Me._order={layer:Me,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=De),this._drawLast=De,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Me){this._requestRedraw(Me)},_removePath:function(Me){var De=Me._order,Re=De.next,qe=De.prev;Re?Re.prev=qe:this._drawLast=qe,qe?qe.next=Re:this._drawFirst=Re,delete Me._order,delete this._layers[Ne(Me)],this._requestRedraw(Me)},_updatePath:function(Me){this._extendRedrawBounds(Me),Me._project(),Me._update(),this._requestRedraw(Me)},_updateStyle:function(Me){this._updateDashArray(Me),this._requestRedraw(Me)},_updateDashArray:function(Me){if(typeof Me.options.dashArray=="string"){var De=Me.options.dashArray.split(/[, ]+/),Re=[],qe,Ge;for(Ge=0;Ge<De.length;Ge++){if(qe=Number(De[Ge]),isNaN(qe))return;Re.push(qe)}Me.options._dashArray=Re}else Me.options._dashArray=Me.options.dashArray},_requestRedraw:function(Me){this._map&&(this._extendRedrawBounds(Me),this._redrawRequest=this._redrawRequest||wi(this._redraw,this))},_extendRedrawBounds:function(Me){if(Me._pxBounds){var De=(Me.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ki,this._redrawBounds.extend(Me._pxBounds.min.subtract([De,De])),this._redrawBounds.extend(Me._pxBounds.max.add([De,De]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Me=this._redrawBounds;if(Me){var De=Me.getSize();this._ctx.clearRect(Me.min.x,Me.min.y,De.x,De.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var Me,De=this._redrawBounds;if(this._ctx.save(),De){var Re=De.getSize();this._ctx.beginPath(),this._ctx.rect(De.min.x,De.min.y,Re.x,Re.y),this._ctx.clip()}this._drawing=!0;for(var qe=this._drawFirst;qe;qe=qe.next)Me=qe.layer,(!De||Me._pxBounds&&Me._pxBounds.intersects(De))&&Me._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Me,De){if(this._drawing){var Re,qe,Ge,ti,oi=Me._parts,pi=oi.length,gi=this._ctx;if(pi){for(gi.beginPath(),Re=0;Re<pi;Re++){for(qe=0,Ge=oi[Re].length;qe<Ge;qe++)ti=oi[Re][qe],gi[qe?"lineTo":"moveTo"](ti.x,ti.y);De&&gi.closePath()}this._fillStroke(gi,Me)}}},_updateCircle:function(Me){if(!(!this._drawing||Me._empty())){var De=Me._point,Re=this._ctx,qe=Math.max(Math.round(Me._radius),1),Ge=(Math.max(Math.round(Me._radiusY),1)||qe)/qe;Ge!==1&&(Re.save(),Re.scale(1,Ge)),Re.beginPath(),Re.arc(De.x,De.y/Ge,qe,0,Math.PI*2,!1),Ge!==1&&Re.restore(),this._fillStroke(Re,Me)}},_fillStroke:function(Me,De){var Re=De.options;Re.fill&&(Me.globalAlpha=Re.fillOpacity,Me.fillStyle=Re.fillColor||Re.color,Me.fill(Re.fillRule||"evenodd")),Re.stroke&&Re.weight!==0&&(Me.setLineDash&&Me.setLineDash(De.options&&De.options._dashArray||[]),Me.globalAlpha=Re.opacity,Me.lineWidth=Re.weight,Me.strokeStyle=Re.color,Me.lineCap=Re.lineCap,Me.lineJoin=Re.lineJoin,Me.stroke())},_onClick:function(Me){for(var De=this._map.mouseEventToLayerPoint(Me),Re,qe,Ge=this._drawFirst;Ge;Ge=Ge.next)Re=Ge.layer,Re.options.interactive&&Re._containsPoint(De)&&(!(Me.type==="click"||Me.type==="preclick")||!this._map._draggableMoved(Re))&&(qe=Re);this._fireEvent(qe?[qe]:!1,Me)},_onMouseMove:function(Me){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var De=this._map.mouseEventToLayerPoint(Me);this._handleMouseHover(Me,De)}},_handleMouseOut:function(Me){var De=this._hoveredLayer;De&&(ji(this._container,"leaflet-interactive"),this._fireEvent([De],Me,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(Me,De){if(!this._mouseHoverThrottled){for(var Re,qe,Ge=this._drawFirst;Ge;Ge=Ge.next)Re=Ge.layer,Re.options.interactive&&Re._containsPoint(De)&&(qe=Re);qe!==this._hoveredLayer&&(this._handleMouseOut(Me),qe&&(Wi(this._container,"leaflet-interactive"),this._fireEvent([qe],Me,"mouseover"),this._hoveredLayer=qe)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,Me),this._mouseHoverThrottled=!0,setTimeout(Be(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(Me,De,Re){this._map._fireDOMEvent(De,Re||De.type,Me)},_bringToFront:function(Me){var De=Me._order;if(De){var Re=De.next,qe=De.prev;if(Re)Re.prev=qe;else return;qe?qe.next=Re:Re&&(this._drawFirst=Re),De.prev=this._drawLast,this._drawLast.next=De,De.next=null,this._drawLast=De,this._requestRedraw(Me)}},_bringToBack:function(Me){var De=Me._order;if(De){var Re=De.next,qe=De.prev;if(qe)qe.next=Re;else return;Re?Re.prev=qe:qe&&(this._drawLast=qe),De.prev=null,De.next=this._drawFirst,this._drawFirst.prev=De,this._drawFirst=De,this._requestRedraw(Me)}}});function No(Me){return Ei.canvas?new Do(Me):null}var lr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Me){return document.createElement("<lvml:"+Me+' class="lvml">')}}catch{}return function(Me){return document.createElement("<"+Me+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ro={_initContainer:function(){this._container=ln("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ts.prototype._update.call(this),this.fire("update"))},_initPath:function(Me){var De=Me._container=lr("shape");Wi(De,"leaflet-vml-shape "+(this.options.className||"")),De.coordsize="1 1",Me._path=lr("path"),De.appendChild(Me._path),this._updateStyle(Me),this._layers[Ne(Me)]=Me},_addPath:function(Me){var De=Me._container;this._container.appendChild(De),Me.options.interactive&&Me.addInteractiveTarget(De)},_removePath:function(Me){var De=Me._container;vn(De),Me.removeInteractiveTarget(De),delete this._layers[Ne(Me)]},_updateStyle:function(Me){var De=Me._stroke,Re=Me._fill,qe=Me.options,Ge=Me._container;Ge.stroked=!!qe.stroke,Ge.filled=!!qe.fill,qe.stroke?(De||(De=Me._stroke=lr("stroke")),Ge.appendChild(De),De.weight=qe.weight+"px",De.color=qe.color,De.opacity=qe.opacity,qe.dashArray?De.dashStyle=ii(qe.dashArray)?qe.dashArray.join(" "):qe.dashArray.replace(/( *, *)/g," "):De.dashStyle="",De.endcap=qe.lineCap.replace("butt","flat"),De.joinstyle=qe.lineJoin):De&&(Ge.removeChild(De),Me._stroke=null),qe.fill?(Re||(Re=Me._fill=lr("fill")),Ge.appendChild(Re),Re.color=qe.fillColor||qe.color,Re.opacity=qe.fillOpacity):Re&&(Ge.removeChild(Re),Me._fill=null)},_updateCircle:function(Me){var De=Me._point.round(),Re=Math.round(Me._radius),qe=Math.round(Me._radiusY||Re);this._setPath(Me,Me._empty()?"M0 0":"AL "+De.x+","+De.y+" "+Re+","+qe+" 0,"+65535*360)},_setPath:function(Me,De){Me._path.v=De},_bringToFront:function(Me){Ms(Me._container)},_bringToBack:function(Me){Bs(Me._container)}},Hs=Ei.vml?lr:ns,cr=ts.extend({_initContainer:function(){this._container=Hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vn(this._container),mn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ts.prototype._update.call(this);var Me=this._bounds,De=Me.getSize(),Re=this._container;(!this._svgSize||!this._svgSize.equals(De))&&(this._svgSize=De,Re.setAttribute("width",De.x),Re.setAttribute("height",De.y)),Sn(Re,Me.min),Re.setAttribute("viewBox",[Me.min.x,Me.min.y,De.x,De.y].join(" ")),this.fire("update")}},_initPath:function(Me){var De=Me._path=Hs("path");Me.options.className&&Wi(De,Me.options.className),Me.options.interactive&&Wi(De,"leaflet-interactive"),this._updateStyle(Me),this._layers[Ne(Me)]=Me},_addPath:function(Me){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(Me._path),Me.addInteractiveTarget(Me._path)},_removePath:function(Me){vn(Me._path),Me.removeInteractiveTarget(Me._path),delete this._layers[Ne(Me)]},_updatePath:function(Me){Me._project(),Me._update()},_updateStyle:function(Me){var De=Me._path,Re=Me.options;De&&(Re.stroke?(De.setAttribute("stroke",Re.color),De.setAttribute("stroke-opacity",Re.opacity),De.setAttribute("stroke-width",Re.weight),De.setAttribute("stroke-linecap",Re.lineCap),De.setAttribute("stroke-linejoin",Re.lineJoin),Re.dashArray?De.setAttribute("stroke-dasharray",Re.dashArray):De.removeAttribute("stroke-dasharray"),Re.dashOffset?De.setAttribute("stroke-dashoffset",Re.dashOffset):De.removeAttribute("stroke-dashoffset")):De.setAttribute("stroke","none"),Re.fill?(De.setAttribute("fill",Re.fillColor||Re.color),De.setAttribute("fill-opacity",Re.fillOpacity),De.setAttribute("fill-rule",Re.fillRule||"evenodd")):De.setAttribute("fill","none"))},_updatePoly:function(Me,De){this._setPath(Me,us(Me._parts,De))},_updateCircle:function(Me){var De=Me._point,Re=Math.max(Math.round(Me._radius),1),qe=Math.max(Math.round(Me._radiusY),1)||Re,Ge="a"+Re+","+qe+" 0 1,0 ",ti=Me._empty()?"M0 0":"M"+(De.x-Re)+","+De.y+Ge+Re*2+",0 "+Ge+-Re*2+",0 ";this._setPath(Me,ti)},_setPath:function(Me,De){Me._path.setAttribute("d",De)},_bringToFront:function(Me){Ms(Me._path)},_bringToBack:function(Me){Bs(Me._path)}});Ei.vml&&cr.include(Ro);function zo(Me){return Ei.svg||Ei.vml?new cr(Me):null}an.include({getRenderer:function(Me){var De=Me.options.renderer||this._getPaneRenderer(Me.options.pane)||this.options.renderer||this._renderer;return De||(De=this._renderer=this._createRenderer()),this.hasLayer(De)||this.addLayer(De),De},_getPaneRenderer:function(Me){if(Me==="overlayPane"||Me===void 0)return!1;var De=this._paneRenderers[Me];return De===void 0&&(De=this._createRenderer({pane:Me}),this._paneRenderers[Me]=De),De},_createRenderer:function(Me){return this.options.preferCanvas&&No(Me)||zo(Me)}});var Uo=As.extend({initialize:function(Me,De){As.prototype.initialize.call(this,this._boundsToLatLngs(Me),De)},setBounds:function(Me){return this.setLatLngs(this._boundsToLatLngs(Me))},_boundsToLatLngs:function(Me){return Me=pn(Me),[Me.getSouthWest(),Me.getNorthWest(),Me.getNorthEast(),Me.getSouthEast()]}});function Pa(Me,De){return new Uo(Me,De)}cr.create=Hs,cr.pointsToPath=us,ls.geometryToLayer=Sr,ls.coordsToLatLng=xr,ls.coordsToLatLngs=or,ls.latLngToCoords=Tr,ls.latLngsToCoords=Er,ls.getFeature=zs,ls.asFeature=Cr,an.mergeOptions({boxZoom:!0});var ao=Jn.extend({initialize:function(Me){this._map=Me,this._container=Me._container,this._pane=Me._panes.overlayPane,this._resetStateTimeout=0,Me.on("unload",this._destroy,this)},addHooks:function(){Hi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(Me){if(!Me.shiftKey||Me.which!==1&&Me.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Is(),Dr(),this._startPoint=this._map.mouseEventToContainerPoint(Me),Hi(document,{contextmenu:Ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(Me){this._moved||(this._moved=!0,this._box=ln("div","leaflet-zoom-box",this._container),Wi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(Me);var De=new Ki(this._point,this._startPoint),Re=De.getSize();Sn(this._box,De.min),this._box.style.width=Re.x+"px",this._box.style.height=Re.y+"px"},_finish:function(){this._moved&&(vn(this._box),ji(this._container,"leaflet-crosshair")),ps(),Nr(),mn(document,{contextmenu:Ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Me){if(!(Me.which!==1&&Me.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Be(this._resetState,this),0);var De=new yn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(De).fire("boxzoomend",{boxZoomBounds:De})}},_onKeyDown:function(Me){Me.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});an.addInitHook("addHandler","boxZoom",ao),an.mergeOptions({doubleClickZoom:!0});var jo=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Me){var De=this._map,Re=De.getZoom(),qe=De.options.zoomDelta,Ge=Me.originalEvent.shiftKey?Re-qe:Re+qe;De.options.doubleClickZoom==="center"?De.setZoom(Ge):De.setZoomAround(Me.containerPoint,Ge)}});an.addInitHook("addHandler","doubleClickZoom",jo),an.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ho=Jn.extend({addHooks:function(){if(!this._draggable){var Me=this._map;this._draggable=new ms(Me._mapPane,Me._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Me.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),Me.on("zoomend",this._onZoomEnd,this),Me.whenReady(this._onZoomEnd,this))}Wi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ji(this._map._container,"leaflet-grab"),ji(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Me=this._map;if(Me._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var De=pn(this._map.options.maxBounds);this._offsetLimit=gn(this._map.latLngToContainerPoint(De.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(De.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;Me.fire("movestart").fire("dragstart"),Me.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(Me){if(this._map.options.inertia){var De=this._lastTime=+new Date,Re=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Re),this._times.push(De),this._prunePositions(De)}this._map.fire("move",Me).fire("drag",Me)},_prunePositions:function(Me){for(;this._positions.length>1&&Me-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var Me=this._map.getSize().divideBy(2),De=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=De.subtract(Me).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Me,De){return Me-(Me-De)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var Me=this._draggable._newPos.subtract(this._draggable._startPos),De=this._offsetLimit;Me.x<De.min.x&&(Me.x=this._viscousLimit(Me.x,De.min.x)),Me.y<De.min.y&&(Me.y=this._viscousLimit(Me.y,De.min.y)),Me.x>De.max.x&&(Me.x=this._viscousLimit(Me.x,De.max.x)),Me.y>De.max.y&&(Me.y=this._viscousLimit(Me.y,De.max.y)),this._draggable._newPos=this._draggable._startPos.add(Me)}},_onPreDragWrap:function(){var Me=this._worldWidth,De=Math.round(Me/2),Re=this._initialWorldOffset,qe=this._draggable._newPos.x,Ge=(qe-De+Re)%Me+De-Re,ti=(qe+De+Re)%Me-De-Re,oi=Math.abs(Ge+Re)<Math.abs(ti+Re)?Ge:ti;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=oi},_onDragEnd:function(Me){var De=this._map,Re=De.options,qe=!Re.inertia||Me.noInertia||this._times.length<2;if(De.fire("dragend",Me),qe)De.fire("moveend");else{this._prunePositions(+new Date);var Ge=this._lastPos.subtract(this._positions[0]),ti=(this._lastTime-this._times[0])/1e3,oi=Re.easeLinearity,pi=Ge.multiplyBy(oi/ti),gi=pi.distanceTo([0,0]),Si=Math.min(Re.inertiaMaxSpeed,gi),Fi=pi.multiplyBy(Si/gi),Ni=Si/(Re.inertiaDeceleration*oi),zi=Fi.multiplyBy(-Ni/2).round();!zi.x&&!zi.y?De.fire("moveend"):(zi=De._limitOffset(zi,De.options.maxBounds),wi(function(){De.panBy(zi,{duration:Ni,easeLinearity:oi,noMoveStart:!0,animate:!0})}))}}});an.addInitHook("addHandler","dragging",Ho),an.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qo=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Me){this._map=Me,this._setPanDelta(Me.options.keyboardPanDelta),this._setZoomDelta(Me.options.zoomDelta)},addHooks:function(){var Me=this._map._container;Me.tabIndex<=0&&(Me.tabIndex="0"),Hi(Me,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var Me=document.body,De=document.documentElement,Re=Me.scrollTop||De.scrollTop,qe=Me.scrollLeft||De.scrollLeft;this._map._container.focus(),window.scrollTo(qe,Re)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Me){var De=this._panKeys={},Re=this.keyCodes,qe,Ge;for(qe=0,Ge=Re.left.length;qe<Ge;qe++)De[Re.left[qe]]=[-1*Me,0];for(qe=0,Ge=Re.right.length;qe<Ge;qe++)De[Re.right[qe]]=[Me,0];for(qe=0,Ge=Re.down.length;qe<Ge;qe++)De[Re.down[qe]]=[0,Me];for(qe=0,Ge=Re.up.length;qe<Ge;qe++)De[Re.up[qe]]=[0,-1*Me]},_setZoomDelta:function(Me){var De=this._zoomKeys={},Re=this.keyCodes,qe,Ge;for(qe=0,Ge=Re.zoomIn.length;qe<Ge;qe++)De[Re.zoomIn[qe]]=Me;for(qe=0,Ge=Re.zoomOut.length;qe<Ge;qe++)De[Re.zoomOut[qe]]=-Me},_addHooks:function(){Hi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Me){if(!(Me.altKey||Me.ctrlKey||Me.metaKey)){var De=Me.keyCode,Re=this._map,qe;if(De in this._panKeys){if(!Re._panAnim||!Re._panAnim._inProgress)if(qe=this._panKeys[De],Me.shiftKey&&(qe=Pi(qe).multiplyBy(3)),Re.options.maxBounds&&(qe=Re._limitOffset(Pi(qe),Re.options.maxBounds)),Re.options.worldCopyJump){var Ge=Re.wrapLatLng(Re.unproject(Re.project(Re.getCenter()).add(qe)));Re.panTo(Ge)}else Re.panBy(qe)}else if(De in this._zoomKeys)Re.setZoom(Re.getZoom()+(Me.shiftKey?3:1)*this._zoomKeys[De]);else if(De===27&&Re._popup&&Re._popup.options.closeOnEscapeKey)Re.closePopup();else return;Ss(Me)}}});an.addInitHook("addHandler","keyboard",qo),an.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=Jn.extend({addHooks:function(){Hi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(Me){var De=vr(Me),Re=this._map.options.wheelDebounceTime;this._delta+=De,this._lastMousePos=this._map.mouseEventToContainerPoint(Me),this._startTime||(this._startTime=+new Date);var qe=Math.max(Re-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Be(this._performZoom,this),qe),Ss(Me)},_performZoom:function(){var Me=this._map,De=Me.getZoom(),Re=this._map.options.zoomSnap||0;Me._stop();var qe=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Ge=4*Math.log(2/(1+Math.exp(-Math.abs(qe))))/Math.LN2,ti=Re?Math.ceil(Ge/Re)*Re:Ge,oi=Me._limitZoom(De+(this._delta>0?ti:-ti))-De;this._delta=0,this._startTime=null,oi&&(Me.options.scrollWheelZoom==="center"?Me.setZoom(De+oi):Me.setZoomAround(this._lastMousePos,De+oi))}});an.addInitHook("addHandler","scrollWheelZoom",Vo);var Sa=600;an.mergeOptions({tapHold:Ei.touchNative&&Ei.safari&&Ei.mobile,tapTolerance:15});var Wo=Jn.extend({addHooks:function(){Hi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Me){if(clearTimeout(this._holdTimeout),Me.touches.length===1){var De=Me.touches[0];this._startPos=this._newPos=new Ci(De.clientX,De.clientY),this._holdTimeout=setTimeout(Be(function(){this._cancel(),this._isTapValid()&&(Hi(document,"touchend",kn),Hi(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",De))},this),Sa),Hi(document,"touchend touchcancel contextmenu",this._cancel,this),Hi(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function Me(){mn(document,"touchend",kn),mn(document,"touchend touchcancel",Me)},_cancel:function(){clearTimeout(this._holdTimeout),mn(document,"touchend touchcancel contextmenu",this._cancel,this),mn(document,"touchmove",this._onMove,this)},_onMove:function(Me){var De=Me.touches[0];this._newPos=new Ci(De.clientX,De.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(Me,De){var Re=new MouseEvent(Me,{bubbles:!0,cancelable:!0,view:window,screenX:De.screenX,screenY:De.screenY,clientX:De.clientX,clientY:De.clientY});Re._simulated=!0,De.target.dispatchEvent(Re)}});an.addInitHook("addHandler","tapHold",Wo),an.mergeOptions({touchZoom:Ei.touch,bounceAtZoomLimits:!0});var Zo=Jn.extend({addHooks:function(){Wi(this._map._container,"leaflet-touch-zoom"),Hi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ji(this._map._container,"leaflet-touch-zoom"),mn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Me){var De=this._map;if(!(!Me.touches||Me.touches.length!==2||De._animatingZoom||this._zooming)){var Re=De.mouseEventToContainerPoint(Me.touches[0]),qe=De.mouseEventToContainerPoint(Me.touches[1]);this._centerPoint=De.getSize()._divideBy(2),this._startLatLng=De.containerPointToLatLng(this._centerPoint),De.options.touchZoom!=="center"&&(this._pinchStartLatLng=De.containerPointToLatLng(Re.add(qe)._divideBy(2))),this._startDist=Re.distanceTo(qe),this._startZoom=De.getZoom(),this._moved=!1,this._zooming=!0,De._stop(),Hi(document,"touchmove",this._onTouchMove,this),Hi(document,"touchend touchcancel",this._onTouchEnd,this),kn(Me)}},_onTouchMove:function(Me){if(!(!Me.touches||Me.touches.length!==2||!this._zooming)){var De=this._map,Re=De.mouseEventToContainerPoint(Me.touches[0]),qe=De.mouseEventToContainerPoint(Me.touches[1]),Ge=Re.distanceTo(qe)/this._startDist;if(this._zoom=De.getScaleZoom(Ge,this._startZoom),!De.options.bounceAtZoomLimits&&(this._zoom<De.getMinZoom()&&Ge<1||this._zoom>De.getMaxZoom()&&Ge>1)&&(this._zoom=De._limitZoom(this._zoom)),De.options.touchZoom==="center"){if(this._center=this._startLatLng,Ge===1)return}else{var ti=Re._add(qe)._divideBy(2)._subtract(this._centerPoint);if(Ge===1&&ti.x===0&&ti.y===0)return;this._center=De.unproject(De.project(this._pinchStartLatLng,this._zoom).subtract(ti),this._zoom)}this._moved||(De._moveStart(!0,!1),this._moved=!0),Li(this._animRequest);var oi=Be(De._move,De,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=wi(oi,this,!0),kn(Me)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Li(this._animRequest),mn(document,"touchmove",this._onTouchMove,this),mn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});an.addInitHook("addHandler","touchZoom",Zo),an.BoxZoom=ao,an.DoubleClickZoom=jo,an.Drag=Ho,an.Keyboard=qo,an.ScrollWheelZoom=Vo,an.TapHold=Wo,an.TouchZoom=Zo,Te.Bounds=Ki,Te.Browser=Ei,Te.CRS=xn,Te.Canvas=Do,Te.Circle=Pr,Te.CircleMarker=rr,Te.Class=Oi,Te.Control=Wn,Te.DivIcon=Oo,Te.DivOverlay=es,Te.DomEvent=sa,Te.DomUtil=fo,Te.Draggable=ms,Te.Evented=fn,Te.FeatureGroup=os,Te.GeoJSON=ls,Te.GridLayer=Us,Te.Handler=Jn,Te.Icon=ks,Te.ImageOverlay=ar,Te.LatLng=hi,Te.LatLngBounds=yn,Te.Layer=Zn,Te.LayerGroup=Ns,Te.LineUtil=fa,Te.Map=an,Te.Marker=_r,Te.Mixin=ua,Te.Path=as,Te.Point=Ci,Te.PolyUtil=gs,Te.Polygon=As,Te.Polyline=Qn,Te.Popup=$r,Te.PosAnimation=go,Te.Projection=So,Te.Rectangle=Uo,Te.Renderer=ts,Te.SVG=cr,Te.SVGOverlay=Fo,Te.TileLayer=js,Te.Tooltip=Lr,Te.Transformation=Bn,Te.Util=Ti,Te.VideoOverlay=ro,Te.bind=Be,Te.bounds=gn,Te.canvas=No,Te.circle=ko,Te.circleMarker=$o,Te.control=er,Te.divIcon=wa,Te.extend=Fe,Te.featureGroup=io,Te.geoJSON=so,Te.geoJson=ga,Te.gridLayer=_a,Te.icon=Eo,Te.imageOverlay=va,Te.latLng=Ui,Te.latLngBounds=pn,Te.layerGroup=To,Te.map=ra,Te.marker=Co,Te.point=Pi,Te.polygon=Rs,Te.polyline=Lo,Te.popup=kr,Te.rectangle=Pa,Te.setOptions=Je,Te.stamp=Ne,Te.svg=zo,Te.svgOverlay=ya,Te.tileLayer=Mo,Te.tooltip=ba,Te.transformation=Dn,Te.version=Le,Te.videoOverlay=oo;var xa=window.L;Te.noConflict=function(){return window.L=xa,this},window.L=Te})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$5=getDefaultExportFromCjs(leafletSrcExports),markerIcon="/build/assets/marker-icon-BriwSpAC.svg";var jquery_validate={exports:{}};/*!
 * jQuery Validation Plugin v1.20.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2023 Jörn Zaefferer
 * Released under the MIT license
 */(function($e){(function(_e){$e.exports?$e.exports=_e(jqueryExports):_e(jQuery)})(function(_e){_e.extend(_e.fn,{validate:function(Ae){if(!this.length){Ae&&Ae.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var Be=_e.data(this[0],"validator");return Be||(this.attr("novalidate","novalidate"),Be=new _e.validator(Ae,this[0]),_e.data(this[0],"validator",Be),Be.settings.onsubmit&&(this.on("click.validate",":submit",function(Ie){Be.submitButton=Ie.currentTarget,_e(this).hasClass("cancel")&&(Be.cancelSubmit=!0),_e(this).attr("formnovalidate")!==void 0&&(Be.cancelSubmit=!0)}),this.on("submit.validate",function(Ie){Be.settings.debug&&Ie.preventDefault();function Ne(){var ze,Ue;return Be.submitButton&&(Be.settings.submitHandler||Be.formSubmitted)&&(ze=_e("<input type='hidden'/>").attr("name",Be.submitButton.name).val(_e(Be.submitButton).val()).appendTo(Be.currentForm)),Be.settings.submitHandler&&!Be.settings.debug?(Ue=Be.settings.submitHandler.call(Be,Be.currentForm,Ie),ze&&ze.remove(),Ue!==void 0?Ue:!1):!0}return Be.cancelSubmit?(Be.cancelSubmit=!1,Ne()):Be.form()?Be.pendingRequest?(Be.formSubmitted=!0,!1):Ne():(Be.focusInvalid(),!1)})),Be)},valid:function(){var Ae,Be,Ie;return _e(this[0]).is("form")?Ae=this.validate().form():(Ie=[],Ae=!0,Be=_e(this[0].form).validate(),this.each(function(){Ae=Be.element(this)&&Ae,Ae||(Ie=Ie.concat(Be.errorList))}),Be.errorList=Ie),Ae},rules:function(Ae,Be){var Ie=this[0],Ne=typeof this.attr("contenteditable")<"u"&&this.attr("contenteditable")!=="false",ze,Ue,je,Ve,Ze,Ke;if(Ie!=null&&(!Ie.form&&Ne&&(Ie.form=this.closest("form")[0],Ie.name=this.attr("name")),Ie.form!=null)){if(Ae)switch(ze=_e.data(Ie.form,"validator").settings,Ue=ze.rules,je=_e.validator.staticRules(Ie),Ae){case"add":_e.extend(je,_e.validator.normalizeRule(Be)),delete je.messages,Ue[Ie.name]=je,Be.messages&&(ze.messages[Ie.name]=_e.extend(ze.messages[Ie.name],Be.messages));break;case"remove":return Be?(Ke={},_e.each(Be.split(/\s/),function(Je,ei){Ke[ei]=je[ei],delete je[ei]}),Ke):(delete Ue[Ie.name],je)}return Ve=_e.validator.normalizeRules(_e.extend({},_e.validator.classRules(Ie),_e.validator.attributeRules(Ie),_e.validator.dataRules(Ie),_e.validator.staticRules(Ie)),Ie),Ve.required&&(Ze=Ve.required,delete Ve.required,Ve=_e.extend({required:Ze},Ve)),Ve.remote&&(Ze=Ve.remote,delete Ve.remote,Ve=_e.extend(Ve,{remote:Ze})),Ve}}});var Te=function(Ae){return Ae.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};_e.extend(_e.expr.pseudos||_e.expr[":"],{blank:function(Ae){return!Te(""+_e(Ae).val())},filled:function(Ae){var Be=_e(Ae).val();return Be!==null&&!!Te(""+Be)},unchecked:function(Ae){return!_e(Ae).prop("checked")}}),_e.validator=function(Ae,Be){this.settings=_e.extend(!0,{},_e.validator.defaults,Ae),this.currentForm=Be,this.init()},_e.validator.format=function(Ae,Be){return arguments.length===1?function(){var Ie=_e.makeArray(arguments);return Ie.unshift(Ae),_e.validator.format.apply(this,Ie)}:(Be===void 0||(arguments.length>2&&Be.constructor!==Array&&(Be=_e.makeArray(arguments).slice(1)),Be.constructor!==Array&&(Be=[Be]),_e.each(Be,function(Ie,Ne){Ae=Ae.replace(new RegExp("\\{"+Ie+"\\}","g"),function(){return Ne})})),Ae)},_e.extend(_e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:_e([]),errorLabelContainer:_e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(Ae){this.lastActive=Ae,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,Ae,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(Ae)))},onfocusout:function(Ae){!this.checkable(Ae)&&(Ae.name in this.submitted||!this.optional(Ae))&&this.element(Ae)},onkeyup:function(Ae,Be){var Ie=[16,17,18,20,35,36,37,38,39,40,45,144,225];Be.which===9&&this.elementValue(Ae)===""||_e.inArray(Be.keyCode,Ie)!==-1||(Ae.name in this.submitted||Ae.name in this.invalid)&&this.element(Ae)},onclick:function(Ae){Ae.name in this.submitted?this.element(Ae):Ae.parentNode.name in this.submitted&&this.element(Ae.parentNode)},highlight:function(Ae,Be,Ie){Ae.type==="radio"?this.findByName(Ae.name).addClass(Be).removeClass(Ie):_e(Ae).addClass(Be).removeClass(Ie)},unhighlight:function(Ae,Be,Ie){Ae.type==="radio"?this.findByName(Ae.name).removeClass(Be).addClass(Ie):_e(Ae).removeClass(Be).addClass(Ie)}},setDefaults:function(Ae){_e.extend(_e.validator.defaults,Ae)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:_e.validator.format("Please enter no more than {0} characters."),minlength:_e.validator.format("Please enter at least {0} characters."),rangelength:_e.validator.format("Please enter a value between {0} and {1} characters long."),range:_e.validator.format("Please enter a value between {0} and {1}."),max:_e.validator.format("Please enter a value less than or equal to {0}."),min:_e.validator.format("Please enter a value greater than or equal to {0}."),step:_e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=_e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||_e(this.currentForm),this.containers=_e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var Ae=this.currentForm,Be=this.groups={},Ie;_e.each(this.settings.groups,function(ze,Ue){typeof Ue=="string"&&(Ue=Ue.split(/\s/)),_e.each(Ue,function(je,Ve){Be[Ve]=ze})}),Ie=this.settings.rules,_e.each(Ie,function(ze,Ue){Ie[ze]=_e.validator.normalizeRule(Ue)});function Ne(ze){var Ue=typeof _e(this).attr("contenteditable")<"u"&&_e(this).attr("contenteditable")!=="false";if(!this.form&&Ue&&(this.form=_e(this).closest("form")[0],this.name=_e(this).attr("name")),Ae===this.form){var je=_e.data(this.form,"validator"),Ve="on"+ze.type.replace(/^validate/,""),Ze=je.settings;Ze[Ve]&&!_e(this).is(Ze.ignore)&&Ze[Ve].call(je,this,ze)}}_e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",Ne).on("click.validate","select, option, [type='radio'], [type='checkbox']",Ne),this.settings.invalidHandler&&_e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),_e.extend(this.submitted,this.errorMap),this.invalid=_e.extend({},this.errorMap),this.valid()||_e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var Ae=0,Be=this.currentElements=this.elements();Be[Ae];Ae++)this.check(Be[Ae]);return this.valid()},element:function(Ae){var Be=this.clean(Ae),Ie=this.validationTargetFor(Be),Ne=this,ze=!0,Ue,je;return Ie===void 0?delete this.invalid[Be.name]:(this.prepareElement(Ie),this.currentElements=_e(Ie),je=this.groups[Ie.name],je&&_e.each(this.groups,function(Ve,Ze){Ze===je&&Ve!==Ie.name&&(Be=Ne.validationTargetFor(Ne.clean(Ne.findByName(Ve))),Be&&Be.name in Ne.invalid&&(Ne.currentElements.push(Be),ze=Ne.check(Be)&&ze))}),Ue=this.check(Ie)!==!1,ze=ze&&Ue,Ue?this.invalid[Ie.name]=!1:this.invalid[Ie.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),_e(Ae).attr("aria-invalid",!Ue)),ze},showErrors:function(Ae){if(Ae){var Be=this;_e.extend(this.errorMap,Ae),this.errorList=_e.map(this.errorMap,function(Ie,Ne){return{message:Ie,element:Be.findByName(Ne)[0]}}),this.successList=_e.grep(this.successList,function(Ie){return!(Ie.name in Ae)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){_e.fn.resetForm&&_e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var Ae=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(Ae)},resetElements:function(Ae){var Be;if(this.settings.unhighlight)for(Be=0;Ae[Be];Be++)this.settings.unhighlight.call(this,Ae[Be],this.settings.errorClass,""),this.findByName(Ae[Be].name).removeClass(this.settings.validClass);else Ae.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(Ae){var Be=0,Ie;for(Ie in Ae)Ae[Ie]!==void 0&&Ae[Ie]!==null&&Ae[Ie]!==!1&&Be++;return Be},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(Ae){Ae.not(this.containers).text(""),this.addWrapper(Ae).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{_e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var Ae=this.lastActive;return Ae&&_e.grep(this.errorList,function(Be){return Be.element.name===Ae.name}).length===1&&Ae},elements:function(){var Ae=this,Be={};return _e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var Ie=this.name||_e(this).attr("name"),Ne=typeof _e(this).attr("contenteditable")<"u"&&_e(this).attr("contenteditable")!=="false";return!Ie&&Ae.settings.debug&&window.console&&console.error("%o has no name assigned",this),Ne&&(this.form=_e(this).closest("form")[0],this.name=Ie),this.form!==Ae.currentForm||Ie in Be||!Ae.objectLength(_e(this).rules())?!1:(Be[Ie]=!0,!0)})},clean:function(Ae){return _e(Ae)[0]},errors:function(){var Ae=this.settings.errorClass.split(" ").join(".");return _e(this.settings.errorElement+"."+Ae,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=_e([]),this.toHide=_e([])},reset:function(){this.resetInternals(),this.currentElements=_e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(Ae){this.reset(),this.toHide=this.errorsFor(Ae)},elementValue:function(Ae){var Be=_e(Ae),Ie=Ae.type,Ne=typeof Be.attr("contenteditable")<"u"&&Be.attr("contenteditable")!=="false",ze,Ue;return Ie==="radio"||Ie==="checkbox"?this.findByName(Ae.name).filter(":checked").val():Ie==="number"&&typeof Ae.validity<"u"?Ae.validity.badInput?"NaN":Be.val():(Ne?ze=Be.text():ze=Be.val(),Ie==="file"?ze.substr(0,12)==="C:\\fakepath\\"?ze.substr(12):(Ue=ze.lastIndexOf("/"),Ue>=0||(Ue=ze.lastIndexOf("\\"),Ue>=0)?ze.substr(Ue+1):ze):typeof ze=="string"?ze.replace(/\r/g,""):ze)},check:function(Ae){Ae=this.validationTargetFor(this.clean(Ae));var Be=_e(Ae).rules(),Ie=_e.map(Be,function(Ke,Je){return Je}).length,Ne=!1,ze=this.elementValue(Ae),Ue,je,Ve,Ze;this.abortRequest(Ae),typeof Be.normalizer=="function"?Ze=Be.normalizer:typeof this.settings.normalizer=="function"&&(Ze=this.settings.normalizer),Ze&&(ze=Ze.call(Ae,ze),delete Be.normalizer);for(je in Be){Ve={method:je,parameters:Be[je]};try{if(Ue=_e.validator.methods[je].call(this,ze,Ae,Ve.parameters),Ue==="dependency-mismatch"&&Ie===1){Ne=!0;continue}if(Ne=!1,Ue==="pending"){this.toHide=this.toHide.not(this.errorsFor(Ae));return}if(!Ue)return this.formatAndAdd(Ae,Ve),!1}catch(Ke){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+Ae.id+", check the '"+Ve.method+"' method.",Ke),Ke instanceof TypeError&&(Ke.message+=".  Exception occurred when checking element "+Ae.id+", check the '"+Ve.method+"' method."),Ke}}if(!Ne)return this.objectLength(Be)&&this.successList.push(Ae),!0},customDataMessage:function(Ae,Be){return _e(Ae).data("msg"+Be.charAt(0).toUpperCase()+Be.substring(1).toLowerCase())||_e(Ae).data("msg")},customMessage:function(Ae,Be){var Ie=this.settings.messages[Ae];return Ie&&(Ie.constructor===String?Ie:Ie[Be])},findDefined:function(){for(var Ae=0;Ae<arguments.length;Ae++)if(arguments[Ae]!==void 0)return arguments[Ae]},defaultMessage:function(Ae,Be){typeof Be=="string"&&(Be={method:Be});var Ie=this.findDefined(this.customMessage(Ae.name,Be.method),this.customDataMessage(Ae,Be.method),!this.settings.ignoreTitle&&Ae.title||void 0,_e.validator.messages[Be.method],"<strong>Warning: No message defined for "+Ae.name+"</strong>"),Ne=/\$?\{(\d+)\}/g;return typeof Ie=="function"?Ie=Ie.call(this,Be.parameters,Ae):Ne.test(Ie)&&(Ie=_e.validator.format(Ie.replace(Ne,"{$1}"),Be.parameters)),Ie},formatAndAdd:function(Ae,Be){var Ie=this.defaultMessage(Ae,Be);this.errorList.push({message:Ie,element:Ae,method:Be.method}),this.errorMap[Ae.name]=Ie,this.submitted[Ae.name]=Ie},addWrapper:function(Ae){return this.settings.wrapper&&(Ae=Ae.add(Ae.parent(this.settings.wrapper))),Ae},defaultShowErrors:function(){var Ae,Be,Ie;for(Ae=0;this.errorList[Ae];Ae++)Ie=this.errorList[Ae],this.settings.highlight&&this.settings.highlight.call(this,Ie.element,this.settings.errorClass,this.settings.validClass),this.showLabel(Ie.element,Ie.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(Ae=0;this.successList[Ae];Ae++)this.showLabel(this.successList[Ae]);if(this.settings.unhighlight)for(Ae=0,Be=this.validElements();Be[Ae];Ae++)this.settings.unhighlight.call(this,Be[Ae],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return _e(this.errorList).map(function(){return this.element})},showLabel:function(Ae,Be){var Ie,Ne,ze,Ue,je=this.errorsFor(Ae),Ve=this.idOrName(Ae),Ze=_e(Ae).attr("aria-describedby");je.length?(je.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?je.text(Be||""):je.html(Be||"")):(je=_e("<"+this.settings.errorElement+">").attr("id",Ve+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?je.text(Be||""):je.html(Be||""),Ie=je,this.settings.wrapper&&(Ie=je.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(Ie):this.settings.errorPlacement?this.settings.errorPlacement.call(this,Ie,_e(Ae)):Ie.insertAfter(Ae),je.is("label")?je.attr("for",Ve):je.parents("label[for='"+this.escapeCssMeta(Ve)+"']").length===0&&(ze=je.attr("id"),Ze?Ze.match(new RegExp("\\b"+this.escapeCssMeta(ze)+"\\b"))||(Ze+=" "+ze):Ze=ze,_e(Ae).attr("aria-describedby",Ze),Ne=this.groups[Ae.name],Ne&&(Ue=this,_e.each(Ue.groups,function(Ke,Je){Je===Ne&&_e("[name='"+Ue.escapeCssMeta(Ke)+"']",Ue.currentForm).attr("aria-describedby",je.attr("id"))})))),!Be&&this.settings.success&&(je.text(""),typeof this.settings.success=="string"?je.addClass(this.settings.success):this.settings.success(je,Ae)),this.toShow=this.toShow.add(je)},errorsFor:function(Ae){var Be=this.escapeCssMeta(this.idOrName(Ae)),Ie=_e(Ae).attr("aria-describedby"),Ne="label[for='"+Be+"'], label[for='"+Be+"'] *";return Ie&&(Ne=Ne+", #"+this.escapeCssMeta(Ie).replace(/\s+/g,", #")),this.errors().filter(Ne)},escapeCssMeta:function(Ae){return Ae===void 0?"":Ae.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(Ae){return this.groups[Ae.name]||(this.checkable(Ae)?Ae.name:Ae.id||Ae.name)},validationTargetFor:function(Ae){return this.checkable(Ae)&&(Ae=this.findByName(Ae.name)),_e(Ae).not(this.settings.ignore)[0]},checkable:function(Ae){return/radio|checkbox/i.test(Ae.type)},findByName:function(Ae){return _e(this.currentForm).find("[name='"+this.escapeCssMeta(Ae)+"']")},getLength:function(Ae,Be){switch(Be.nodeName.toLowerCase()){case"select":return _e("option:selected",Be).length;case"input":if(this.checkable(Be))return this.findByName(Be.name).filter(":checked").length}return Ae.length},depend:function(Ae,Be){return this.dependTypes[typeof Ae]?this.dependTypes[typeof Ae](Ae,Be):!0},dependTypes:{boolean:function(Ae){return Ae},string:function(Ae,Be){return!!_e(Ae,Be.form).length},function:function(Ae,Be){return Ae(Be)}},optional:function(Ae){var Be=this.elementValue(Ae);return!_e.validator.methods.required.call(this,Be,Ae)&&"dependency-mismatch"},elementAjaxPort:function(Ae){return"validate"+Ae.name},startRequest:function(Ae){this.pending[Ae.name]||(this.pendingRequest++,_e(Ae).addClass(this.settings.pendingClass),this.pending[Ae.name]=!0)},stopRequest:function(Ae,Be){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[Ae.name],_e(Ae).removeClass(this.settings.pendingClass),Be&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?(_e(this.currentForm).trigger("submit"),this.submitButton&&_e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!Be&&this.pendingRequest===0&&this.formSubmitted&&(_e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(Ae){var Be;this.pending[Ae.name]&&(Be=this.elementAjaxPort(Ae),_e.ajaxAbort(Be),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[Ae.name],_e(Ae).removeClass(this.settings.pendingClass))},previousValue:function(Ae,Be){return Be=typeof Be=="string"&&Be||"remote",_e.data(Ae,"previousValue")||_e.data(Ae,"previousValue",{old:null,valid:!0,message:this.defaultMessage(Ae,{method:Be})})},destroy:function(){this.resetForm(),_e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(Ae,Be){Ae.constructor===String?this.classRuleSettings[Ae]=Be:_e.extend(this.classRuleSettings,Ae)},classRules:function(Ae){var Be={},Ie=_e(Ae).attr("class");return Ie&&_e.each(Ie.split(" "),function(){this in _e.validator.classRuleSettings&&_e.extend(Be,_e.validator.classRuleSettings[this])}),Be},normalizeAttributeRule:function(Ae,Be,Ie,Ne){/min|max|step/.test(Ie)&&(Be===null||/number|range|text/.test(Be))&&(Ne=Number(Ne),isNaN(Ne)&&(Ne=void 0)),Ne||Ne===0?Ae[Ie]=Ne:Be===Ie&&Be!=="range"&&(Ae[Be==="date"?"dateISO":Ie]=!0)},attributeRules:function(Ae){var Be={},Ie=_e(Ae),Ne=Ae.getAttribute("type"),ze,Ue;for(ze in _e.validator.methods)ze==="required"?(Ue=Ae.getAttribute(ze),Ue===""&&(Ue=!0),Ue=!!Ue):Ue=Ie.attr(ze),this.normalizeAttributeRule(Be,Ne,ze,Ue);return Be.maxlength&&/-1|2147483647|524288/.test(Be.maxlength)&&delete Be.maxlength,Be},dataRules:function(Ae){var Be={},Ie=_e(Ae),Ne=Ae.getAttribute("type"),ze,Ue;for(ze in _e.validator.methods)Ue=Ie.data("rule"+ze.charAt(0).toUpperCase()+ze.substring(1).toLowerCase()),Ue===""&&(Ue=!0),this.normalizeAttributeRule(Be,Ne,ze,Ue);return Be},staticRules:function(Ae){var Be={},Ie=_e.data(Ae.form,"validator");return Ie.settings.rules&&(Be=_e.validator.normalizeRule(Ie.settings.rules[Ae.name])||{}),Be},normalizeRules:function(Ae,Be){return _e.each(Ae,function(Ie,Ne){if(Ne===!1){delete Ae[Ie];return}if(Ne.param||Ne.depends){var ze=!0;switch(typeof Ne.depends){case"string":ze=!!_e(Ne.depends,Be.form).length;break;case"function":ze=Ne.depends.call(Be,Be);break}ze?Ae[Ie]=Ne.param!==void 0?Ne.param:!0:(_e.data(Be.form,"validator").resetElements(_e(Be)),delete Ae[Ie])}}),_e.each(Ae,function(Ie,Ne){Ae[Ie]=typeof Ne=="function"&&Ie!=="normalizer"?Ne(Be):Ne}),_e.each(["minlength","maxlength"],function(){Ae[this]&&(Ae[this]=Number(Ae[this]))}),_e.each(["rangelength","range"],function(){var Ie;Ae[this]&&(Array.isArray(Ae[this])?Ae[this]=[Number(Ae[this][0]),Number(Ae[this][1])]:typeof Ae[this]=="string"&&(Ie=Ae[this].replace(/[\[\]]/g,"").split(/[\s,]+/),Ae[this]=[Number(Ie[0]),Number(Ie[1])]))}),_e.validator.autoCreateRanges&&(Ae.min!=null&&Ae.max!=null&&(Ae.range=[Ae.min,Ae.max],delete Ae.min,delete Ae.max),Ae.minlength!=null&&Ae.maxlength!=null&&(Ae.rangelength=[Ae.minlength,Ae.maxlength],delete Ae.minlength,delete Ae.maxlength)),Ae},normalizeRule:function(Ae){if(typeof Ae=="string"){var Be={};_e.each(Ae.split(/\s/),function(){Be[this]=!0}),Ae=Be}return Ae},addMethod:function(Ae,Be,Ie){_e.validator.methods[Ae]=Be,_e.validator.messages[Ae]=Ie!==void 0?Ie:_e.validator.messages[Ae],Be.length<3&&_e.validator.addClassRules(Ae,_e.validator.normalizeRule(Ae))},methods:{required:function(Ae,Be,Ie){if(!this.depend(Ie,Be))return"dependency-mismatch";if(Be.nodeName.toLowerCase()==="select"){var Ne=_e(Be).val();return Ne&&Ne.length>0}return this.checkable(Be)?this.getLength(Ae,Be)>0:Ae!=null&&Ae.length>0},email:function(Ae,Be){return this.optional(Be)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(Ae)},url:function(Ae,Be){return this.optional(Be)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(Ae)},date:function(){var Ae=!1;return function(Be,Ie){return Ae||(Ae=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(Ie)||!/Invalid|NaN/.test(new Date(Be).toString())}}(),dateISO:function(Ae,Be){return this.optional(Be)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(Ae)},number:function(Ae,Be){return this.optional(Be)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(Ae)},digits:function(Ae,Be){return this.optional(Be)||/^\d+$/.test(Ae)},minlength:function(Ae,Be,Ie){var Ne=Array.isArray(Ae)?Ae.length:this.getLength(Ae,Be);return this.optional(Be)||Ne>=Ie},maxlength:function(Ae,Be,Ie){var Ne=Array.isArray(Ae)?Ae.length:this.getLength(Ae,Be);return this.optional(Be)||Ne<=Ie},rangelength:function(Ae,Be,Ie){var Ne=Array.isArray(Ae)?Ae.length:this.getLength(Ae,Be);return this.optional(Be)||Ne>=Ie[0]&&Ne<=Ie[1]},min:function(Ae,Be,Ie){return this.optional(Be)||Ae>=Ie},max:function(Ae,Be,Ie){return this.optional(Be)||Ae<=Ie},range:function(Ae,Be,Ie){return this.optional(Be)||Ae>=Ie[0]&&Ae<=Ie[1]},step:function(Ae,Be,Ie){var Ne=_e(Be).attr("type"),ze="Step attribute on input type "+Ne+" is not supported.",Ue=["text","number","range"],je=new RegExp("\\b"+Ne+"\\b"),Ve=Ne&&!je.test(Ue.join()),Ze=function(ni){var Qe=(""+ni).match(/(?:\.(\d+))?$/);return Qe&&Qe[1]?Qe[1].length:0},Ke=function(ni){return Math.round(ni*Math.pow(10,ei))},Je=!0,ei;if(Ve)throw new Error(ze);return ei=Ze(Ie),(Ze(Ae)>ei||Ke(Ae)%Ke(Ie)!==0)&&(Je=!1),this.optional(Be)||Je},equalTo:function(Ae,Be,Ie){var Ne=_e(Ie);return this.settings.onfocusout&&Ne.not(".validate-equalTo-blur").length&&Ne.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){_e(Be).valid()}),Ae===Ne.val()},remote:function(Ae,Be,Ie,Ne){if(this.optional(Be))return"dependency-mismatch";Ne=typeof Ne=="string"&&Ne||"remote";var ze=this.previousValue(Be,Ne),Ue,je,Ve;return this.settings.messages[Be.name]||(this.settings.messages[Be.name]={}),ze.originalMessage=ze.originalMessage||this.settings.messages[Be.name][Ne],this.settings.messages[Be.name][Ne]=ze.message,Ie=typeof Ie=="string"&&{url:Ie}||Ie,Ve=_e.param(_e.extend({data:Ae},Ie.data)),ze.old===Ve?ze.valid:(ze.old=Ve,Ue=this,this.startRequest(Be),je={},je[Be.name]=Ae,_e.ajax(_e.extend(!0,{mode:"abort",port:this.elementAjaxPort(Be),dataType:"json",data:je,context:Ue.currentForm,success:function(Ze){var Ke=Ze===!0||Ze==="true",Je,ei,ni;Ue.settings.messages[Be.name][Ne]=ze.originalMessage,Ke?(ni=Ue.formSubmitted,Ue.toHide=Ue.errorsFor(Be),Ue.formSubmitted=ni,Ue.successList.push(Be),Ue.invalid[Be.name]=!1,Ue.showErrors()):(Je={},ei=Ze||Ue.defaultMessage(Be,{method:Ne,parameters:Ae}),Je[Be.name]=ze.message=ei,Ue.invalid[Be.name]=!0,Ue.showErrors(Je)),ze.valid=Ke,Ue.stopRequest(Be,Ke)}},Ie)),"pending")}}});var Le={},Fe;return _e.ajaxPrefilter?_e.ajaxPrefilter(function(Ae,Be,Ie){var Ne=Ae.port;Ae.mode==="abort"&&(_e.ajaxAbort(Ne),Le[Ne]=Ie)}):(Fe=_e.ajax,_e.ajax=function(Ae){var Be=("mode"in Ae?Ae:_e.ajaxSettings).mode,Ie=("port"in Ae?Ae:_e.ajaxSettings).port;return Be==="abort"?(_e.ajaxAbort(Ie),Le[Ie]=Fe.apply(this,arguments),Le[Ie]):Fe.apply(this,arguments)}),_e.ajaxAbort=function(Ae){Le[Ae]&&(Le[Ae].abort(),delete Le[Ae])},_e})})(jquery_validate);$$4.validator.addMethod("callbackValidation",function($e,_e,Te){var Le=Te.callback($e);return Array.isArray(Le)?Le[0]:!1},function($e,_e){return $e.callback(_e.value)[1]});const validationPlaces={errorPlacement:function($e,_e){$e.addClass("invalid-feedback"),_e.next(".invalid-feedback,.error").remove(),$e.insertAfter(_e)},errorClass:"is-invalid",highlight:function($e,_e,Te){$$4($e).addClass(_e).removeClass(Te)},unhighlight:function($e,_e,Te){$$4($e).removeClass(_e).addClass(Te)}};$$4("#registerForm").validate({rules:{name:"required",family:"required",email:{required:!0,email:!0},password:{required:!0},confirm_password:{required:!0,equalTo:"#password"}},messages:{name:"لطفا نام خود را وارد کنید",family:"لطفا نام خانوادگی خود را وارد کنید",email:{required:"لطفا ایمیل خود را وارد کنید",email:"ایمیل وارد شده معتبر نیست"},password:{required:"لطفا رمز عبور خود را وارد کنید"},confirm_password:{required:"لطفا تکرار رمز عبور را وارد کنید",equalTo:"تکرار رمز عبور با رمز عبور مطابقت ندارد"}},...validationPlaces});$$4("#loginForm").validate({rules:{phone:{required:!0,minlength:11,maxlength:11,digits:!0},password:{required:!0}},messages:{phone:{required:"لطفا شماره تلفن خود را وارد کنید",minlength:"شماره تلفن باید 11 رقم باشد",maxlength:"شماره تلفن باید 11 رقم باشد",digits:"شماره تلفن باید عدد باشد"},password:{required:"لطفا رمز عبور خود را وارد کنید"}},...validationPlaces});$$4("#changepassForm").validate({rules:{mobile:"required"},messages:{mobile:{required:"لطفا شماره تلفن خود را وارد کنید"}},...validationPlaces});$$4("#verifyForm").validate({rules:{code:{required:!0,minlength:5,maxlength:5}},messages:{code:{required:"لطفا کد تایید را وارد کنید",minlength:"کد تایید باید 5 رقم باشد",maxlength:"کد تایید باید 5 رقم باشد"}},...validationPlaces});$$4("#commentForm").validate({rules:{name:"required",email:{required:!0,email:!0},content:"required"},messages:{name:"لطفا نام خود را وارد کنید",email:{required:"لطفا ایمیل خود را وارد کنید",email:"ایمیل وارد شده معتبر نیست"},content:"دیدگاه خود را وارد کنید"},...validationPlaces});$$4("#contactForm").validate({rules:{name:"required",email:{required:!0,email:!0},subject:"required",content:"required",phone:{required:!0,minlength:11,maxlength:11,digits:!0}},messages:{name:"لطفا نام خود را وارد کنید",email:{required:"لطفا ایمیل خود را وارد کنید",email:"ایمیل وارد شده معتبر نیست"},subject:"لطفا موضوع را وارد کنید",content:"لطفا متن پیام را وارد کنید",phone:{required:"لطفا شماره تلفن خود را وارد کنید",minlength:"شماره تلفن باید 11 رقم باشد",maxlength:"شماره تلفن باید 11 رقم باشد",digits:"شماره تلفن باید عدد باشد"}},...validationPlaces});let shippingForm=$$4("#shippingForm").validate({rules:{name:"required",family:"required",mobile:{required:!0,minlength:11,maxlength:11,digits:!0},province:"required",city:"required",address:"required",postal_code:{required:!0,minlength:10,maxlength:10,digits:!0},shipping_name:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")}},shipping_family:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")}},shipping_mobile:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")},minlength:11,maxlength:11,digits:!0},shipping_province:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")}},shipping_city:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")}},shipping_address:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")}},shipping_postal_code:{required:function(){return $$4("#sendtoanotheraddress").is(":checked")},minlength:10,maxlength:10,digits:!0}},messages:{name:"لطفا نام خود را وارد کنید",family:"لطفا نام خانوادگی خود را وارد کنید",mobile:{required:"لطفا شماره تلفن خود را وارد کنید",minlength:"شماره تلفن باید 11 رقم باشد",maxlength:"شماره تلفن باید 11 رقم باشد",digits:"شماره تلفن باید عدد باشد"},province:"لطفا استان خود را وارد کنید",city:"لطفا شهر خود را وارد کنید",address:"لطفا آدرس خود را وارد کنید",postal_code:{required:"لطفا کد پستی خود را وارد کنید",minlength:"کد پستی باید 10 رقم باشد",maxlength:"کد پستی باید 10 رقم باشد",digits:"کد پستی باید عدد باشد"},shipping_name:"لطفا نام را وارد کنید",shipping_family:"لطفا نام خانوادگی را وارد کنید",shipping_mobile:{required:"لطفا شماره تلفن را وارد کنید",minlength:"شماره تلفن باید 11 رقم باشد",maxlength:"شماره تلفن باید 11 رقم باشد",digits:"شماره تلفن باید عدد باشد"},shipping_province:"لطفا استان را وارد کنید",shipping_city:"لطفا شهر را وارد کنید",shipping_address:"لطفا آدرس را وارد کنید",shipping_postal_code:{required:"لطفا کد پستی را وارد کنید",minlength:"کد پستی باید 10 رقم باشد",maxlength:"کد پستی باید 10 رقم باشد",digits:"کد پستی باید عدد باشد"}},...validationPlaces}),deliveryForm=$$4("#deliveryForm").validate({rules:{time:"required"},messages:{time:"لطفا تاریخ و ساعت تحویل را مشخص کنید"},...validationPlaces});$$4("#shipping-pay").on("click",function($e){shippingForm.form(),$$4("#shippingForm").submit()});$$4("#delivery-pay").on("click",function($e){deliveryForm.form(),$$4("#deliveryForm").submit()});$$4("#userinfo").validate({rules:{name:"required",family:"required",mobile:{required:!0,minlength:11,maxlength:11,digits:!0},province:"required",city:"required",address:"required",postal_code:{required:!0,minlength:10,maxlength:10,digits:!0}},messages:{name:"لطفا نام خود را وارد کنید",family:"لطفا نام خانوادگی خود را وارد کنید",mobile:{required:"لطفا شماره تلفن خود را وارد کنید",minlength:"شماره تلفن باید 11 رقم باشد",maxlength:"شماره تلفن باید 11 رقم باشد",digits:"شماره تلفن باید عدد باشد"},province:"لطفا استان خود را وارد کنید",city:"لطفا شهر خود را وارد کنید",address:"لطفا آدرس خود را وارد کنید",postal_code:{required:"لطفا کد پستی خود را وارد کنید",minlength:"کد پستی باید 10 رقم باشد",maxlength:"کد پستی باید 10 رقم باشد",digits:"کد پستی باید عدد باشد"}},...validationPlaces});$$4("#changepass-dashboard").validate({rules:{currentpass:"required",password:{required:!0},confirm_password:{required:!0,equalTo:"#password"}},messages:{currentpass:"لطفا رمز عبور فعلی خود را وارد کنید",password:{required:"لطفا رمز عبور خود را وارد کنید"},confirm_password:{required:"لطفا تکرار رمز عبور را وارد کنید",equalTo:"تکرار رمز عبور با رمز عبور مطابقت ندارد"}},...validationPlaces});var toastr$1={exports:{}};(function($e){(function(_e){_e(["jquery"],function(Te){return function(){var Le,Fe,Ae=0,Be={error:"error",info:"info",success:"success",warning:"warning"},Ie={clear:Je,remove:ei,error:ze,getContainer:Ue,info:je,options:{},subscribe:Ve,success:Ze,version:"2.1.4",warning:Ke},Ne;return Ie;function ze(mi,li,wi){return vi({type:Be.error,iconClass:bi().iconClasses.error,message:mi,optionsOverride:wi,title:li})}function Ue(mi,li){return mi||(mi=bi()),Le=Te("#"+mi.containerId),Le.length||li&&(Le=ii(mi)),Le}function je(mi,li,wi){return vi({type:Be.info,iconClass:bi().iconClasses.info,message:mi,optionsOverride:wi,title:li})}function Ve(mi){Fe=mi}function Ze(mi,li,wi){return vi({type:Be.success,iconClass:bi().iconClasses.success,message:mi,optionsOverride:wi,title:li})}function Ke(mi,li,wi){return vi({type:Be.warning,iconClass:bi().iconClasses.warning,message:mi,optionsOverride:wi,title:li})}function Je(mi,li){var wi=bi();Le||Ue(wi),Qe(mi,wi,li)||ni(wi)}function ei(mi){var li=bi();if(Le||Ue(li),mi&&Te(":focus",mi).length===0){xi(mi);return}Le.children().length&&Le.remove()}function ni(mi){for(var li=Le.children(),wi=li.length-1;wi>=0;wi--)Qe(Te(li[wi]),mi)}function Qe(mi,li,wi){var Li=wi&&wi.force?wi.force:!1;return mi&&(Li||Te(":focus",mi).length===0)?(mi[li.hideMethod]({duration:li.hideDuration,easing:li.hideEasing,complete:function(){xi(mi)}}),!0):!1}function ii(mi){return Le=Te("<div/>").attr("id",mi.containerId).addClass(mi.positionClass),Le.appendTo(Te(mi.target)),Le}function ai(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function di(mi){Fe&&Fe(mi)}function vi(mi){var li=bi(),wi=mi.iconClass||li.iconClass;if(typeof mi.optionsOverride<"u"&&(li=Te.extend(li,mi.optionsOverride),wi=mi.optionsOverride.iconClass||wi),Dn(li,mi))return;Ae++,Le=Ue(li,!0);var Li=null,Ti=Te("<div/>"),Oi=Te("<div/>"),Di=Te("<div/>"),Ri=Te("<div/>"),fn=Te(li.closeHtml),Ci={intervalId:null,hideEta:null,maxHideTime:null},hn={toastId:Ae,state:"visible",startTime:new Date,options:li,map:mi};return Ki(),pn(),yn(),di(hn),li.debug&&console&&console.log(hn),Ti;function Pi(Vi){return Vi==null&&(Vi=""),Vi.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ki(){hi(),xn(),An(),cs(),Tn(),Bn(),Ui(),gn()}function gn(){var Vi="";switch(mi.iconClass){case"toast-success":case"toast-info":Vi="polite";break;default:Vi="assertive"}Ti.attr("aria-live",Vi)}function yn(){li.closeOnHover&&Ti.hover(ns,Vs),!li.onclick&&li.tapToDismiss&&Ti.click(In),li.closeButton&&fn&&fn.click(function(Vi){Vi.stopPropagation?Vi.stopPropagation():Vi.cancelBubble!==void 0&&Vi.cancelBubble!==!0&&(Vi.cancelBubble=!0),li.onCloseClick&&li.onCloseClick(Vi),In(!0)}),li.onclick&&Ti.click(function(Vi){li.onclick(Vi),In()})}function pn(){Ti.hide(),Ti[li.showMethod]({duration:li.showDuration,easing:li.showEasing,complete:li.onShown}),li.timeOut>0&&(Li=setTimeout(In,li.timeOut),Ci.maxHideTime=parseFloat(li.timeOut),Ci.hideEta=new Date().getTime()+Ci.maxHideTime,li.progressBar&&(Ci.intervalId=setInterval(us,10)))}function hi(){mi.iconClass&&Ti.addClass(li.toastClass).addClass(wi)}function Ui(){li.newestOnTop?Le.prepend(Ti):Le.append(Ti)}function xn(){if(mi.title){var Vi=mi.title;li.escapeHtml&&(Vi=Pi(mi.title)),Oi.append(Vi).addClass(li.titleClass),Ti.append(Oi)}}function An(){if(mi.message){var Vi=mi.message;li.escapeHtml&&(Vi=Pi(mi.message)),Di.append(Vi).addClass(li.messageClass),Ti.append(Di)}}function cs(){li.closeButton&&(fn.addClass(li.closeClass).attr("role","button"),Ti.prepend(fn))}function Tn(){li.progressBar&&(Ri.addClass(li.progressClass),Ti.prepend(Ri))}function Bn(){li.rtl&&Ti.addClass("rtl")}function Dn(Vi,Ln){if(Vi.preventDuplicates){if(Ln.message===Ne)return!0;Ne=Ln.message}return!1}function In(Vi){var Ln=Vi&&li.closeMethod!==!1?li.closeMethod:li.hideMethod,En=Vi&&li.closeDuration!==!1?li.closeDuration:li.hideDuration,Fn=Vi&&li.closeEasing!==!1?li.closeEasing:li.hideEasing;if(!(Te(":focus",Ti).length&&!Vi))return clearTimeout(Ci.intervalId),Ti[Ln]({duration:En,easing:Fn,complete:function(){xi(Ti),clearTimeout(Li),li.onHidden&&hn.state!=="hidden"&&li.onHidden(),hn.state="hidden",hn.endTime=new Date,di(hn)}})}function Vs(){(li.timeOut>0||li.extendedTimeOut>0)&&(Li=setTimeout(In,li.extendedTimeOut),Ci.maxHideTime=parseFloat(li.extendedTimeOut),Ci.hideEta=new Date().getTime()+Ci.maxHideTime)}function ns(){clearTimeout(Li),Ci.hideEta=0,Ti.stop(!0,!0)[li.showMethod]({duration:li.showDuration,easing:li.showEasing})}function us(){var Vi=(Ci.hideEta-new Date().getTime())/Ci.maxHideTime*100;Ri.width(Vi+"%")}}function bi(){return Te.extend({},ai(),Ie.options)}function xi(mi){Le||(Le=Ue()),!mi.is(":visible")&&(mi.remove(),mi=null,Le.children().length===0&&(Le.remove(),Ne=void 0))}}()})})(function(_e,Te){$e.exports?$e.exports=Te(jqueryExports):window.toastr=Te(window.jQuery)})})(toastr$1);var toastrExports=toastr$1.exports;const toastr=getDefaultExportFromCjs(toastrExports);function Alarm({msg,title,closeButton=!0,debug=!1,newestOnTop=!1,progressBar=!1,positionClass="toastr-bottom-right",preventDuplicates=!0,onclick=null,showDuration="300",hideDuration="1000",timeOut="5000",extendedTimeOut="1000",showEasing="swing",hideEasing="linear",showMethod="fadeIn",hideMethod="fadeOut",type="success"}){toastr.options={closeButton:eval(closeButton),debug:eval(debug),newestOnTop:eval(newestOnTop),progressBar:eval(progressBar),positionClass,preventDuplicates:eval(preventDuplicates),onclick:eval(onclick),showDuration,hideDuration,timeOut,extendedTimeOut,showEasing,hideEasing,showMethod,hideMethod},type==="success"&&toastr.success(msg,title),type==="info"&&toastr.info(msg,title),type==="warning"&&toastr.warning(msg,title),type==="error"&&toastr.error(msg,title)}window.Alarm=Alarm;var sweetalert2_all={exports:{}};/*!
* sweetalert2 v11.10.2
* Released under the MIT License.
*/(function($e,_e){(function(Te,Le){$e.exports=Le()})(commonjsGlobal,function(){function Te(Xe,He){var We=Xe==null?null:typeof Symbol<"u"&&Xe[Symbol.iterator]||Xe["@@iterator"];if(We!=null){var Ye,si,yi,Ai,qi=[],Ji=!0,_n=!1;try{if(yi=(We=We.call(Xe)).next,He===0){if(Object(We)!==We)return;Ji=!1}else for(;!(Ji=(Ye=yi.call(We)).done)&&(qi.push(Ye.value),qi.length!==He);Ji=!0);}catch(co){_n=!0,si=co}finally{try{if(!Ji&&We.return!=null&&(Ai=We.return(),Object(Ai)!==Ai))return}finally{if(_n)throw si}}return qi}}function Le(Xe,He){if(typeof Xe!="object"||!Xe)return Xe;var We=Xe[Symbol.toPrimitive];if(We!==void 0){var Ye=We.call(Xe,He||"default");if(typeof Ye!="object")return Ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(He==="string"?String:Number)(Xe)}function Fe(Xe){var He=Le(Xe,"string");return typeof He=="symbol"?He:String(He)}function Ae(Xe){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(He){return typeof He}:function(He){return He&&typeof Symbol=="function"&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He},Ae(Xe)}function Be(Xe,He){if(!(Xe instanceof He))throw new TypeError("Cannot call a class as a function")}function Ie(Xe,He){for(var We=0;We<He.length;We++){var Ye=He[We];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(Xe,Fe(Ye.key),Ye)}}function Ne(Xe,He,We){return He&&Ie(Xe.prototype,He),We&&Ie(Xe,We),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function ze(Xe,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(He&&He.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),He&&je(Xe,He)}function Ue(Xe){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},Ue(Xe)}function je(Xe,He){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ye,si){return Ye.__proto__=si,Ye},je(Xe,He)}function Ve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ze(Xe,He,We){return Ve()?Ze=Reflect.construct.bind():Ze=function(si,yi,Ai){var qi=[null];qi.push.apply(qi,yi);var Ji=Function.bind.apply(si,qi),_n=new Ji;return Ai&&je(_n,Ai.prototype),_n},Ze.apply(null,arguments)}function Ke(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}function Je(Xe,He){if(He&&(typeof He=="object"||typeof He=="function"))return He;if(He!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(Xe)}function ei(Xe){var He=Ve();return function(){var Ye=Ue(Xe),si;if(He){var yi=Ue(this).constructor;si=Reflect.construct(Ye,arguments,yi)}else si=Ye.apply(this,arguments);return Je(this,si)}}function ni(Xe,He){for(;!Object.prototype.hasOwnProperty.call(Xe,He)&&(Xe=Ue(Xe),Xe!==null););return Xe}function Qe(){return typeof Reflect<"u"&&Reflect.get?Qe=Reflect.get.bind():Qe=function(He,We,Ye){var si=ni(He,We);if(si){var yi=Object.getOwnPropertyDescriptor(si,We);return yi.get?yi.get.call(arguments.length<3?He:Ye):yi.value}},Qe.apply(this,arguments)}function ii(Xe,He){return vi(Xe)||Te(Xe,He)||xi(Xe,He)||wi()}function ai(Xe){return di(Xe)||bi(Xe)||xi(Xe)||li()}function di(Xe){if(Array.isArray(Xe))return mi(Xe)}function vi(Xe){if(Array.isArray(Xe))return Xe}function bi(Xe){if(typeof Symbol<"u"&&Xe[Symbol.iterator]!=null||Xe["@@iterator"]!=null)return Array.from(Xe)}function xi(Xe,He){if(Xe){if(typeof Xe=="string")return mi(Xe,He);var We=Object.prototype.toString.call(Xe).slice(8,-1);if(We==="Object"&&Xe.constructor&&(We=Xe.constructor.name),We==="Map"||We==="Set")return Array.from(Xe);if(We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We))return mi(Xe,He)}}function mi(Xe,He){(He==null||He>Xe.length)&&(He=Xe.length);for(var We=0,Ye=new Array(He);We<He;We++)Ye[We]=Xe[We];return Ye}function li(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Li(Xe,He){var We=Oi(Xe,He,"get");return Di(Xe,We)}function Ti(Xe,He,We){var Ye=Oi(Xe,He,"set");return Ri(Xe,Ye,We),We}function Oi(Xe,He,We){if(!He.has(Xe))throw new TypeError("attempted to "+We+" private field on non-instance");return He.get(Xe)}function Di(Xe,He){return He.get?He.get.call(Xe):He.value}function Ri(Xe,He,We){if(He.set)He.set.call(Xe,We);else{if(!He.writable)throw new TypeError("attempted to set read only private field");He.value=We}}function fn(Xe,He){if(He.has(Xe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ci(Xe,He,We){fn(Xe,He),He.set(Xe,We)}var hn=100,Pi={},Ki=function(){Pi.previousActiveElement instanceof HTMLElement?(Pi.previousActiveElement.focus(),Pi.previousActiveElement=null):document.body&&document.body.focus()},gn=function(He){return new Promise(function(We){if(!He)return We();var Ye=window.scrollX,si=window.scrollY;Pi.restoreFocusTimeout=setTimeout(function(){Ki(),We()},hn),window.scrollTo(Ye,si)})},yn="swal2-",pn=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],hi=pn.reduce(function(Xe,He){return Xe[He]=yn+He,Xe},{}),Ui=["success","warning","info","question","error"],xn=Ui.reduce(function(Xe,He){return Xe[He]=yn+He,Xe},{}),An="SweetAlert2:",cs=function(He){return He.charAt(0).toUpperCase()+He.slice(1)},Tn=function(He){console.warn("".concat(An," ").concat(Ae(He)==="object"?He.join(" "):He))},Bn=function(He){console.error("".concat(An," ").concat(He))},Dn=[],In=function(He){Dn.includes(He)||(Dn.push(He),Tn(He))},Vs=function(He,We){In('"'.concat(He,'" is deprecated and will be removed in the next major release. Please use "').concat(We,'" instead.'))},ns=function(He){return typeof He=="function"?He():He},us=function(He){return He&&typeof He.toPromise=="function"},Vi=function(He){return us(He)?He.toPromise():Promise.resolve(He)},Ln=function(He){return He&&Promise.resolve(He)===He},En=function(){return document.body.querySelector(".".concat(hi.container))},Fn=function(He){var We=En();return We?We.querySelector(He):null},Xi=function(He){return Fn(".".concat(He))},nn=function(){return Xi(hi.popup)},Gn=function(){return Xi(hi.icon)},ur=function(){return Xi(hi["icon-content"])},Ws=function(){return Xi(hi.title)},vs=function(){return Xi(hi["html-container"])},ys=function(){return Xi(hi.image)},Nn=function(){return Xi(hi["progress-steps"])},bs=function(){return Xi(hi["validation-message"])},On=function(){return Fn(".".concat(hi.actions," .").concat(hi.confirm))},Rn=function(){return Fn(".".concat(hi.actions," .").concat(hi.cancel))},ss=function(){return Fn(".".concat(hi.actions," .").concat(hi.deny))},dr=function(){return Xi(hi["input-label"])},Hn=function(){return Fn(".".concat(hi.loader))},ds=function(){return Xi(hi.actions)},Zs=function(){return Xi(hi.footer)},Kn=function(){return Xi(hi["timer-progress-bar"])},Gs=function(){return Xi(hi.close)},Fr=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,rs=function(){var He=nn();if(!He)return[];var We=He.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),Ye=Array.from(We).sort(function(Ai,qi){var Ji=parseInt(Ai.getAttribute("tabindex")||"0"),_n=parseInt(qi.getAttribute("tabindex")||"0");return Ji>_n?1:Ji<_n?-1:0}),si=He.querySelectorAll(Fr),yi=Array.from(si).filter(function(Ai){return Ai.getAttribute("tabindex")!=="-1"});return ai(new Set(Ye.concat(yi))).filter(function(Ai){return Cn(Ai)})},ri=function(){return $i(document.body,hi.shown)&&!$i(document.body,hi["toast-shown"])&&!$i(document.body,hi["no-backdrop"])},ci=function(){var He=nn();return He?$i(He,hi.toast):!1},fi=function(){var He=nn();return He?He.hasAttribute("data-loading"):!1},_i=function(He,We){if(He.textContent="",We){var Ye=new DOMParser,si=Ye.parseFromString(We,"text/html"),yi=si.querySelector("head");yi&&Array.from(yi.childNodes).forEach(function(qi){He.appendChild(qi)});var Ai=si.querySelector("body");Ai&&Array.from(Ai.childNodes).forEach(function(qi){qi instanceof HTMLVideoElement||qi instanceof HTMLAudioElement?He.appendChild(qi.cloneNode(!0)):He.appendChild(qi)})}},$i=function(He,We){if(!We)return!1;for(var Ye=We.split(/\s+/),si=0;si<Ye.length;si++)if(!He.classList.contains(Ye[si]))return!1;return!0},ki=function(He,We){Array.from(He.classList).forEach(function(Ye){!Object.values(hi).includes(Ye)&&!Object.values(xn).includes(Ye)&&!Object.values(We.showClass||{}).includes(Ye)&&He.classList.remove(Ye)})},Bi=function(He,We,Ye){if(ki(He,We),We.customClass&&We.customClass[Ye]){if(typeof We.customClass[Ye]!="string"&&!We.customClass[Ye].forEach){Tn("Invalid type of customClass.".concat(Ye,'! Expected string or iterable object, got "').concat(Ae(We.customClass[Ye]),'"'));return}Ii(He,We.customClass[Ye])}},Mi=function(He,We){if(!We)return null;switch(We){case"select":case"textarea":case"file":return He.querySelector(".".concat(hi.popup," > .").concat(hi[We]));case"checkbox":return He.querySelector(".".concat(hi.popup," > .").concat(hi.checkbox," input"));case"radio":return He.querySelector(".".concat(hi.popup," > .").concat(hi.radio," input:checked"))||He.querySelector(".".concat(hi.popup," > .").concat(hi.radio," input:first-child"));case"range":return He.querySelector(".".concat(hi.popup," > .").concat(hi.range," input"));default:return He.querySelector(".".concat(hi.popup," > .").concat(hi.input))}},cn=function(He){if(He.focus(),He.type!=="file"){var We=He.value;He.value="",He.value=We}},dn=function(He,We,Ye){!He||!We||(typeof We=="string"&&(We=We.split(/\s+/).filter(Boolean)),We.forEach(function(si){Array.isArray(He)?He.forEach(function(yi){Ye?yi.classList.add(si):yi.classList.remove(si)}):Ye?He.classList.add(si):He.classList.remove(si)}))},Ii=function(He,We){dn(He,We,!0)},sn=function(He,We){dn(He,We,!1)},Zi=function(He,We){for(var Ye=Array.from(He.children),si=0;si<Ye.length;si++){var yi=Ye[si];if(yi instanceof HTMLElement&&$i(yi,We))return yi}},Yi=function(He,We,Ye){Ye==="".concat(parseInt(Ye))&&(Ye=parseInt(Ye)),Ye||parseInt(Ye)===0?He.style.setProperty(We,typeof Ye=="number"?"".concat(Ye,"px"):Ye):He.style.removeProperty(We)},Ei=function(He){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";He&&(He.style.display=We)},Qi=function(He){He&&(He.style.display="none")},Pn=function(He){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";He&&new MutationObserver(function(){Xn(He,He.innerHTML,We)}).observe(He,{childList:!0,subtree:!0})},ws=function(He,We,Ye,si){var yi=He.querySelector(We);yi&&yi.style.setProperty(Ye,si)},Xn=function(He,We){var Ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";We?Ei(He,Ye):Qi(He)},Cn=function(He){return!!(He&&(He.offsetWidth||He.offsetHeight||He.getClientRects().length))},Ks=function(){return!Cn(On())&&!Cn(ss())&&!Cn(Rn())},qn=function(He){return He.scrollHeight>He.clientHeight},Fs=function(He){var We=window.getComputedStyle(He),Ye=parseFloat(We.getPropertyValue("animation-duration")||"0"),si=parseFloat(We.getPropertyValue("transition-duration")||"0");return Ye>0||si>0},Os=function(He){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ye=Kn();Ye&&Cn(Ye)&&(We&&(Ye.style.transition="none",Ye.style.width="100%"),setTimeout(function(){Ye.style.transition="width ".concat(He/1e3,"s linear"),Ye.style.width="0%"},10))},Xo=function(){var He=Kn();if(He){var We=parseInt(window.getComputedStyle(He).width);He.style.removeProperty("transition"),He.style.width="100%";var Ye=parseInt(window.getComputedStyle(He).width),si=We/Ye*100;He.style.width="".concat(si,"%")}},uo=function(){return typeof window>"u"||typeof document>"u"},Yo=`
 <div aria-labelledby="`.concat(hi.title,'" aria-describedby="').concat(hi["html-container"],'" class="').concat(hi.popup,`" tabindex="-1">
   <button type="button" class="`).concat(hi.close,`"></button>
   <ul class="`).concat(hi["progress-steps"],`"></ul>
   <div class="`).concat(hi.icon,`"></div>
   <img class="`).concat(hi.image,`" />
   <h2 class="`).concat(hi.title,'" id="').concat(hi.title,`"></h2>
   <div class="`).concat(hi["html-container"],'" id="').concat(hi["html-container"],`"></div>
   <input class="`).concat(hi.input,'" id="').concat(hi.input,`" />
   <input type="file" class="`).concat(hi.file,`" />
   <div class="`).concat(hi.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(hi.select,'" id="').concat(hi.select,`"></select>
   <div class="`).concat(hi.radio,`"></div>
   <label class="`).concat(hi.checkbox,`">
     <input type="checkbox" id="`).concat(hi.checkbox,`" />
     <span class="`).concat(hi.label,`"></span>
   </label>
   <textarea class="`).concat(hi.textarea,'" id="').concat(hi.textarea,`"></textarea>
   <div class="`).concat(hi["validation-message"],'" id="').concat(hi["validation-message"],`"></div>
   <div class="`).concat(hi.actions,`">
     <div class="`).concat(hi.loader,`"></div>
     <button type="button" class="`).concat(hi.confirm,`"></button>
     <button type="button" class="`).concat(hi.deny,`"></button>
     <button type="button" class="`).concat(hi.cancel,`"></button>
   </div>
   <div class="`).concat(hi.footer,`"></div>
   <div class="`).concat(hi["timer-progress-bar-container"],`">
     <div class="`).concat(hi["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ho=function(){var He=En();return He?(He.remove(),sn([document.documentElement,document.body],[hi["no-backdrop"],hi["toast-shown"],hi["has-column"]]),!0):!1},_s=function(){Pi.currentInstance.resetValidationMessage()},hr=function(){var He=nn(),We=Zi(He,hi.input),Ye=Zi(He,hi.file),si=He.querySelector(".".concat(hi.range," input")),yi=He.querySelector(".".concat(hi.range," output")),Ai=Zi(He,hi.select),qi=He.querySelector(".".concat(hi.checkbox," input")),Ji=Zi(He,hi.textarea);We.oninput=_s,Ye.onchange=_s,Ai.onchange=_s,qi.onchange=_s,Ji.oninput=_s,si.oninput=function(){_s(),yi.value=si.value},si.onchange=function(){_s(),yi.value=si.value}},Jo=function(He){return typeof He=="string"?document.querySelector(He):He},Qo=function(He){var We=nn();We.setAttribute("role",He.toast?"alert":"dialog"),We.setAttribute("aria-live",He.toast?"polite":"assertive"),He.toast||We.setAttribute("aria-modal","true")},ea=function(He){window.getComputedStyle(He).direction==="rtl"&&Ii(En(),hi.rtl)},ta=function(He){var We=ho();if(uo()){Bn("SweetAlert2 requires document to initialize");return}var Ye=document.createElement("div");Ye.className=hi.container,We&&Ii(Ye,hi["no-transition"]),_i(Ye,Yo);var si=Jo(He.target);si.appendChild(Ye),Qo(He),ea(si),hr()},Or=function(He,We){He instanceof HTMLElement?We.appendChild(He):Ae(He)==="object"?Mr(He,We):He&&_i(We,He)},Mr=function(He,We){He.jquery?Xs(We,He):_i(We,He.toString())},Xs=function(He,We){if(He.textContent="",0 in We)for(var Ye=0;Ye in We;Ye++)He.appendChild(We[Ye].cloneNode(!0));else He.appendChild(We.cloneNode(!0))},hs=function(){if(uo())return!1;var Xe=document.createElement("div");return typeof Xe.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof Xe.style.animation<"u"?"animationend":!1}(),po=function(He,We){var Ye=ds(),si=Hn();!Ye||!si||(!We.showConfirmButton&&!We.showDenyButton&&!We.showCancelButton?Qi(Ye):Ei(Ye),Bi(Ye,We,"actions"),Ys(Ye,si,We),_i(si,We.loaderHtml||""),Bi(si,We,"loader"))};function Ys(Xe,He,We){var Ye=On(),si=ss(),yi=Rn();!Ye||!si||!yi||(vn(Ye,"confirm",We),vn(si,"deny",We),vn(yi,"cancel",We),ln(Ye,si,yi,We),We.reverseButtons&&(We.toast?(Xe.insertBefore(yi,Ye),Xe.insertBefore(si,Ye)):(Xe.insertBefore(yi,He),Xe.insertBefore(si,He),Xe.insertBefore(Ye,He))))}function ln(Xe,He,We,Ye){if(!Ye.buttonsStyling){sn([Xe,He,We],hi.styled);return}Ii([Xe,He,We],hi.styled),Ye.confirmButtonColor&&(Xe.style.backgroundColor=Ye.confirmButtonColor,Ii(Xe,hi["default-outline"])),Ye.denyButtonColor&&(He.style.backgroundColor=Ye.denyButtonColor,Ii(He,hi["default-outline"])),Ye.cancelButtonColor&&(We.style.backgroundColor=Ye.cancelButtonColor,Ii(We,hi["default-outline"]))}function vn(Xe,He,We){var Ye=cs(He);Xn(Xe,We["show".concat(Ye,"Button")],"inline-block"),_i(Xe,We["".concat(He,"ButtonText")]||""),Xe.setAttribute("aria-label",We["".concat(He,"ButtonAriaLabel")]||""),Xe.className=hi[He],Bi(Xe,We,"".concat(He,"Button"))}var pr=function(He,We){var Ye=Gs();Ye&&(_i(Ye,We.closeButtonHtml||""),Bi(Ye,We,"closeButton"),Xn(Ye,We.showCloseButton),Ye.setAttribute("aria-label",We.closeButtonAriaLabel||""))},Ms=function(He,We){var Ye=En();Ye&&(Bs(Ye,We.backdrop),Br(Ye,We.position),Wi(Ye,We.grow),Bi(Ye,We,"container"))};function Bs(Xe,He){typeof He=="string"?Xe.style.background=He:He||Ii([document.documentElement,document.body],hi["no-backdrop"])}function Br(Xe,He){He&&(He in hi?Ii(Xe,hi[He]):(Tn('The "position" parameter is not valid, defaulting to "center"'),Ii(Xe,hi.center)))}function Wi(Xe,He){He&&Ii(Xe,hi["grow-".concat(He)])}var ji={innerParams:new WeakMap,domCache:new WeakMap},Ir=["input","file","range","select","radio","checkbox","textarea"],fr=function(He,We){var Ye=nn();if(Ye){var si=ji.innerParams.get(He),yi=!si||We.input!==si.input;Ir.forEach(function(Ai){var qi=Zi(Ye,hi[Ai]);qi&&(mr(Ai,We.inputAttributes),qi.className=hi[Ai],yi&&Qi(qi))}),We.input&&(yi&&zn(We),Ps(We))}},zn=function(He){if(He.input){if(!bn[He.input]){Bn("Unexpected type of input! Expected ".concat(Object.keys(bn).join(" | "),', got "').concat(He.input,'"'));return}var We=Is(He.input),Ye=bn[He.input](We,He);Ei(We),He.inputAutoFocus&&setTimeout(function(){cn(Ye)})}},ia=function(He){for(var We=0;We<He.attributes.length;We++){var Ye=He.attributes[We].name;["id","type","value","style"].includes(Ye)||He.removeAttribute(Ye)}},mr=function(He,We){var Ye=Mi(nn(),He);if(Ye){ia(Ye);for(var si in We)Ye.setAttribute(si,We[si])}},Ps=function(He){var We=Is(He.input);Ae(He.customClass)==="object"&&Ii(We,He.customClass.input)},Sn=function(He,We){(!He.placeholder||We.inputPlaceholder)&&(He.placeholder=We.inputPlaceholder)},Vn=function(He,We,Ye){if(Ye.inputLabel){var si=document.createElement("label"),yi=hi["input-label"];si.setAttribute("for",He.id),si.className=yi,Ae(Ye.customClass)==="object"&&Ii(si,Ye.customClass.inputLabel),si.innerText=Ye.inputLabel,We.insertAdjacentElement("beforebegin",si)}},Is=function(He){return Zi(nn(),hi[He]||hi.input)},ps=function(He,We){["string","number"].includes(Ae(We))?He.value="".concat(We):Ln(We)||Tn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Ae(We),'"'))},bn={};bn.text=bn.email=bn.password=bn.number=bn.tel=bn.url=bn.search=bn.date=bn["datetime-local"]=bn.time=bn.week=bn.month=function(Xe,He){return ps(Xe,He.inputValue),Vn(Xe,Xe,He),Sn(Xe,He),Xe.type=He.input,Xe},bn.file=function(Xe,He){return Vn(Xe,Xe,He),Sn(Xe,He),Xe},bn.range=function(Xe,He){var We=Xe.querySelector("input"),Ye=Xe.querySelector("output");return ps(We,He.inputValue),We.type=He.input,ps(Ye,He.inputValue),Vn(We,Xe,He),Xe},bn.select=function(Xe,He){if(Xe.textContent="",He.inputPlaceholder){var We=document.createElement("option");_i(We,He.inputPlaceholder),We.value="",We.disabled=!0,We.selected=!0,Xe.appendChild(We)}return Vn(Xe,Xe,He),Xe},bn.radio=function(Xe){return Xe.textContent="",Xe},bn.checkbox=function(Xe,He){var We=Mi(nn(),"checkbox");We.value="1",We.checked=!!He.inputValue;var Ye=Xe.querySelector("span");return _i(Ye,He.inputPlaceholder),We},bn.textarea=function(Xe,He){ps(Xe,He.inputValue),Sn(Xe,He),Vn(Xe,Xe,He);var We=function(si){return parseInt(window.getComputedStyle(si).marginLeft)+parseInt(window.getComputedStyle(si).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var Ye=parseInt(window.getComputedStyle(nn()).width),si=function(){if(document.body.contains(Xe)){var Ai=Xe.offsetWidth+We(Xe);Ai>Ye?nn().style.width="".concat(Ai,"px"):Yi(nn(),"width",He.width)}};new MutationObserver(si).observe(Xe,{attributes:!0,attributeFilter:["style"]})}}),Xe};var Js=function(He,We){var Ye=vs();Ye&&(Pn(Ye),Bi(Ye,We,"htmlContainer"),We.html?(Or(We.html,Ye),Ei(Ye,"block")):We.text?(Ye.textContent=We.text,Ei(Ye,"block")):Qi(Ye),fr(He,We))},Dr=function(He,We){var Ye=Zs();Ye&&(Pn(Ye),Xn(Ye,We.footer,"block"),We.footer&&Or(We.footer,Ye),Bi(Ye,We,"footer"))},Nr=function(He,We){var Ye=ji.innerParams.get(He),si=Gn();if(si){if(Ye&&We.icon===Ye.icon){Ur(si,We),Qs(si,We);return}if(!We.icon&&!We.iconHtml){Qi(si);return}if(We.icon&&Object.keys(xn).indexOf(We.icon)===-1){Bn('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(We.icon,'"')),Qi(si);return}Ei(si),Ur(si,We),Qs(si,We),Ii(si,We.showClass&&We.showClass.icon)}},Qs=function(He,We){for(var Ye=0,si=Object.entries(xn);Ye<si.length;Ye++){var yi=ii(si[Ye],2),Ai=yi[0],qi=yi[1];We.icon!==Ai&&sn(He,qi)}Ii(He,We.icon&&xn[We.icon]),jr(He,We),Rr(),Bi(He,We,"icon")},Rr=function(){var He=nn();if(He)for(var We=window.getComputedStyle(He).getPropertyValue("background-color"),Ye=He.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),si=0;si<Ye.length;si++)Ye[si].style.backgroundColor=We},zr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,gr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ur=function(He,We){if(!(!We.icon&&!We.iconHtml)){var Ye=He.innerHTML,si="";if(We.iconHtml)si=fo(We.iconHtml);else if(We.icon==="success")si=zr,Ye=Ye.replace(/ style=".*?"/g,"");else if(We.icon==="error")si=gr;else if(We.icon){var yi={question:"?",warning:"!",info:"i"};si=fo(yi[We.icon])}Ye.trim()!==si.trim()&&_i(He,si)}},jr=function(He,We){if(We.iconColor){He.style.color=We.iconColor,He.style.borderColor=We.iconColor;for(var Ye=0,si=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];Ye<si.length;Ye++){var yi=si[Ye];ws(He,yi,"backgroundColor",We.iconColor)}ws(He,".swal2-success-ring","borderColor",We.iconColor)}},fo=function(He){return'<div class="'.concat(hi["icon-content"],'">').concat(He,"</div>")},Hi=function(He,We){var Ye=ys();if(Ye){if(!We.imageUrl){Qi(Ye);return}Ei(Ye,""),Ye.setAttribute("src",We.imageUrl),Ye.setAttribute("alt",We.imageAlt||""),Yi(Ye,"width",We.imageWidth),Yi(Ye,"height",We.imageHeight),Ye.className=hi.image,Bi(Ye,We,"image")}},Yn=function(He,We){var Ye=En(),si=nn();if(!(!Ye||!si)){if(We.toast){Yi(Ye,"width",We.width),si.style.width="100%";var yi=Hn();yi&&si.insertBefore(yi,Gn())}else Yi(si,"width",We.width);Yi(si,"padding",We.padding),We.color&&(si.style.color=We.color),We.background&&(si.style.background=We.background),Qi(bs()),mn(si,We)}},mn=function(He,We){var Ye=We.showClass||{};He.className="".concat(hi.popup," ").concat(Cn(He)?Ye.popup:""),We.toast?(Ii([document.documentElement,document.body],hi["toast-shown"]),Ii(He,hi.toast)):Ii(He,hi.modal),Bi(He,We,"popup"),typeof We.customClass=="string"&&Ii(He,We.customClass),We.icon&&Ii(He,hi["icon-".concat(We.icon)])},mo=function(He,We){var Ye=Nn();if(Ye){var si=We.progressSteps,yi=We.currentProgressStep;if(!si||si.length===0||yi===void 0){Qi(Ye);return}Ei(Ye),Ye.textContent="",yi>=si.length&&Tn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),si.forEach(function(Ai,qi){var Ji=Hr(Ai);if(Ye.appendChild(Ji),qi===yi&&Ii(Ji,hi["active-progress-step"]),qi!==si.length-1){var _n=qr(We);Ye.appendChild(_n)}})}},Hr=function(He){var We=document.createElement("li");return Ii(We,hi["progress-step"]),_i(We,He),We},qr=function(He){var We=document.createElement("li");return Ii(We,hi["progress-step-line"]),He.progressStepsDistance&&Yi(We,"width",He.progressStepsDistance),We},Vr=function(He,We){var Ye=Ws();Ye&&(Pn(Ye),Xn(Ye,We.title||We.titleText,"block"),We.title&&Or(We.title,Ye),We.titleText&&(Ye.innerText=We.titleText),Bi(Ye,We,"title"))},fs=function(He,We){Yn(He,We),Ms(He,We),mo(He,We),Nr(He,We),Hi(He,We),Vr(He,We),pr(He,We),Js(He,We),po(He,We),Dr(He,We);var Ye=nn();typeof We.didRender=="function"&&Ye&&We.didRender(Ye)},Wr=function(){return Cn(nn())},Ds=function(){var He;return(He=On())===null||He===void 0?void 0:He.click()},kn=function(){var He;return(He=ss())===null||He===void 0?void 0:He.click()},Ss=function(){var He;return(He=Rn())===null||He===void 0?void 0:He.click()},xs=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Zr=function(He){He.keydownTarget&&He.keydownHandlerAdded&&(He.keydownTarget.removeEventListener("keydown",He.keydownHandler,{capture:He.keydownListenerCapture}),He.keydownHandlerAdded=!1)},na=function(He,We,Ye){Zr(He),We.toast||(He.keydownHandler=function(si){return go(We,si,Ye)},He.keydownTarget=We.keydownListenerCapture?window:nn(),He.keydownListenerCapture=We.keydownListenerCapture,He.keydownTarget.addEventListener("keydown",He.keydownHandler,{capture:He.keydownListenerCapture}),He.keydownHandlerAdded=!0)},vr=function(He,We){var Ye,si=rs();if(si.length){He=He+We,He===si.length?He=0:He===-1&&(He=si.length-1),si[He].focus();return}(Ye=nn())===null||Ye===void 0||Ye.focus()},yr=["ArrowRight","ArrowDown"],sa=["ArrowLeft","ArrowUp"],go=function(He,We,Ye){He&&(We.isComposing||We.keyCode===229||(He.stopKeydownPropagation&&We.stopPropagation(),We.key==="Enter"?an(We,He):We.key==="Tab"?ra(We):[].concat(yr,sa).includes(We.key)?Wn(We.key):We.key==="Escape"&&er(We,He,Ye)))},an=function(He,We){if(ns(We.allowEnterKey)){var Ye=Mi(nn(),We.input);if(He.target&&Ye&&He.target instanceof HTMLElement&&He.target.outerHTML===Ye.outerHTML){if(["textarea","file"].includes(We.input))return;Ds(),He.preventDefault()}}},ra=function(He){for(var We=He.target,Ye=rs(),si=-1,yi=0;yi<Ye.length;yi++)if(We===Ye[yi]){si=yi;break}He.shiftKey?vr(si,-1):vr(si,1),He.stopPropagation(),He.preventDefault()},Wn=function(He){var We=ds(),Ye=On(),si=ss(),yi=Rn();if(!(!We||!Ye||!si||!yi)){var Ai=[Ye,si,yi];if(!(document.activeElement instanceof HTMLElement&&!Ai.includes(document.activeElement))){var qi=yr.includes(He)?"nextElementSibling":"previousElementSibling",Ji=document.activeElement;if(Ji){for(var _n=0;_n<We.children.length;_n++){if(Ji=Ji[qi],!Ji)return;if(Ji instanceof HTMLButtonElement&&Cn(Ji))break}Ji instanceof HTMLButtonElement&&Ji.focus()}}}},er=function(He,We,Ye){ns(We.allowEscapeKey)&&(He.preventDefault(),Ye(xs.esc))},Ts={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},oa=function(){var He=Array.from(document.body.children);He.forEach(function(We){We===En()||We.contains(En())||(We.hasAttribute("aria-hidden")&&We.setAttribute("data-previous-aria-hidden",We.getAttribute("aria-hidden")||""),We.setAttribute("aria-hidden","true"))})},br=function(){var He=Array.from(document.body.children);He.forEach(function(We){We.hasAttribute("data-previous-aria-hidden")?(We.setAttribute("aria-hidden",We.getAttribute("data-previous-aria-hidden")||""),We.removeAttribute("data-previous-aria-hidden")):We.removeAttribute("aria-hidden")})},vo=typeof window<"u"&&!!window.GestureEvent,yo=function(){if(vo&&!$i(document.body,hi.iosfix)){var He=document.body.scrollTop;document.body.style.top="".concat(He*-1,"px"),Ii(document.body,hi.iosfix),aa()}},aa=function(){var He=En();if(He){var We;He.ontouchstart=function(Ye){We=la(Ye)},He.ontouchmove=function(Ye){We&&(Ye.preventDefault(),Ye.stopPropagation())}}},la=function(He){var We=He.target,Ye=En(),si=vs();return!Ye||!si||Gr(He)||ca(He)?!1:We===Ye||!qn(Ye)&&We instanceof HTMLElement&&We.tagName!=="INPUT"&&We.tagName!=="TEXTAREA"&&!(qn(si)&&si.contains(We))},Gr=function(He){return He.touches&&He.touches.length&&He.touches[0].touchType==="stylus"},ca=function(He){return He.touches&&He.touches.length>1},Jn=function(){if($i(document.body,hi.iosfix)){var He=parseInt(document.body.style.top,10);sn(document.body,hi.iosfix),document.body.style.top="",document.body.scrollTop=He*-1}},ua=function(){var He=document.createElement("div");He.className=hi["scrollbar-measure"],document.body.appendChild(He);var We=He.getBoundingClientRect().width-He.clientWidth;return document.body.removeChild(He),We},Es=null,ms=function(He){Es===null&&(document.body.scrollHeight>window.innerHeight||He==="scroll")&&(Es=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Es+ua(),"px"))},bo=function(){Es!==null&&(document.body.style.paddingRight="".concat(Es,"px"),Es=null)};function Kr(Xe,He,We,Ye){ci()?Qr(Xe,Ye):(gn(We).then(function(){return Qr(Xe,Ye)}),Zr(Pi)),vo?(He.setAttribute("style","display:none !important"),He.removeAttribute("class"),He.innerHTML=""):He.remove(),ri()&&(bo(),Jn(),br()),Xr()}function Xr(){sn([document.documentElement,document.body],[hi.shown,hi["height-auto"],hi["no-backdrop"],hi["toast-shown"]])}function gs(Xe){Xe=da(Xe);var He=Ts.swalPromiseResolve.get(this),We=wo(this);this.isAwaitingPromise?Xe.isDismissed||(tr(this),He(Xe)):We&&He(Xe)}var wo=function(He){var We=nn();if(!We)return!1;var Ye=ji.innerParams.get(He);if(!Ye||$i(We,Ye.hideClass.popup))return!1;sn(We,Ye.showClass.popup),Ii(We,Ye.hideClass.popup);var si=En();return sn(si,Ye.showClass.backdrop),Ii(si,Ye.hideClass.backdrop),Jr(He,We,Ye),!0};function Yr(Xe){var He=Ts.swalPromiseReject.get(this);tr(this),He&&He(Xe)}var tr=function(He){He.isAwaitingPromise&&(delete He.isAwaitingPromise,ji.innerParams.get(He)||He._destroy())},da=function(He){return typeof He>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},He)},Jr=function(He,We,Ye){var si=En(),yi=hs&&Fs(We);typeof Ye.willClose=="function"&&Ye.willClose(We),yi?ha(He,We,si,Ye.returnFocus,Ye.didClose):Kr(He,si,Ye.returnFocus,Ye.didClose)},ha=function(He,We,Ye,si,yi){hs&&(Pi.swalCloseEventFinishedCallback=Kr.bind(null,He,Ye,si,yi),We.addEventListener(hs,function(Ai){Ai.target===We&&(Pi.swalCloseEventFinishedCallback(),delete Pi.swalCloseEventFinishedCallback)}))},Qr=function(He,We){setTimeout(function(){typeof We=="function"&&We.bind(He.params)(),He._destroy&&He._destroy()})},Cs=function(He){var We=nn();if(We||new wn,We=nn(),!!We){var Ye=Hn();ci()?Qi(Gn()):wr(We,He),Ei(Ye),We.setAttribute("data-loading","true"),We.setAttribute("aria-busy","true"),We.focus()}},wr=function(He,We){var Ye=ds(),si=Hn();!Ye||!si||(!We&&Cn(On())&&(We=On()),Ei(Ye),We&&(Qi(We),si.setAttribute("data-button-to-replace",We.className),Ye.insertBefore(si,We)),Ii([He,Ye],hi.loading))},$s=function(He,We){We.input==="select"||We.input==="radio"?Po(He,We):["text","email","number","tel","textarea"].some(function(Ye){return Ye===We.input})&&(us(We.inputValue)||Ln(We.inputValue))&&(Cs(On()),fa(He,We))},pa=function(He,We){var Ye=He.getInput();if(!Ye)return null;switch(We.input){case"checkbox":return ir(Ye);case"radio":return Un(Ye);case"file":return _o(Ye);default:return We.inputAutoTrim?Ye.value.trim():Ye.value}},ir=function(He){return He.checked?1:0},Un=function(He){return He.checked?He.value:null},_o=function(He){return He.files&&He.files.length?He.getAttribute("multiple")!==null?He.files:He.files[0]:null},Po=function(He,We){var Ye=nn();if(Ye){var si=function(Ai){We.input==="select"?eo(Ye,So(Ai),We):We.input==="radio"&&to(Ye,So(Ai),We)};us(We.inputOptions)||Ln(We.inputOptions)?(Cs(On()),Vi(We.inputOptions).then(function(yi){He.hideLoading(),si(yi)})):Ae(We.inputOptions)==="object"?si(We.inputOptions):Bn("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Ae(We.inputOptions)))}},fa=function(He,We){var Ye=He.getInput();Ye&&(Qi(Ye),Vi(We.inputValue).then(function(si){Ye.value=We.input==="number"?"".concat(parseFloat(si)||0):"".concat(si),Ei(Ye),Ye.focus(),He.hideLoading()}).catch(function(si){Bn("Error in inputValue promise: ".concat(si)),Ye.value="",Ei(Ye),Ye.focus(),He.hideLoading()}))};function eo(Xe,He,We){var Ye=Zi(Xe,hi.select);if(Ye){var si=function(Ai,qi,Ji){var _n=document.createElement("option");_n.value=Ji,_i(_n,qi),_n.selected=xo(Ji,We.inputValue),Ai.appendChild(_n)};He.forEach(function(yi){var Ai=yi[0],qi=yi[1];if(Array.isArray(qi)){var Ji=document.createElement("optgroup");Ji.label=Ai,Ji.disabled=!1,Ye.appendChild(Ji),qi.forEach(function(_n){return si(Ji,_n[1],_n[0])})}else si(Ye,qi,Ai)}),Ye.focus()}}function to(Xe,He,We){var Ye=Zi(Xe,hi.radio);if(Ye){He.forEach(function(yi){var Ai=yi[0],qi=yi[1],Ji=document.createElement("input"),_n=document.createElement("label");Ji.type="radio",Ji.name=hi.radio,Ji.value=Ai,xo(Ai,We.inputValue)&&(Ji.checked=!0);var co=document.createElement("span");_i(co,qi),co.className=hi.label,_n.appendChild(Ji),_n.appendChild(co),Ye.appendChild(_n)});var si=Ye.querySelectorAll("input");si.length&&si[0].focus()}}var So=function Xe(He){var We=[];return He instanceof Map?He.forEach(function(Ye,si){var yi=Ye;Ae(yi)==="object"&&(yi=Xe(yi)),We.push([si,yi])}):Object.keys(He).forEach(function(Ye){var si=He[Ye];Ae(si)==="object"&&(si=Xe(si)),We.push([Ye,si])}),We},xo=function(He,We){return!!We&&We.toString()===He.toString()},nr=void 0,ma=function(He){var We=ji.innerParams.get(He);He.disableButtons(),We.input?To(He,"confirm"):Ls(He,!0)},Zn=function(He){var We=ji.innerParams.get(He);He.disableButtons(),We.returnInputValueOnDeny?To(He,"deny"):io(He,!1)},Ns=function(He,We){He.disableButtons(),We(xs.cancel)},To=function(He,We){var Ye=ji.innerParams.get(He);if(!Ye.input){Bn('The "input" parameter is needed to be set when using returnInputValueOn'.concat(cs(We)));return}var si=He.getInput(),yi=pa(He,Ye);Ye.inputValidator?os(He,yi,We):si&&!si.checkValidity()?(He.enableButtons(),He.showValidationMessage(Ye.validationMessage)):We==="deny"?io(He,yi):Ls(He,yi)},os=function(He,We,Ye){var si=ji.innerParams.get(He);He.disableInput();var yi=Promise.resolve().then(function(){return Vi(si.inputValidator(We,si.validationMessage))});yi.then(function(Ai){He.enableButtons(),He.enableInput(),Ai?He.showValidationMessage(Ai):Ye==="deny"?io(He,We):Ls(He,We)})},io=function(He,We){var Ye=ji.innerParams.get(He||nr);if(Ye.showLoaderOnDeny&&Cs(ss()),Ye.preDeny){He.isAwaitingPromise=!0;var si=Promise.resolve().then(function(){return Vi(Ye.preDeny(We,Ye.validationMessage))});si.then(function(yi){yi===!1?(He.hideLoading(),tr(He)):He.close({isDenied:!0,value:typeof yi>"u"?We:yi})}).catch(function(yi){return Eo(He||nr,yi)})}else He.close({isDenied:!0,value:We})},ks=function(He,We){He.close({isConfirmed:!0,value:We})},Eo=function(He,We){He.rejectPromise(We)},Ls=function(He,We){var Ye=ji.innerParams.get(He||nr);if(Ye.showLoaderOnConfirm&&Cs(),Ye.preConfirm){He.resetValidationMessage(),He.isAwaitingPromise=!0;var si=Promise.resolve().then(function(){return Vi(Ye.preConfirm(We,Ye.validationMessage))});si.then(function(yi){Cn(bs())||yi===!1?(He.hideLoading(),tr(He)):ks(He,typeof yi>"u"?We:yi)}).catch(function(yi){return Eo(He||nr,yi)})}else ks(He,We)};function sr(){var Xe=ji.innerParams.get(this);if(Xe){var He=ji.domCache.get(this);Qi(He.loader),ci()?Xe.icon&&Ei(Gn()):_r(He),sn([He.popup,He.actions],hi.loading),He.popup.removeAttribute("aria-busy"),He.popup.removeAttribute("data-loading"),He.confirmButton.disabled=!1,He.denyButton.disabled=!1,He.cancelButton.disabled=!1}}var _r=function(He){var We=He.popup.getElementsByClassName(He.loader.getAttribute("data-button-to-replace"));We.length?Ei(We[0],"inline-block"):Ks()&&Qi(He.actions)};function Co(){var Xe=ji.innerParams.get(this),He=ji.domCache.get(this);return He?Mi(He.popup,Xe.input):null}function as(Xe,He,We){var Ye=ji.domCache.get(Xe);He.forEach(function(si){Ye[si].disabled=We})}function rr(Xe,He){var We=nn();if(!(!We||!Xe))if(Xe.type==="radio")for(var Ye=We.querySelectorAll('[name="'.concat(hi.radio,'"]')),si=0;si<Ye.length;si++)Ye[si].disabled=He;else Xe.disabled=He}function $o(){as(this,["confirmButton","denyButton","cancelButton"],!1)}function Pr(){as(this,["confirmButton","denyButton","cancelButton"],!0)}function ko(){rr(this.getInput(),!1)}function Qn(){rr(this.getInput(),!0)}function Lo(Xe){var He=ji.domCache.get(this),We=ji.innerParams.get(this);_i(He.validationMessage,Xe),He.validationMessage.className=hi["validation-message"],We.customClass&&We.customClass.validationMessage&&Ii(He.validationMessage,We.customClass.validationMessage),Ei(He.validationMessage);var Ye=this.getInput();Ye&&(Ye.setAttribute("aria-invalid","true"),Ye.setAttribute("aria-describedby",hi["validation-message"]),cn(Ye),Ii(Ye,hi.inputerror))}function As(){var Xe=ji.domCache.get(this);Xe.validationMessage&&Qi(Xe.validationMessage);var He=this.getInput();He&&(He.removeAttribute("aria-invalid"),He.removeAttribute("aria-describedby"),sn(He,hi.inputerror))}var Rs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ls=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Sr={},Ao=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],xr=function(He){return Object.prototype.hasOwnProperty.call(Rs,He)},or=function(He){return ls.indexOf(He)!==-1},Tr=function(He){return Sr[He]},Er=function(He){xr(He)||Tn('Unknown parameter "'.concat(He,'"'))},zs=function(He){Ao.includes(He)&&Tn('The parameter "'.concat(He,'" is incompatible with toasts'))},Cr=function(He){var We=Tr(He);We&&Vs(He,We)},no=function(He){He.backdrop===!1&&He.allowOutsideClick&&Tn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var We in He)Er(We),He.toast&&zs(We),Cr(We)};function so(Xe){var He=nn(),We=ji.innerParams.get(this);if(!He||$i(He,We.hideClass.popup)){Tn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var Ye=ga(Xe),si=Object.assign({},We,Ye);fs(this,si),ji.innerParams.set(this,si),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Xe),writable:!1,enumerable:!0}})}var ga=function(He){var We={};return Object.keys(He).forEach(function(Ye){or(Ye)?We[Ye]=He[Ye]:Tn("Invalid parameter to update: ".concat(Ye))}),We};function ar(){var Xe=ji.domCache.get(this),He=ji.innerParams.get(this);if(!He){ro(this);return}Xe.popup&&Pi.swalCloseEventFinishedCallback&&(Pi.swalCloseEventFinishedCallback(),delete Pi.swalCloseEventFinishedCallback),typeof He.didDestroy=="function"&&He.didDestroy(),va(this)}var va=function(He){ro(He),delete He.params,delete Pi.keydownHandler,delete Pi.keydownTarget,delete Pi.currentInstance},ro=function(He){He.isAwaitingPromise?(oo(ji,He),He.isAwaitingPromise=!0):(oo(Ts,He),oo(ji,He),delete He.isAwaitingPromise,delete He.disableButtons,delete He.enableButtons,delete He.getInput,delete He.disableInput,delete He.enableInput,delete He.hideLoading,delete He.disableLoading,delete He.showValidationMessage,delete He.resetValidationMessage,delete He.close,delete He.closePopup,delete He.closeModal,delete He.closeToast,delete He.rejectPromise,delete He.update,delete He._destroy)},oo=function(He,We){for(var Ye in He)He[Ye].delete(We)},Fo=Object.freeze({__proto__:null,_destroy:ar,close:gs,closeModal:gs,closePopup:gs,closeToast:gs,disableButtons:Pr,disableInput:Qn,disableLoading:sr,enableButtons:$o,enableInput:ko,getInput:Co,handleAwaitingPromise:tr,hideLoading:sr,rejectPromise:Yr,resetValidationMessage:As,showValidationMessage:Lo,update:so}),ya=function(He,We,Ye){He.toast?es(He,We,Ye):(Lr(We),ba(We),Oo(He,We,Ye))},es=function(He,We,Ye){We.popup.onclick=function(){He&&($r(He)||He.timer||He.input)||Ye(xs.close)}},$r=function(He){return!!(He.showConfirmButton||He.showDenyButton||He.showCancelButton||He.showCloseButton)},kr=!1,Lr=function(He){He.popup.onmousedown=function(){He.container.onmouseup=function(We){He.container.onmouseup=function(){},We.target===He.container&&(kr=!0)}}},ba=function(He){He.container.onmousedown=function(){He.popup.onmouseup=function(We){He.popup.onmouseup=function(){},(We.target===He.popup||We.target instanceof HTMLElement&&He.popup.contains(We.target))&&(kr=!0)}}},Oo=function(He,We,Ye){We.container.onclick=function(si){if(kr){kr=!1;return}si.target===We.container&&ns(He.allowOutsideClick)&&Ye(xs.backdrop)}},wa=function(He){return Ae(He)==="object"&&He.jquery},Us=function(He){return He instanceof Element||wa(He)},_a=function(He){var We={};return Ae(He[0])==="object"&&!Us(He[0])?Object.assign(We,He[0]):["title","html","icon"].forEach(function(Ye,si){var yi=He[si];typeof yi=="string"||Us(yi)?We[Ye]=yi:yi!==void 0&&Bn("Unexpected type of ".concat(Ye,'! Expected "string" or "Element", got ').concat(Ae(yi)))}),We};function js(){for(var Xe=this,He=arguments.length,We=new Array(He),Ye=0;Ye<He;Ye++)We[Ye]=arguments[Ye];return Ze(Xe,We)}function Mo(Xe){var He=function(We){ze(si,We);var Ye=ei(si);function si(){return Be(this,si),Ye.apply(this,arguments)}return Ne(si,[{key:"_main",value:function(Ai,qi){return Qe(Ue(si.prototype),"_main",this).call(this,Ai,Object.assign({},Xe,qi))}}]),si}(this);return He}var Bo=function(){return Pi.timeout&&Pi.timeout.getTimerLeft()},Io=function(){if(Pi.timeout)return Xo(),Pi.timeout.stop()},ts=function(){if(Pi.timeout){var He=Pi.timeout.start();return Os(He),He}},Do=function(){var He=Pi.timeout;return He&&(He.running?Io():ts())},No=function(He){if(Pi.timeout){var We=Pi.timeout.increase(He);return Os(We,!0),We}},lr=function(){return!!(Pi.timeout&&Pi.timeout.isRunning())},Ro=!1,Hs={};function cr(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Hs[Xe]=this,Ro||(document.body.addEventListener("click",zo),Ro=!0)}var zo=function(He){for(var We=He.target;We&&We!==document;We=We.parentNode)for(var Ye in Hs){var si=We.getAttribute(Ye);if(si){Hs[Ye].fire({template:si});return}}},Uo=Object.freeze({__proto__:null,argsToParams:_a,bindClickHandler:cr,clickCancel:Ss,clickConfirm:Ds,clickDeny:kn,enableLoading:Cs,fire:js,getActions:ds,getCancelButton:Rn,getCloseButton:Gs,getConfirmButton:On,getContainer:En,getDenyButton:ss,getFocusableElements:rs,getFooter:Zs,getHtmlContainer:vs,getIcon:Gn,getIconContent:ur,getImage:ys,getInputLabel:dr,getLoader:Hn,getPopup:nn,getProgressSteps:Nn,getTimerLeft:Bo,getTimerProgressBar:Kn,getTitle:Ws,getValidationMessage:bs,increaseTimer:No,isDeprecatedParameter:Tr,isLoading:fi,isTimerRunning:lr,isUpdatableParameter:or,isValidParameter:xr,isVisible:Wr,mixin:Mo,resumeTimer:ts,showLoading:Cs,stopTimer:Io,toggleTimer:Do}),Pa=function(){function Xe(He,We){Be(this,Xe),this.callback=He,this.remaining=We,this.running=!1,this.start()}return Ne(Xe,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(We){var Ye=this.running;return Ye&&this.stop(),this.remaining+=We,Ye&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),Xe}(),ao=["swal-title","swal-html","swal-footer"],jo=function(He){var We=typeof He.template=="string"?document.querySelector(He.template):He.template;if(!We)return{};var Ye=We.content;Me(Ye);var si=Object.assign(Ho(Ye),qo(Ye),Vo(Ye),Sa(Ye),Wo(Ye),Zo(Ye),xa(Ye,ao));return si},Ho=function(He){var We={},Ye=Array.from(He.querySelectorAll("swal-param"));return Ye.forEach(function(si){De(si,["name","value"]);var yi=si.getAttribute("name"),Ai=si.getAttribute("value");typeof Rs[yi]=="boolean"?We[yi]=Ai!=="false":Ae(Rs[yi])==="object"?We[yi]=JSON.parse(Ai):We[yi]=Ai}),We},qo=function(He){var We={},Ye=Array.from(He.querySelectorAll("swal-function-param"));return Ye.forEach(function(si){var yi=si.getAttribute("name"),Ai=si.getAttribute("value");We[yi]=new Function("return ".concat(Ai))()}),We},Vo=function(He){var We={},Ye=Array.from(He.querySelectorAll("swal-button"));return Ye.forEach(function(si){De(si,["type","color","aria-label"]);var yi=si.getAttribute("type");We["".concat(yi,"ButtonText")]=si.innerHTML,We["show".concat(cs(yi),"Button")]=!0,si.hasAttribute("color")&&(We["".concat(yi,"ButtonColor")]=si.getAttribute("color")),si.hasAttribute("aria-label")&&(We["".concat(yi,"ButtonAriaLabel")]=si.getAttribute("aria-label"))}),We},Sa=function(He){var We={},Ye=He.querySelector("swal-image");return Ye&&(De(Ye,["src","width","height","alt"]),Ye.hasAttribute("src")&&(We.imageUrl=Ye.getAttribute("src")),Ye.hasAttribute("width")&&(We.imageWidth=Ye.getAttribute("width")),Ye.hasAttribute("height")&&(We.imageHeight=Ye.getAttribute("height")),Ye.hasAttribute("alt")&&(We.imageAlt=Ye.getAttribute("alt"))),We},Wo=function(He){var We={},Ye=He.querySelector("swal-icon");return Ye&&(De(Ye,["type","color"]),Ye.hasAttribute("type")&&(We.icon=Ye.getAttribute("type")),Ye.hasAttribute("color")&&(We.iconColor=Ye.getAttribute("color")),We.iconHtml=Ye.innerHTML),We},Zo=function(He){var We={},Ye=He.querySelector("swal-input");Ye&&(De(Ye,["type","label","placeholder","value"]),We.input=Ye.getAttribute("type")||"text",Ye.hasAttribute("label")&&(We.inputLabel=Ye.getAttribute("label")),Ye.hasAttribute("placeholder")&&(We.inputPlaceholder=Ye.getAttribute("placeholder")),Ye.hasAttribute("value")&&(We.inputValue=Ye.getAttribute("value")));var si=Array.from(He.querySelectorAll("swal-input-option"));return si.length&&(We.inputOptions={},si.forEach(function(yi){De(yi,["value"]);var Ai=yi.getAttribute("value"),qi=yi.innerHTML;We.inputOptions[Ai]=qi})),We},xa=function(He,We){var Ye={};for(var si in We){var yi=We[si],Ai=He.querySelector(yi);Ai&&(De(Ai,[]),Ye[yi.replace(/^swal-/,"")]=Ai.innerHTML.trim())}return Ye},Me=function(He){var We=ao.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(He.children).forEach(function(Ye){var si=Ye.tagName.toLowerCase();We.includes(si)||Tn("Unrecognized element <".concat(si,">"))})},De=function(He,We){Array.from(He.attributes).forEach(function(Ye){We.indexOf(Ye.name)===-1&&Tn(['Unrecognized attribute "'.concat(Ye.name,'" on <').concat(He.tagName.toLowerCase(),">."),"".concat(We.length?"Allowed attributes are: ".concat(We.join(", ")):"To set the value, use HTML within the element.")])})},Re=10,qe=function(He){var We=En(),Ye=nn();typeof He.willOpen=="function"&&He.willOpen(Ye);var si=window.getComputedStyle(document.body),yi=si.overflowY;pi(We,Ye,He),setTimeout(function(){ti(We,Ye)},Re),ri()&&(oi(We,He.scrollbarPadding,yi),oa()),!ci()&&!Pi.previousActiveElement&&(Pi.previousActiveElement=document.activeElement),typeof He.didOpen=="function"&&setTimeout(function(){return He.didOpen(Ye)}),sn(We,hi["no-transition"])},Ge=function Xe(He){var We=nn();if(!(He.target!==We||!hs)){var Ye=En();We.removeEventListener(hs,Xe),Ye.style.overflowY="auto"}},ti=function(He,We){hs&&Fs(We)?(He.style.overflowY="hidden",We.addEventListener(hs,Ge)):He.style.overflowY="auto"},oi=function(He,We,Ye){yo(),We&&Ye!=="hidden"&&ms(Ye),setTimeout(function(){He.scrollTop=0})},pi=function(He,We,Ye){Ii(He,Ye.showClass.backdrop),Ye.animation?(We.style.setProperty("opacity","0","important"),Ei(We,"grid"),setTimeout(function(){Ii(We,Ye.showClass.popup),We.style.removeProperty("opacity")},Re)):Ei(We,"grid"),Ii([document.documentElement,document.body],hi.shown),Ye.heightAuto&&Ye.backdrop&&!Ye.toast&&Ii([document.documentElement,document.body],hi["height-auto"])},gi={email:function(He,We){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(He)?Promise.resolve():Promise.resolve(We||"Invalid email address")},url:function(He,We){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(He)?Promise.resolve():Promise.resolve(We||"Invalid URL")}};function Si(Xe){Xe.inputValidator||(Xe.input==="email"&&(Xe.inputValidator=gi.email),Xe.input==="url"&&(Xe.inputValidator=gi.url))}function Fi(Xe){(!Xe.target||typeof Xe.target=="string"&&!document.querySelector(Xe.target)||typeof Xe.target!="string"&&!Xe.target.appendChild)&&(Tn('Target parameter is not valid, defaulting to "body"'),Xe.target="body")}function Ni(Xe){Si(Xe),Xe.showLoaderOnConfirm&&!Xe.preConfirm&&Tn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Fi(Xe),typeof Xe.title=="string"&&(Xe.title=Xe.title.split(`
`).join("<br />")),ta(Xe)}var zi,$n=new WeakMap,Gi=function(){function Xe(){if(Be(this,Xe),Ci(this,$n,{writable:!0,value:void 0}),!(typeof window>"u")){zi=this;for(var He=arguments.length,We=new Array(He),Ye=0;Ye<He;Ye++)We[Ye]=arguments[Ye];var si=Object.freeze(this.constructor.argsToParams(We));this.params=si,this.isAwaitingPromise=!1,Ti(this,$n,this._main(zi.params))}}return Ne(Xe,[{key:"_main",value:function(We){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(no(Object.assign({},Ye,We)),Pi.currentInstance){var si=Ts.swalPromiseResolve.get(Pi.currentInstance),yi=Pi.currentInstance.isAwaitingPromise;Pi.currentInstance._destroy(),yi||si({isDismissed:!0}),ri()&&br()}Pi.currentInstance=zi;var Ai=Mn(We,Ye);Ni(Ai),Object.freeze(Ai),Pi.timeout&&(Pi.timeout.stop(),delete Pi.timeout),clearTimeout(Pi.restoreFocusTimeout);var qi=qs(zi);return fs(zi,Ai),ji.innerParams.set(zi,Ai),jn(zi,qi,Ai)}},{key:"then",value:function(We){return Li(this,$n).then(We)}},{key:"finally",value:function(We){return Li(this,$n).finally(We)}}]),Xe}(),jn=function(He,We,Ye){return new Promise(function(si,yi){var Ai=function(Ji){He.close({isDismissed:!0,dismiss:Ji})};Ts.swalPromiseResolve.set(He,si),Ts.swalPromiseReject.set(He,yi),We.confirmButton.onclick=function(){ma(He)},We.denyButton.onclick=function(){Zn(He)},We.cancelButton.onclick=function(){Ns(He,Ai)},We.closeButton.onclick=function(){Ai(xs.close)},ya(Ye,We,Ai),na(Pi,Ye,Ai),$s(He,Ye),qe(Ye),Ta(Pi,Ye,Ai),Ea(We,Ye),setTimeout(function(){We.container.scrollTop=0})})},Mn=function(He,We){var Ye=jo(He),si=Object.assign({},Rs,We,Ye,He);return si.showClass=Object.assign({},Rs.showClass,si.showClass),si.hideClass=Object.assign({},Rs.hideClass,si.hideClass),si.animation===!1&&(si.showClass={backdrop:"swal2-noanimation"},si.hideClass={}),si},qs=function(He){var We={popup:nn(),container:En(),actions:ds(),confirmButton:On(),denyButton:ss(),cancelButton:Rn(),loader:Hn(),closeButton:Gs(),validationMessage:bs(),progressSteps:Nn()};return ji.domCache.set(He,We),We},Ta=function(He,We,Ye){var si=Kn();Qi(si),We.timer&&(He.timeout=new Pa(function(){Ye("timer"),delete He.timeout},We.timer),We.timerProgressBar&&(Ei(si),Bi(si,We,"timerProgressBar"),setTimeout(function(){He.timeout&&He.timeout.running&&Os(We.timer)})))},Ea=function(He,We){if(!We.toast){if(!ns(We.allowEnterKey)){Go();return}Ca(He,We)||vr(-1,1)}},Ca=function(He,We){return We.focusDeny&&Cn(He.denyButton)?(He.denyButton.focus(),!0):We.focusCancel&&Cn(He.cancelButton)?(He.cancelButton.focus(),!0):We.focusConfirm&&Cn(He.confirmButton)?(He.confirmButton.focus(),!0):!1},Go=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Ko=new Date,lo=localStorage.getItem("swal-initiation");lo?(Ko.getTime()-Date.parse(lo))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var Xe=document.createElement("audio");Xe.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Xe.loop=!0,document.body.appendChild(Xe),setTimeout(function(){Xe.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Ko))}Gi.prototype.disableButtons=Pr,Gi.prototype.enableButtons=$o,Gi.prototype.getInput=Co,Gi.prototype.disableInput=Qn,Gi.prototype.enableInput=ko,Gi.prototype.hideLoading=sr,Gi.prototype.disableLoading=sr,Gi.prototype.showValidationMessage=Lo,Gi.prototype.resetValidationMessage=As,Gi.prototype.close=gs,Gi.prototype.closePopup=gs,Gi.prototype.closeModal=gs,Gi.prototype.closeToast=gs,Gi.prototype.rejectPromise=Yr,Gi.prototype.update=so,Gi.prototype._destroy=ar,Object.assign(Gi,Uo),Object.keys(Fo).forEach(function(Xe){Gi[Xe]=function(){if(zi&&zi[Xe]){var He;return(He=zi)[Xe].apply(He,arguments)}return null}}),Gi.DismissReason=xs,Gi.version="11.10.2";var wn=Gi;return wn.default=wn,wn}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2),typeof document<"u"&&function(Te,Le){var Fe=Te.createElement("style");if(Te.getElementsByTagName("head")[0].appendChild(Fe),Fe.styleSheet)Fe.styleSheet.disabled||(Fe.styleSheet.cssText=Le);else try{Fe.innerHTML=Le}catch{Fe.innerText=Le}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(sweetalert2_all);var sweetalert2_allExports=sweetalert2_all.exports;const Swal=getDefaultExportFromCjs(sweetalert2_allExports);function $SWAL({title:$e,msg:_e,icon:Te,confirmButtonText:Le}){Swal.fire({title:$e,text:_e,icon:Te,confirmButtonText:Le})}window.$SWAL=$SWAL;var n$2,l$3,u$4,i$3,o$3,r$3,f$4,c$3={},s$3=[],a$3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h$3=Array.isArray;function v$3($e,_e){for(var Te in _e)$e[Te]=_e[Te];return $e}function p$3($e){var _e=$e.parentNode;_e&&_e.removeChild($e)}function y$2($e,_e,Te){var Le,Fe,Ae,Be={};for(Ae in _e)Ae=="key"?Le=_e[Ae]:Ae=="ref"?Fe=_e[Ae]:Be[Ae]=_e[Ae];if(arguments.length>2&&(Be.children=arguments.length>3?n$2.call(arguments,2):Te),typeof $e=="function"&&$e.defaultProps!=null)for(Ae in $e.defaultProps)Be[Ae]===void 0&&(Be[Ae]=$e.defaultProps[Ae]);return d$3($e,Be,Le,Fe,null)}function d$3($e,_e,Te,Le,Fe){var Ae={type:$e,props:_e,key:Te,ref:Le,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:Fe??++u$4,__i:-1,__u:0};return Fe==null&&l$3.vnode!=null&&l$3.vnode(Ae),Ae}function _$2(){return{current:null}}function g$4($e){return $e.children}function b$3($e,_e){this.props=$e,this.context=_e}function m$3($e,_e){if(_e==null)return $e.__?m$3($e.__,$e.__i+1):null;for(var Te;_e<$e.__k.length;_e++)if((Te=$e.__k[_e])!=null&&Te.__e!=null)return Te.__e;return typeof $e.type=="function"?m$3($e):null}function k$3($e){var _e,Te;if(($e=$e.__)!=null&&$e.__c!=null){for($e.__e=$e.__c.base=null,_e=0;_e<$e.__k.length;_e++)if((Te=$e.__k[_e])!=null&&Te.__e!=null){$e.__e=$e.__c.base=Te.__e;break}return k$3($e)}}function w$3($e){(!$e.__d&&($e.__d=!0)&&i$3.push($e)&&!x$2.__r++||o$3!==l$3.debounceRendering)&&((o$3=l$3.debounceRendering)||r$3)(x$2)}function x$2(){var $e,_e,Te,Le,Fe,Ae,Be,Ie,Ne;for(i$3.sort(f$4);$e=i$3.shift();)$e.__d&&(_e=i$3.length,Le=void 0,Ae=(Fe=(Te=$e).__v).__e,Ie=[],Ne=[],(Be=Te.__P)&&((Le=v$3({},Fe)).__v=Fe.__v+1,l$3.vnode&&l$3.vnode(Le),L$4(Be,Le,Fe,Te.__n,Be.ownerSVGElement!==void 0,32&Fe.__u?[Ae]:null,Ie,Ae??m$3(Fe),!!(32&Fe.__u),Ne),Le.__.__k[Le.__i]=Le,M$3(Ie,Le,Ne),Le.__e!=Ae&&k$3(Le)),i$3.length>_e&&i$3.sort(f$4));x$2.__r=0}function C$2($e,_e,Te,Le,Fe,Ae,Be,Ie,Ne,ze,Ue){var je,Ve,Ze,Ke,Je,ei=Le&&Le.__k||s$3,ni=_e.length;for(Te.__d=Ne,P$2(Te,_e,ei),Ne=Te.__d,je=0;je<ni;je++)(Ze=Te.__k[je])!=null&&typeof Ze!="boolean"&&typeof Ze!="function"&&(Ve=Ze.__i===-1?c$3:ei[Ze.__i]||c$3,Ze.__i=je,L$4($e,Ze,Ve,Fe,Ae,Be,Ie,Ne,ze,Ue),Ke=Ze.__e,Ze.ref&&Ve.ref!=Ze.ref&&(Ve.ref&&z$4(Ve.ref,null,Ze),Ue.push(Ze.ref,Ze.__c||Ke,Ze)),Je==null&&Ke!=null&&(Je=Ke),65536&Ze.__u||Ve.__k===Ze.__k?Ne=S$2(Ze,Ne,$e):typeof Ze.type=="function"&&Ze.__d!==void 0?Ne=Ze.__d:Ke&&(Ne=Ke.nextSibling),Ze.__d=void 0,Ze.__u&=-196609);Te.__d=Ne,Te.__e=Je}function P$2($e,_e,Te){var Le,Fe,Ae,Be,Ie,Ne=_e.length,ze=Te.length,Ue=ze,je=0;for($e.__k=[],Le=0;Le<Ne;Le++)(Fe=$e.__k[Le]=(Fe=_e[Le])==null||typeof Fe=="boolean"||typeof Fe=="function"?null:typeof Fe=="string"||typeof Fe=="number"||typeof Fe=="bigint"||Fe.constructor==String?d$3(null,Fe,null,null,Fe):h$3(Fe)?d$3(g$4,{children:Fe},null,null,null):Fe.constructor===void 0&&Fe.__b>0?d$3(Fe.type,Fe.props,Fe.key,Fe.ref?Fe.ref:null,Fe.__v):Fe)!=null?(Fe.__=$e,Fe.__b=$e.__b+1,Ie=H$3(Fe,Te,Be=Le+je,Ue),Fe.__i=Ie,Ae=null,Ie!==-1&&(Ue--,(Ae=Te[Ie])&&(Ae.__u|=131072)),Ae==null||Ae.__v===null?(Ie==-1&&je--,typeof Fe.type!="function"&&(Fe.__u|=65536)):Ie!==Be&&(Ie===Be+1?je++:Ie>Be?Ue>Ne-Be?je+=Ie-Be:je--:je=Ie<Be&&Ie==Be-1?Ie-Be:0,Ie!==Le+je&&(Fe.__u|=65536))):(Ae=Te[Le])&&Ae.key==null&&Ae.__e&&(Ae.__e==$e.__d&&($e.__d=m$3(Ae)),N$2(Ae,Ae,!1),Te[Le]=null,Ue--);if(Ue)for(Le=0;Le<ze;Le++)(Ae=Te[Le])!=null&&!(131072&Ae.__u)&&(Ae.__e==$e.__d&&($e.__d=m$3(Ae)),N$2(Ae,Ae))}function S$2($e,_e,Te){var Le,Fe;if(typeof $e.type=="function"){for(Le=$e.__k,Fe=0;Le&&Fe<Le.length;Fe++)Le[Fe]&&(Le[Fe].__=$e,_e=S$2(Le[Fe],_e,Te));return _e}return $e.__e!=_e&&(Te.insertBefore($e.__e,_e||null),_e=$e.__e),_e&&_e.nextSibling}function $$3($e,_e){return _e=_e||[],$e==null||typeof $e=="boolean"||(h$3($e)?$e.some(function(Te){$$3(Te,_e)}):_e.push($e)),_e}function H$3($e,_e,Te,Le){var Fe=$e.key,Ae=$e.type,Be=Te-1,Ie=Te+1,Ne=_e[Te];if(Ne===null||Ne&&Fe==Ne.key&&Ae===Ne.type)return Te;if(Le>(Ne!=null&&!(131072&Ne.__u)?1:0))for(;Be>=0||Ie<_e.length;){if(Be>=0){if((Ne=_e[Be])&&!(131072&Ne.__u)&&Fe==Ne.key&&Ae===Ne.type)return Be;Be--}if(Ie<_e.length){if((Ne=_e[Ie])&&!(131072&Ne.__u)&&Fe==Ne.key&&Ae===Ne.type)return Ie;Ie++}}return-1}function I$3($e,_e,Te){_e[0]==="-"?$e.setProperty(_e,Te??""):$e[_e]=Te==null?"":typeof Te!="number"||a$3.test(_e)?Te:Te+"px"}function T$4($e,_e,Te,Le,Fe){var Ae;e:if(_e==="style")if(typeof Te=="string")$e.style.cssText=Te;else{if(typeof Le=="string"&&($e.style.cssText=Le=""),Le)for(_e in Le)Te&&_e in Te||I$3($e.style,_e,"");if(Te)for(_e in Te)Le&&Te[_e]===Le[_e]||I$3($e.style,_e,Te[_e])}else if(_e[0]==="o"&&_e[1]==="n")Ae=_e!==(_e=_e.replace(/(PointerCapture)$|Capture$/,"$1")),_e=_e.toLowerCase()in $e?_e.toLowerCase().slice(2):_e.slice(2),$e.l||($e.l={}),$e.l[_e+Ae]=Te,Te?Le?Te.u=Le.u:(Te.u=Date.now(),$e.addEventListener(_e,Ae?D$2:A$2,Ae)):$e.removeEventListener(_e,Ae?D$2:A$2,Ae);else{if(Fe)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_e!=="width"&&_e!=="height"&&_e!=="href"&&_e!=="list"&&_e!=="form"&&_e!=="tabIndex"&&_e!=="download"&&_e!=="rowSpan"&&_e!=="colSpan"&&_e!=="role"&&_e in $e)try{$e[_e]=Te??"";break e}catch{}typeof Te=="function"||(Te==null||Te===!1&&_e[4]!=="-"?$e.removeAttribute(_e):$e.setAttribute(_e,Te))}}function A$2($e){var _e=this.l[$e.type+!1];if($e.t){if($e.t<=_e.u)return}else $e.t=Date.now();return _e(l$3.event?l$3.event($e):$e)}function D$2($e){return this.l[$e.type+!0](l$3.event?l$3.event($e):$e)}function L$4($e,_e,Te,Le,Fe,Ae,Be,Ie,Ne,ze){var Ue,je,Ve,Ze,Ke,Je,ei,ni,Qe,ii,ai,di,vi,bi,xi,mi=_e.type;if(_e.constructor!==void 0)return null;128&Te.__u&&(Ne=!!(32&Te.__u),Ae=[Ie=_e.__e=Te.__e]),(Ue=l$3.__b)&&Ue(_e);e:if(typeof mi=="function")try{if(ni=_e.props,Qe=(Ue=mi.contextType)&&Le[Ue.__c],ii=Ue?Qe?Qe.props.value:Ue.__:Le,Te.__c?ei=(je=_e.__c=Te.__c).__=je.__E:("prototype"in mi&&mi.prototype.render?_e.__c=je=new mi(ni,ii):(_e.__c=je=new b$3(ni,ii),je.constructor=mi,je.render=O$3),Qe&&Qe.sub(je),je.props=ni,je.state||(je.state={}),je.context=ii,je.__n=Le,Ve=je.__d=!0,je.__h=[],je._sb=[]),je.__s==null&&(je.__s=je.state),mi.getDerivedStateFromProps!=null&&(je.__s==je.state&&(je.__s=v$3({},je.__s)),v$3(je.__s,mi.getDerivedStateFromProps(ni,je.__s))),Ze=je.props,Ke=je.state,je.__v=_e,Ve)mi.getDerivedStateFromProps==null&&je.componentWillMount!=null&&je.componentWillMount(),je.componentDidMount!=null&&je.__h.push(je.componentDidMount);else{if(mi.getDerivedStateFromProps==null&&ni!==Ze&&je.componentWillReceiveProps!=null&&je.componentWillReceiveProps(ni,ii),!je.__e&&(je.shouldComponentUpdate!=null&&je.shouldComponentUpdate(ni,je.__s,ii)===!1||_e.__v===Te.__v)){for(_e.__v!==Te.__v&&(je.props=ni,je.state=je.__s,je.__d=!1),_e.__e=Te.__e,_e.__k=Te.__k,_e.__k.forEach(function(li){li&&(li.__=_e)}),ai=0;ai<je._sb.length;ai++)je.__h.push(je._sb[ai]);je._sb=[],je.__h.length&&Be.push(je);break e}je.componentWillUpdate!=null&&je.componentWillUpdate(ni,je.__s,ii),je.componentDidUpdate!=null&&je.__h.push(function(){je.componentDidUpdate(Ze,Ke,Je)})}if(je.context=ii,je.props=ni,je.__P=$e,je.__e=!1,di=l$3.__r,vi=0,"prototype"in mi&&mi.prototype.render){for(je.state=je.__s,je.__d=!1,di&&di(_e),Ue=je.render(je.props,je.state,je.context),bi=0;bi<je._sb.length;bi++)je.__h.push(je._sb[bi]);je._sb=[]}else do je.__d=!1,di&&di(_e),Ue=je.render(je.props,je.state,je.context),je.state=je.__s;while(je.__d&&++vi<25);je.state=je.__s,je.getChildContext!=null&&(Le=v$3(v$3({},Le),je.getChildContext())),Ve||je.getSnapshotBeforeUpdate==null||(Je=je.getSnapshotBeforeUpdate(Ze,Ke)),C$2($e,h$3(xi=Ue!=null&&Ue.type===g$4&&Ue.key==null?Ue.props.children:Ue)?xi:[xi],_e,Te,Le,Fe,Ae,Be,Ie,Ne,ze),je.base=_e.__e,_e.__u&=-161,je.__h.length&&Be.push(je),ei&&(je.__E=je.__=null)}catch(li){_e.__v=null,Ne||Ae!=null?(_e.__e=Ie,_e.__u|=Ne?160:32,Ae[Ae.indexOf(Ie)]=null):(_e.__e=Te.__e,_e.__k=Te.__k),l$3.__e(li,_e,Te)}else Ae==null&&_e.__v===Te.__v?(_e.__k=Te.__k,_e.__e=Te.__e):_e.__e=j$3(Te.__e,_e,Te,Le,Fe,Ae,Be,Ne,ze);(Ue=l$3.diffed)&&Ue(_e)}function M$3($e,_e,Te){_e.__d=void 0;for(var Le=0;Le<Te.length;Le++)z$4(Te[Le],Te[++Le],Te[++Le]);l$3.__c&&l$3.__c(_e,$e),$e.some(function(Fe){try{$e=Fe.__h,Fe.__h=[],$e.some(function(Ae){Ae.call(Fe)})}catch(Ae){l$3.__e(Ae,Fe.__v)}})}function j$3($e,_e,Te,Le,Fe,Ae,Be,Ie,Ne){var ze,Ue,je,Ve,Ze,Ke,Je,ei=Te.props,ni=_e.props,Qe=_e.type;if(Qe==="svg"&&(Fe=!0),Ae!=null){for(ze=0;ze<Ae.length;ze++)if((Ze=Ae[ze])&&"setAttribute"in Ze==!!Qe&&(Qe?Ze.localName===Qe:Ze.nodeType===3)){$e=Ze,Ae[ze]=null;break}}if($e==null){if(Qe===null)return document.createTextNode(ni);$e=Fe?document.createElementNS("http://www.w3.org/2000/svg",Qe):document.createElement(Qe,ni.is&&ni),Ae=null,Ie=!1}if(Qe===null)ei===ni||Ie&&$e.data===ni||($e.data=ni);else{if(Ae=Ae&&n$2.call($e.childNodes),ei=Te.props||c$3,!Ie&&Ae!=null)for(ei={},ze=0;ze<$e.attributes.length;ze++)ei[(Ze=$e.attributes[ze]).name]=Ze.value;for(ze in ei)Ze=ei[ze],ze=="children"||(ze=="dangerouslySetInnerHTML"?je=Ze:ze==="key"||ze in ni||T$4($e,ze,null,Ze,Fe));for(ze in ni)Ze=ni[ze],ze=="children"?Ve=Ze:ze=="dangerouslySetInnerHTML"?Ue=Ze:ze=="value"?Ke=Ze:ze=="checked"?Je=Ze:ze==="key"||Ie&&typeof Ze!="function"||ei[ze]===Ze||T$4($e,ze,Ze,ei[ze],Fe);if(Ue)Ie||je&&(Ue.__html===je.__html||Ue.__html===$e.innerHTML)||($e.innerHTML=Ue.__html),_e.__k=[];else if(je&&($e.innerHTML=""),C$2($e,h$3(Ve)?Ve:[Ve],_e,Te,Le,Fe&&Qe!=="foreignObject",Ae,Be,Ae?Ae[0]:Te.__k&&m$3(Te,0),Ie,Ne),Ae!=null)for(ze=Ae.length;ze--;)Ae[ze]!=null&&p$3(Ae[ze]);Ie||(ze="value",Ke!==void 0&&(Ke!==$e[ze]||Qe==="progress"&&!Ke||Qe==="option"&&Ke!==ei[ze])&&T$4($e,ze,Ke,ei[ze],!1),ze="checked",Je!==void 0&&Je!==$e[ze]&&T$4($e,ze,Je,ei[ze],!1))}return $e}function z$4($e,_e,Te){try{typeof $e=="function"?$e(_e):$e.current=_e}catch(Le){l$3.__e(Le,Te)}}function N$2($e,_e,Te){var Le,Fe;if(l$3.unmount&&l$3.unmount($e),(Le=$e.ref)&&(Le.current&&Le.current!==$e.__e||z$4(Le,null,_e)),(Le=$e.__c)!=null){if(Le.componentWillUnmount)try{Le.componentWillUnmount()}catch(Ae){l$3.__e(Ae,_e)}Le.base=Le.__P=null,$e.__c=void 0}if(Le=$e.__k)for(Fe=0;Fe<Le.length;Fe++)Le[Fe]&&N$2(Le[Fe],_e,Te||typeof $e.type!="function");Te||$e.__e==null||p$3($e.__e),$e.__=$e.__e=$e.__d=void 0}function O$3($e,_e,Te){return this.constructor($e,Te)}function q$2($e,_e,Te){var Le,Fe,Ae,Be;l$3.__&&l$3.__($e,_e),Fe=(Le=typeof Te=="function")?null:Te&&Te.__k||_e.__k,Ae=[],Be=[],L$4(_e,$e=(!Le&&Te||_e).__k=y$2(g$4,null,[$e]),Fe||c$3,c$3,_e.ownerSVGElement!==void 0,!Le&&Te?[Te]:Fe?null:_e.firstChild?n$2.call(_e.childNodes):null,Ae,!Le&&Te?Te:Fe?Fe.__e:_e.firstChild,Le,Be),M$3(Ae,$e,Be)}function B$4($e,_e){q$2($e,_e,B$4)}function E$3($e,_e,Te){var Le,Fe,Ae,Be,Ie=v$3({},$e.props);for(Ae in $e.type&&$e.type.defaultProps&&(Be=$e.type.defaultProps),_e)Ae=="key"?Le=_e[Ae]:Ae=="ref"?Fe=_e[Ae]:Ie[Ae]=_e[Ae]===void 0&&Be!==void 0?Be[Ae]:_e[Ae];return arguments.length>2&&(Ie.children=arguments.length>3?n$2.call(arguments,2):Te),d$3($e.type,Ie,Le||$e.key,Fe||$e.ref,null)}n$2=s$3.slice,l$3={__e:function($e,_e,Te,Le){for(var Fe,Ae,Be;_e=_e.__;)if((Fe=_e.__c)&&!Fe.__)try{if((Ae=Fe.constructor)&&Ae.getDerivedStateFromError!=null&&(Fe.setState(Ae.getDerivedStateFromError($e)),Be=Fe.__d),Fe.componentDidCatch!=null&&(Fe.componentDidCatch($e,Le||{}),Be=Fe.__d),Be)return Fe.__E=Fe}catch(Ie){$e=Ie}throw $e}},u$4=0,b$3.prototype.setState=function($e,_e){var Te;Te=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=v$3({},this.state),typeof $e=="function"&&($e=$e(v$3({},Te),this.props)),$e&&v$3(Te,$e),$e!=null&&this.__v&&(_e&&this._sb.push(_e),w$3(this))},b$3.prototype.forceUpdate=function($e){this.__v&&(this.__e=!0,$e&&this.__h.push($e),w$3(this))},b$3.prototype.render=g$4,i$3=[],r$3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$4=function($e,_e){return $e.__v.__b-_e.__v.__b},x$2.__r=0;const token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents($e,_e){try{return[decodeURIComponent($e.join(""))]}catch{}if($e.length===1)return $e;_e=_e||1;const Te=$e.slice(0,_e),Le=$e.slice(_e);return Array.prototype.concat.call([],decodeComponents(Te),decodeComponents(Le))}function decode$1($e){try{return decodeURIComponent($e)}catch{let _e=$e.match(singleMatcher)||[];for(let Te=1;Te<_e.length;Te++)$e=decodeComponents(_e,Te).join(""),_e=$e.match(singleMatcher)||[];return $e}}function customDecodeURIComponent($e){const _e={"%FE%FF":"��","%FF%FE":"��"};let Te=multiMatcher.exec($e);for(;Te;){try{_e[Te[0]]=decodeURIComponent(Te[0])}catch{const Fe=decode$1(Te[0]);Fe!==Te[0]&&(_e[Te[0]]=Fe)}Te=multiMatcher.exec($e)}_e["%C2"]="�";const Le=Object.keys(_e);for(const Fe of Le)$e=$e.replace(new RegExp(Fe,"g"),_e[Fe]);return $e}function decodeUriComponent($e){if(typeof $e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof $e+"`");try{return decodeURIComponent($e)}catch{return customDecodeURIComponent($e)}}function splitOnFirst($e,_e){if(!(typeof $e=="string"&&typeof _e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if($e===""||_e==="")return[];const Te=$e.indexOf(_e);return Te===-1?[]:[$e.slice(0,Te),$e.slice(Te+_e.length)]}function includeKeys($e,_e){const Te={};if(Array.isArray(_e))for(const Le of _e){const Fe=Object.getOwnPropertyDescriptor($e,Le);Fe!=null&&Fe.enumerable&&Object.defineProperty(Te,Le,Fe)}else for(const Le of Reflect.ownKeys($e)){const Fe=Object.getOwnPropertyDescriptor($e,Le);if(Fe.enumerable){const Ae=$e[Le];_e(Le,Ae,$e)&&Object.defineProperty(Te,Le,Fe)}}return Te}const isNullOrUndefined$2=$e=>$e==null,strictUriEncode=$e=>encodeURIComponent($e).replaceAll(/[!'()*]/g,_e=>`%${_e.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat($e){switch($e.arrayFormat){case"index":return _e=>(Te,Le)=>{const Fe=Te.length;return Le===void 0||$e.skipNull&&Le===null||$e.skipEmptyString&&Le===""?Te:Le===null?[...Te,[encode(_e,$e),"[",Fe,"]"].join("")]:[...Te,[encode(_e,$e),"[",encode(Fe,$e),"]=",encode(Le,$e)].join("")]};case"bracket":return _e=>(Te,Le)=>Le===void 0||$e.skipNull&&Le===null||$e.skipEmptyString&&Le===""?Te:Le===null?[...Te,[encode(_e,$e),"[]"].join("")]:[...Te,[encode(_e,$e),"[]=",encode(Le,$e)].join("")];case"colon-list-separator":return _e=>(Te,Le)=>Le===void 0||$e.skipNull&&Le===null||$e.skipEmptyString&&Le===""?Te:Le===null?[...Te,[encode(_e,$e),":list="].join("")]:[...Te,[encode(_e,$e),":list=",encode(Le,$e)].join("")];case"comma":case"separator":case"bracket-separator":{const _e=$e.arrayFormat==="bracket-separator"?"[]=":"=";return Te=>(Le,Fe)=>Fe===void 0||$e.skipNull&&Fe===null||$e.skipEmptyString&&Fe===""?Le:(Fe=Fe===null?"":Fe,Le.length===0?[[encode(Te,$e),_e,encode(Fe,$e)].join("")]:[[Le,encode(Fe,$e)].join($e.arrayFormatSeparator)])}default:return _e=>(Te,Le)=>Le===void 0||$e.skipNull&&Le===null||$e.skipEmptyString&&Le===""?Te:Le===null?[...Te,encode(_e,$e)]:[...Te,[encode(_e,$e),"=",encode(Le,$e)].join("")]}}function parserForArrayFormat($e){let _e;switch($e.arrayFormat){case"index":return(Te,Le,Fe)=>{if(_e=/\[(\d*)]$/.exec(Te),Te=Te.replace(/\[\d*]$/,""),!_e){Fe[Te]=Le;return}Fe[Te]===void 0&&(Fe[Te]={}),Fe[Te][_e[1]]=Le};case"bracket":return(Te,Le,Fe)=>{if(_e=/(\[])$/.exec(Te),Te=Te.replace(/\[]$/,""),!_e){Fe[Te]=Le;return}if(Fe[Te]===void 0){Fe[Te]=[Le];return}Fe[Te]=[...Fe[Te],Le]};case"colon-list-separator":return(Te,Le,Fe)=>{if(_e=/(:list)$/.exec(Te),Te=Te.replace(/:list$/,""),!_e){Fe[Te]=Le;return}if(Fe[Te]===void 0){Fe[Te]=[Le];return}Fe[Te]=[...Fe[Te],Le]};case"comma":case"separator":return(Te,Le,Fe)=>{const Ae=typeof Le=="string"&&Le.includes($e.arrayFormatSeparator),Be=typeof Le=="string"&&!Ae&&decode(Le,$e).includes($e.arrayFormatSeparator);Le=Be?decode(Le,$e):Le;const Ie=Ae||Be?Le.split($e.arrayFormatSeparator).map(Ne=>decode(Ne,$e)):Le===null?Le:decode(Le,$e);Fe[Te]=Ie};case"bracket-separator":return(Te,Le,Fe)=>{const Ae=/(\[])$/.test(Te);if(Te=Te.replace(/\[]$/,""),!Ae){Fe[Te]=Le&&decode(Le,$e);return}const Be=Le===null?[]:Le.split($e.arrayFormatSeparator).map(Ie=>decode(Ie,$e));if(Fe[Te]===void 0){Fe[Te]=Be;return}Fe[Te]=[...Fe[Te],...Be]};default:return(Te,Le,Fe)=>{if(Fe[Te]===void 0){Fe[Te]=Le;return}Fe[Te]=[...[Fe[Te]].flat(),Le]}}}function validateArrayFormatSeparator($e){if(typeof $e!="string"||$e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode($e,_e){return _e.encode?_e.strict?strictUriEncode($e):encodeURIComponent($e):$e}function decode($e,_e){return _e.decode?decodeUriComponent($e):$e}function keysSorter($e){return Array.isArray($e)?$e.sort():typeof $e=="object"?keysSorter(Object.keys($e)).sort((_e,Te)=>Number(_e)-Number(Te)).map(_e=>$e[_e]):$e}function removeHash($e){const _e=$e.indexOf("#");return _e!==-1&&($e=$e.slice(0,_e)),$e}function getHash($e){let _e="";const Te=$e.indexOf("#");return Te!==-1&&(_e=$e.slice(Te)),_e}function parseValue($e,_e){return _e.parseNumbers&&!Number.isNaN(Number($e))&&typeof $e=="string"&&$e.trim()!==""?$e=Number($e):_e.parseBooleans&&$e!==null&&($e.toLowerCase()==="true"||$e.toLowerCase()==="false")&&($e=$e.toLowerCase()==="true"),$e}function extract($e){$e=removeHash($e);const _e=$e.indexOf("?");return _e===-1?"":$e.slice(_e+1)}function parse($e,_e){_e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,..._e},validateArrayFormatSeparator(_e.arrayFormatSeparator);const Te=parserForArrayFormat(_e),Le=Object.create(null);if(typeof $e!="string"||($e=$e.trim().replace(/^[?#&]/,""),!$e))return Le;for(const Fe of $e.split("&")){if(Fe==="")continue;const Ae=_e.decode?Fe.replaceAll("+"," "):Fe;let[Be,Ie]=splitOnFirst(Ae,"=");Be===void 0&&(Be=Ae),Ie=Ie===void 0?null:["comma","separator","bracket-separator"].includes(_e.arrayFormat)?Ie:decode(Ie,_e),Te(decode(Be,_e),Ie,Le)}for(const[Fe,Ae]of Object.entries(Le))if(typeof Ae=="object"&&Ae!==null)for(const[Be,Ie]of Object.entries(Ae))Ae[Be]=parseValue(Ie,_e);else Le[Fe]=parseValue(Ae,_e);return _e.sort===!1?Le:(_e.sort===!0?Object.keys(Le).sort():Object.keys(Le).sort(_e.sort)).reduce((Fe,Ae)=>{const Be=Le[Ae];return Fe[Ae]=Be&&typeof Be=="object"&&!Array.isArray(Be)?keysSorter(Be):Be,Fe},Object.create(null))}function stringify($e,_e){if(!$e)return"";_e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",..._e},validateArrayFormatSeparator(_e.arrayFormatSeparator);const Te=Be=>_e.skipNull&&isNullOrUndefined$2($e[Be])||_e.skipEmptyString&&$e[Be]==="",Le=encoderForArrayFormat(_e),Fe={};for(const[Be,Ie]of Object.entries($e))Te(Be)||(Fe[Be]=Ie);const Ae=Object.keys(Fe);return _e.sort!==!1&&Ae.sort(_e.sort),Ae.map(Be=>{const Ie=$e[Be];return Ie===void 0?"":Ie===null?encode(Be,_e):Array.isArray(Ie)?Ie.length===0&&_e.arrayFormat==="bracket-separator"?encode(Be,_e)+"[]":Ie.reduce(Le(Be),[]).join("&"):encode(Be,_e)+"="+encode(Ie,_e)}).filter(Be=>Be.length>0).join("&")}function parseUrl$1($e,_e){var Fe;_e={decode:!0,..._e};let[Te,Le]=splitOnFirst($e,"#");return Te===void 0&&(Te=$e),{url:((Fe=Te==null?void 0:Te.split("?"))==null?void 0:Fe[0])??"",query:parse(extract($e),_e),..._e&&_e.parseFragmentIdentifier&&Le?{fragmentIdentifier:decode(Le,_e)}:{}}}function stringifyUrl($e,_e){_e={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,..._e};const Te=removeHash($e.url).split("?")[0]||"",Le=extract($e.url),Fe={...parse(Le,{sort:!1}),...$e.query};let Ae=stringify(Fe,_e);Ae&&(Ae=`?${Ae}`);let Be=getHash($e.url);if(typeof $e.fragmentIdentifier=="string"){const Ie=new URL(Te);Ie.hash=$e.fragmentIdentifier,Be=_e[encodeFragmentIdentifier]?Ie.hash:`#${$e.fragmentIdentifier}`}return`${Te}${Ae}${Be}`}function pick($e,_e,Te){Te={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...Te};const{url:Le,query:Fe,fragmentIdentifier:Ae}=parseUrl$1($e,Te);return stringifyUrl({url:Le,query:includeKeys(Fe,_e),fragmentIdentifier:Ae},Te)}function exclude($e,_e,Te){const Le=Array.isArray(_e)?Fe=>!_e.includes(Fe):(Fe,Ae)=>!_e(Fe,Ae);return pick($e,Le,Te)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse,parseUrl:parseUrl$1,pick,stringify,stringifyUrl},Symbol.toStringTag,{value:"Module"}));var f$3=0;function u$3($e,_e,Te,Le,Fe,Ae){var Be,Ie,Ne={};for(Ie in _e)Ie=="ref"?Be=_e[Ie]:Ne[Ie]=_e[Ie];var ze={type:$e,props:Ne,key:Te,ref:Be,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f$3,__i:-1,__u:0,__source:Fe,__self:Ae};if(typeof $e=="function"&&(Be=$e.defaultProps))for(Ie in Be)Ne[Ie]===void 0&&(Ne[Ie]=Be[Ie]);return l$3.vnode&&l$3.vnode(ze),ze}let block$4=new KTBlockUI(document.getElementById("messages-whole-box"),{overlayClass:"z-[999999]"}),timestamp=0,timestampInterval=null;$$4(".messages-private-box").on("click",function($e){let _e=$$4(this).data("id");window.history.pushState("","",`?id=${_e}`),fetchMessages(_e),$$4("#send-box #message_id").val(_e)});document.addEventListener("DOMContentLoaded",function(){let $e=new URL(window.location.href);if($e.pathname==="/dashboard/notifications"){let _e=$e.searchParams.get("id");_e&&(fetchMessages(_e),$$4("#send-box #message_id").val(_e))}});$$4("#chatbox-back").on("click",function($e){$$4(".chatbox").fadeOut(200),window.history.pushState("","",window.location.pathname),$$4("body").css("overflow","auto"),$$4("#send-box #message_id").val(""),clearInterval(timestampInterval)});function fetchMessages($e){$$4.ajax({url:`/api/messages/${$e}`,method:"GET",headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},beforeSend:function(){block$4.block()},success:function(_e){timestamp=_e.message.timestamp,$$4(".chatbox .header span").html(_e.message.title),B$4(y$2(Messages,{messages:_e.message.messages}),document.querySelector(".chatbox .main")),$$4("input[name='session']").val(_e.message.id),block$4.release(),$$4(".chatbox").fadeIn(200),$$4(window).width()<992&&$$4("body").css("overflow","hidden"),clearInterval(timestampInterval),timestampInterval=setInterval(()=>{let Le=new URL(window.location.href).searchParams.get("id");$$4.ajax({url:`/api/messages/timestamp/${Le}`,method:"GET",headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},success:Fe=>{+Fe.timestamp!=+timestamp&&fetchMessages(Le)}})},5e3)},error:function(_e,Te,Le){block$4.release()}})}$$4("#send-box [name='message']").on("input",function($e){let _e=$$4(this).val().trim(),Te=new RegExp("^(?![\\s\\S])");_e.length>0&&!Te.test(_e)?$$4("#sendMessage").css("display","block"):$$4("#sendMessage").css("display","none")});const Messages=({messages:$e})=>$e.map((_e,Te)=>_e.you===!0?u$3("div",{class:"your",children:[_e.message&&u$3("div",{class:"text-chat",children:[u$3("span",{children:_e.message}),u$3("span",{class:"chat-time",children:_e.created_at})]}),u$3("span",{class:"chat-time",children:_e.created_at}),u$3("div",{class:"files",children:_e.files.map((Le,Fe)=>u$3("a",{href:Le,target:"_blank",children:u$3("img",{src:Le,alt:"ID_"+Fe})},Fe))})]}):u$3("div",{class:"its-box",children:[u$3("div",{class:"profile",children:u$3("i",{class:"fa-light fa-user"})}),u$3("div",{class:"its",children:[u$3("div",{class:"text-chat",children:[u$3("span",{children:_e.message}),u$3("span",{class:"chat-time",children:_e.created_at})]}),u$3("div",{class:"files",children:_e.files.map((Le,Fe)=>u$3("a",{href:Le,target:"_blank",children:u$3("img",{src:Le,alt:"ID_"+Fe})},Fe))})]})]}));let block$3=new KTBlockUI(document.querySelector("#detailsModal .modal-body"),{overlayClass:"tw-bg-transparent"});$$4(".cart-show-detail").on("click",function(){const $e=$$4(this).data("product-id");let _e=new Modal("#detailsModal",{keyboard:!1});$$4.ajax({url:`/api/cart/${$e}`,beforeSend:function(){block$3.block()},success:function(Te){$$4("#detailsModal .modal-body").html(""),block$3.release(),_e.show(),$$4("#detailsModal .modal-body").html(Te.html)},error:function(Te){console.log(Te)}})});function _classPrivateFieldLooseBase$9($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$9=0;function _classPrivateFieldLooseKey$9($e){return"__private_"+id$9+++"_"+$e}function insertReplacement($e,_e,Te){const Le=[];return $e.forEach(Fe=>typeof Fe!="string"?Le.push(Fe):_e[Symbol.split](Fe).forEach((Ae,Be,Ie)=>{Ae!==""&&Le.push(Ae),Be<Ie.length-1&&Le.push(Te)})),Le}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function interpolate($e,_e){const Te=/\$/g,Le="$$$$";let Fe=[$e];if(_e==null)return Fe;for(const Ae of Object.keys(_e))if(Ae!=="_"){let Be=_e[Ae];typeof Be=="string"&&(Be=Te[Symbol.replace](Be,Le)),Fe=insertReplacement(Fe,new RegExp(`%\\{${Ae}\\}`,"g"),Be)}return Fe}const defaultOnMissingKey=$e=>{throw new Error(`missing string: ${$e}`)};var _onMissingKey=_classPrivateFieldLooseKey$9("onMissingKey"),_apply=_classPrivateFieldLooseKey$9("apply");class Translator{constructor(_e,Te){let{onMissingKey:Le=defaultOnMissingKey}=Te===void 0?{}:Te;Object.defineProperty(this,_apply,{value:_apply2}),Object.defineProperty(this,_onMissingKey,{writable:!0,value:void 0}),this.locale={strings:{},pluralize(Fe){return Fe===1?0:1}},Array.isArray(_e)?_e.forEach(_classPrivateFieldLooseBase$9(this,_apply)[_apply],this):_classPrivateFieldLooseBase$9(this,_apply)[_apply](_e),_classPrivateFieldLooseBase$9(this,_onMissingKey)[_onMissingKey]=Le}translate(_e,Te){return this.translateArray(_e,Te).join("")}translateArray(_e,Te){let Le=this.locale.strings[_e];if(Le==null&&(_classPrivateFieldLooseBase$9(this,_onMissingKey)[_onMissingKey](_e),Le=_e),typeof Le=="object"){if(Te&&typeof Te.smart_count<"u"){const Ae=this.locale.pluralize(Te.smart_count);return interpolate(Le[Ae],Te)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof Le!="string")throw new Error("string was not a string");return interpolate(Le,Te)}}function _apply2($e){if(!($e!=null&&$e.strings))return;const _e=this.locale;this.locale={..._e,strings:{..._e.strings,...$e.strings}},this.locale.pluralize=$e.pluralize||_e.pluralize}var namespaceEmitter=function $e(){var _e={},Te=_e._fns={};_e.emit=function(Be,Ie,Ne,ze,Ue,je,Ve){var Ze=Le(Be);Ze.length&&Fe(Be,Ze,[Ie,Ne,ze,Ue,je,Ve])},_e.on=function(Be,Ie){Te[Be]||(Te[Be]=[]),Te[Be].push(Ie)},_e.once=function(Be,Ie){function Ne(){Ie.apply(this,arguments),_e.off(Be,Ne)}this.on(Be,Ne)},_e.off=function(Be,Ie){var Ne=[];if(Be&&Ie){var ze=this._fns[Be],Ue=0,je=ze?ze.length:0;for(Ue;Ue<je;Ue++)ze[Ue]!==Ie&&Ne.push(ze[Ue])}Ne.length?this._fns[Be]=Ne:delete this._fns[Be]};function Le(Ae){var Be=Te[Ae]?Te[Ae]:[],Ie=Ae.indexOf(":"),Ne=Ie===-1?[Ae]:[Ae.substring(0,Ie),Ae.substring(Ie+1)],ze=Object.keys(Te),Ue=0,je=ze.length;for(Ue;Ue<je;Ue++){var Ve=ze[Ue];if(Ve==="*"&&(Be=Be.concat(Te[Ve])),Ne.length===2&&Ne[0]===Ve){Be=Be.concat(Te[Ve]);break}}return Be}function Fe(Ae,Be,Ie){var Ne=0,ze=Be.length;for(Ne;Ne<ze&&Be[Ne];Ne++)Be[Ne].event=Ae,Be[Ne].apply(Be[Ne],Ie)}return _e};const ee$2=getDefaultExportFromCjs(namespaceEmitter);let urlAlphabet$2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid$2=($e=21)=>{let _e="",Te=$e;for(;Te--;)_e+=urlAlphabet$2[Math.random()*64|0];return _e};function isObject$5($e){var _e=typeof $e;return $e!=null&&(_e=="object"||_e=="function")}var isObject_1=isObject$5,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1($e){for(var _e=$e.length;_e--&&reWhitespace.test($e.charAt(_e)););return _e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1($e){return $e&&$e.slice(0,trimmedEndIndex($e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root=_root,Symbol$3=root.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1($e){var _e=hasOwnProperty.call($e,symToStringTag$1),Te=$e[symToStringTag$1];try{$e[symToStringTag$1]=void 0;var Le=!0}catch{}var Fe=nativeObjectToString$1.call($e);return Le&&(_e?$e[symToStringTag$1]=Te:delete $e[symToStringTag$1]),Fe}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1($e){return nativeObjectToString.call($e)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1($e){return $e==null?$e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object($e)?getRawTag($e):objectToString($e)}var _baseGetTag=baseGetTag$1;function isObjectLike$1($e){return $e!=null&&typeof $e=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1($e){return typeof $e=="symbol"||isObjectLike($e)&&baseGetTag($e)==symbolTag}var isSymbol_1=isSymbol$1,baseTrim=_baseTrim,isObject$4=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1($e){if(typeof $e=="number")return $e;if(isSymbol($e))return NAN;if(isObject$4($e)){var _e=typeof $e.valueOf=="function"?$e.valueOf():$e;$e=isObject$4(_e)?_e+"":_e}if(typeof $e!="string")return $e===0?$e:+$e;$e=baseTrim($e);var Te=reIsBinary.test($e);return Te||reIsOctal.test($e)?freeParseInt($e.slice(2),Te?2:8):reIsBadHex.test($e)?NAN:+$e}var toNumber_1=toNumber$1,isObject$3=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2($e,_e,Te){var Le,Fe,Ae,Be,Ie,Ne,ze=0,Ue=!1,je=!1,Ve=!0;if(typeof $e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);_e=toNumber(_e)||0,isObject$3(Te)&&(Ue=!!Te.leading,je="maxWait"in Te,Ae=je?nativeMax(toNumber(Te.maxWait)||0,_e):Ae,Ve="trailing"in Te?!!Te.trailing:Ve);function Ze(vi){var bi=Le,xi=Fe;return Le=Fe=void 0,ze=vi,Be=$e.apply(xi,bi),Be}function Ke(vi){return ze=vi,Ie=setTimeout(ni,_e),Ue?Ze(vi):Be}function Je(vi){var bi=vi-Ne,xi=vi-ze,mi=_e-bi;return je?nativeMin(mi,Ae-xi):mi}function ei(vi){var bi=vi-Ne,xi=vi-ze;return Ne===void 0||bi>=_e||bi<0||je&&xi>=Ae}function ni(){var vi=now();if(ei(vi))return Qe(vi);Ie=setTimeout(ni,Je(vi))}function Qe(vi){return Ie=void 0,Ve&&Le?Ze(vi):(Le=Fe=void 0,Be)}function ii(){Ie!==void 0&&clearTimeout(Ie),ze=0,Le=Ne=Fe=Ie=void 0}function ai(){return Ie===void 0?Be:Qe(now())}function di(){var vi=now(),bi=ei(vi);if(Le=arguments,Fe=this,Ne=vi,bi){if(Ie===void 0)return Ke(Ne);if(je)return clearTimeout(Ie),Ie=setTimeout(ni,_e),Ze(Ne)}return Ie===void 0&&(Ie=setTimeout(ni,_e)),Be}return di.cancel=ii,di.flush=ai,di}var debounce_1=debounce$2;const debounce$3=getDefaultExportFromCjs(debounce_1);var debounce$1=debounce_1,isObject$2=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle($e,_e,Te){var Le=!0,Fe=!0;if(typeof $e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$2(Te)&&(Le="leading"in Te?!!Te.leading:Le,Fe="trailing"in Te?!!Te.trailing:Fe),debounce$1($e,_e,{leading:Le,maxWait:_e,trailing:Fe})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _classPrivateFieldLooseBase$8($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$8=0;function _classPrivateFieldLooseKey$8($e){return"__private_"+id$8+++"_"+$e}const packageJson$7={version:"3.2.0"};var _callbacks=_classPrivateFieldLooseKey$8("callbacks"),_publish=_classPrivateFieldLooseKey$8("publish");class DefaultStore{constructor(){Object.defineProperty(this,_publish,{value:_publish2}),this.state={},Object.defineProperty(this,_callbacks,{writable:!0,value:new Set})}getState(){return this.state}setState(_e){const Te={...this.state},Le={...this.state,..._e};this.state=Le,_classPrivateFieldLooseBase$8(this,_publish)[_publish](Te,Le,_e)}subscribe(_e){return _classPrivateFieldLooseBase$8(this,_callbacks)[_callbacks].add(_e),()=>{_classPrivateFieldLooseBase$8(this,_callbacks)[_callbacks].delete(_e)}}}function _publish2(){for(var $e=arguments.length,_e=new Array($e),Te=0;Te<$e;Te++)_e[Te]=arguments[Te];_classPrivateFieldLooseBase$8(this,_callbacks)[_callbacks].forEach(Le=>{Le(..._e)})}DefaultStore.VERSION=packageJson$7.version;function getFileNameAndExtension($e){const _e=$e.lastIndexOf(".");return _e===-1||_e===$e.length-1?{name:$e,extension:void 0}:{name:$e.slice(0,_e),extension:$e.slice(_e+1)}}const mimeTypes={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function getFileType($e){var _e;if($e.type)return $e.type;const Te=$e.name?(_e=getFileNameAndExtension($e.name).extension)==null?void 0:_e.toLowerCase():null;return Te&&Te in mimeTypes?mimeTypes[Te]:"application/octet-stream"}function encodeCharacter($e){return $e.charCodeAt(0).toString(32)}function encodeFilename($e){let _e="";return $e.replace(/[^A-Z0-9]/gi,Te=>(_e+=`-${encodeCharacter(Te)}`,"/"))+_e}function generateFileID($e){let _e="uppy";return typeof $e.name=="string"&&(_e+=`-${encodeFilename($e.name.toLowerCase())}`),$e.type!==void 0&&(_e+=`-${$e.type}`),$e.meta&&typeof $e.meta.relativePath=="string"&&(_e+=`-${encodeFilename($e.meta.relativePath.toLowerCase())}`),$e.data.size!==void 0&&(_e+=`-${$e.data.size}`),$e.data.lastModified!==void 0&&(_e+=`-${$e.data.lastModified}`),_e}function hasFileStableId($e){return!$e.isRemote||!$e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has($e.remote.provider)}function getSafeFileId($e){if(hasFileStableId($e))return $e.id;const _e=getFileType($e);return generateFileID({...$e,type:_e})}function supportsUploadProgress($e){if($e==null&&typeof navigator<"u"&&($e=navigator.userAgent),!$e)return!0;const _e=/Edge\/(\d+\.\d+)/.exec($e);if(!_e)return!0;const Te=_e[1];let[Le,Fe]=Te.split(".");return Le=parseInt(Le,10),Fe=parseInt(Fe,10),Le<15||Le===15&&Fe<15063||Le>18||Le===18&&Fe>=18218}function getFileName($e,_e){return _e.name?_e.name:$e.split("/")[0]==="image"?`${$e.split("/")[0]}.${$e.split("/")[1]}`:"noname"}function pad($e){return $e<10?`0${$e}`:$e.toString()}function getTimeStamp(){const $e=new Date,_e=pad($e.getHours()),Te=pad($e.getMinutes()),Le=pad($e.getSeconds());return`${_e}:${Te}:${Le}`}const justErrorsLogger={debug:()=>{},warn:()=>{},error:function(){for(var $e=arguments.length,_e=new Array($e),Te=0;Te<$e;Te++)_e[Te]=arguments[Te];return console.error(`[Uppy] [${getTimeStamp()}]`,..._e)}},debugLogger={debug:function(){for(var $e=arguments.length,_e=new Array($e),Te=0;Te<$e;Te++)_e[Te]=arguments[Te];return console.debug(`[Uppy] [${getTimeStamp()}]`,..._e)},warn:function(){for(var $e=arguments.length,_e=new Array($e),Te=0;Te<$e;Te++)_e[Te]=arguments[Te];return console.warn(`[Uppy] [${getTimeStamp()}]`,..._e)},error:function(){for(var $e=arguments.length,_e=new Array($e),Te=0;Te<$e;Te++)_e[Te]=arguments[Te];return console.error(`[Uppy] [${getTimeStamp()}]`,..._e)}};var prettierBytes$2=function $e(_e){if(typeof _e!="number"||isNaN(_e))throw new TypeError(`Expected a number, got ${typeof _e}`);const Te=_e<0,Le=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(Te&&(_e=-_e),_e<1)return`${(Te?"-":"")+_e} B`;const Fe=Math.min(Math.floor(Math.log(_e)/Math.log(1024)),Le.length-1);_e=Number(_e/Math.pow(1024,Fe));const Ae=Le[Fe];return _e>=10||_e%1===0?`${(Te?"-":"")+_e.toFixed(0)} ${Ae}`:`${(Te?"-":"")+_e.toFixed(1)} ${Ae}`};const prettierBytes$3=getDefaultExportFromCjs(prettierBytes$2);function WildcardMatcher($e,_e){this.text=$e=$e||"",this.hasWild=~$e.indexOf("*"),this.separator=_e,this.parts=$e.split(_e)}WildcardMatcher.prototype.match=function($e){var _e=!0,Te=this.parts,Le,Fe=Te.length,Ae;if(typeof $e=="string"||$e instanceof String)if(!this.hasWild&&this.text!=$e)_e=!1;else{for(Ae=($e||"").split(this.separator),Le=0;_e&&Le<Fe;Le++)Te[Le]!=="*"&&(Le<Ae.length?_e=Te[Le]===Ae[Le]:_e=!1);_e=_e&&Ae}else if(typeof $e.splice=="function")for(_e=[],Le=$e.length;Le--;)this.match($e[Le])&&(_e[_e.length]=$e[Le]);else if(typeof $e=="object"){_e={};for(var Be in $e)this.match(Be)&&(_e[Be]=$e[Be])}return _e};var wildcard$1=function($e,_e,Te){var Le=new WildcardMatcher($e,Te||/[\/\.]/);return typeof _e<"u"?Le.match(_e):Le},wildcard=wildcard$1,reMimePartSplit=/[\/\+\.]/,mimeMatch=function($e,_e){function Te(Le){var Fe=wildcard(Le,$e,reMimePartSplit);return Fe&&Fe.length>=2}return _e?Te(_e.split(";")[0]):Te};const match=getDefaultExportFromCjs(mimeMatch),defaultOptions$1={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class RestrictionError extends Error{constructor(_e,Te){let{isUserFacing:Le=!0,file:Fe}=Te===void 0?{}:Te;super(_e),this.isRestriction=!0,this.isUserFacing=Le,Fe!=null&&(this.file=Fe)}}class Restricter{constructor(_e,Te){this.i18n=Te,this.getOpts=()=>{const Le=_e();if(Le.restrictions.allowedFileTypes!=null&&!Array.isArray(Le.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return Le}}validateAggregateRestrictions(_e,Te){const{maxTotalFileSize:Le,maxNumberOfFiles:Fe}=this.getOpts().restrictions;if(Fe&&_e.filter(Be=>!Be.isGhost).length+Te.length>Fe)throw new RestrictionError(`${this.i18n("youCanOnlyUploadX",{smart_count:Fe})}`);if(Le){let Ae=_e.reduce((Be,Ie)=>Be+Ie.size,0);for(const Be of Te)if(Be.size!=null&&(Ae+=Be.size,Ae>Le))throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes$3(Le),file:Be.name}))}}validateSingleFile(_e){const{maxFileSize:Te,minFileSize:Le,allowedFileTypes:Fe}=this.getOpts().restrictions;if(Fe&&!Fe.some(Be=>Be.includes("/")?_e.type?match(_e.type.replace(/;.*?$/,""),Be):!1:Be[0]==="."&&_e.extension?_e.extension.toLowerCase()===Be.slice(1).toLowerCase():!1)){const Be=Fe.join(", ");throw new RestrictionError(this.i18n("youCanOnlyUploadFileTypes",{types:Be}),{file:_e})}if(Te&&_e.size!=null&&_e.size>Te)throw new RestrictionError(this.i18n("exceedsSize",{size:prettierBytes$3(Te),file:_e.name}),{file:_e});if(Le&&_e.size!=null&&_e.size<Le)throw new RestrictionError(this.i18n("inferiorSize",{size:prettierBytes$3(Le)}),{file:_e})}validate(_e,Te){Te.forEach(Le=>{this.validateSingleFile(Le)}),this.validateAggregateRestrictions(_e,Te)}validateMinNumberOfFiles(_e){const{minNumberOfFiles:Te}=this.getOpts().restrictions;if(Object.keys(_e).length<Te)throw new RestrictionError(this.i18n("youHaveToAtLeastSelectX",{smart_count:Te}))}getMissingRequiredMetaFields(_e){const Te=new RestrictionError(this.i18n("missingRequiredMetaFieldOnFile",{fileName:_e.name})),{requiredMetaFields:Le}=this.getOpts().restrictions,Fe=[];for(const Ae of Le)(!Object.hasOwn(_e.meta,Ae)||_e.meta[Ae]==="")&&Fe.push(Ae);return{missingFields:Fe,error:Te}}}const locale$4={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};let _Symbol$for$1,_Symbol$for2;function _classPrivateFieldLooseBase$7($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$7=0;function _classPrivateFieldLooseKey$7($e){return"__private_"+id$7+++"_"+$e}const packageJson$6={version:"3.8.0"},getDefaultUploadState=()=>({totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null});var _plugins=_classPrivateFieldLooseKey$7("plugins"),_restricter=_classPrivateFieldLooseKey$7("restricter"),_storeUnsubscribe=_classPrivateFieldLooseKey$7("storeUnsubscribe"),_emitter=_classPrivateFieldLooseKey$7("emitter"),_preProcessors=_classPrivateFieldLooseKey$7("preProcessors"),_uploaders=_classPrivateFieldLooseKey$7("uploaders"),_postProcessors=_classPrivateFieldLooseKey$7("postProcessors"),_informAndEmit=_classPrivateFieldLooseKey$7("informAndEmit"),_checkRequiredMetaFieldsOnFile=_classPrivateFieldLooseKey$7("checkRequiredMetaFieldsOnFile"),_checkRequiredMetaFields=_classPrivateFieldLooseKey$7("checkRequiredMetaFields"),_assertNewUploadAllowed=_classPrivateFieldLooseKey$7("assertNewUploadAllowed"),_transformFile=_classPrivateFieldLooseKey$7("transformFile"),_startIfAutoProceed=_classPrivateFieldLooseKey$7("startIfAutoProceed"),_checkAndUpdateFileState=_classPrivateFieldLooseKey$7("checkAndUpdateFileState"),_addListeners=_classPrivateFieldLooseKey$7("addListeners"),_updateOnlineStatus=_classPrivateFieldLooseKey$7("updateOnlineStatus"),_requestClientById=_classPrivateFieldLooseKey$7("requestClientById"),_createUpload=_classPrivateFieldLooseKey$7("createUpload"),_getUpload=_classPrivateFieldLooseKey$7("getUpload"),_removeUpload=_classPrivateFieldLooseKey$7("removeUpload"),_runUpload=_classPrivateFieldLooseKey$7("runUpload");_Symbol$for$1=Symbol.for("uppy test: getPlugins");_Symbol$for2=Symbol.for("uppy test: createUpload");let Uppy$1=class{constructor(_e){Object.defineProperty(this,_runUpload,{value:_runUpload2}),Object.defineProperty(this,_removeUpload,{value:_removeUpload2}),Object.defineProperty(this,_getUpload,{value:_getUpload2}),Object.defineProperty(this,_createUpload,{value:_createUpload2}),Object.defineProperty(this,_addListeners,{value:_addListeners2}),Object.defineProperty(this,_checkAndUpdateFileState,{value:_checkAndUpdateFileState2}),Object.defineProperty(this,_startIfAutoProceed,{value:_startIfAutoProceed2}),Object.defineProperty(this,_transformFile,{value:_transformFile2}),Object.defineProperty(this,_assertNewUploadAllowed,{value:_assertNewUploadAllowed2}),Object.defineProperty(this,_checkRequiredMetaFields,{value:_checkRequiredMetaFields2}),Object.defineProperty(this,_checkRequiredMetaFieldsOnFile,{value:_checkRequiredMetaFieldsOnFile2}),Object.defineProperty(this,_informAndEmit,{value:_informAndEmit2}),Object.defineProperty(this,_plugins,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,_restricter,{writable:!0,value:void 0}),Object.defineProperty(this,_storeUnsubscribe,{writable:!0,value:void 0}),Object.defineProperty(this,_emitter,{writable:!0,value:ee$2()}),Object.defineProperty(this,_preProcessors,{writable:!0,value:new Set}),Object.defineProperty(this,_uploaders,{writable:!0,value:new Set}),Object.defineProperty(this,_postProcessors,{writable:!0,value:new Set}),this.calculateProgress=throttle$1((Le,Fe)=>{const Ae=this.getFile(Le==null?void 0:Le.id);if(Le==null||!Ae){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}if(Ae.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${Le.id}`);return}const Be=Number.isFinite(Fe.bytesTotal)&&Fe.bytesTotal>0;this.setFileState(Le.id,{progress:{...Ae.progress,bytesUploaded:Fe.bytesUploaded,bytesTotal:Fe.bytesTotal,percentage:Be?Math.round(Fe.bytesUploaded/Fe.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,_updateOnlineStatus,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,_requestClientById,{writable:!0,value:new Map}),this.defaultLocale=locale$4;const Te={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:defaultOptions$1,meta:{},onBeforeFileAdded:(Le,Fe)=>!Object.hasOwn(Fe,Le.id),onBeforeUpload:Le=>Le,store:new DefaultStore,logger:justErrorsLogger,infoTimeout:5e3};this.opts={...Te,..._e,restrictions:{...Te.restrictions,..._e&&_e.restrictions}},_e&&_e.logger&&_e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):_e&&_e.debug&&(this.opts.logger=debugLogger),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...getDefaultUploadState(),plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),_classPrivateFieldLooseBase$7(this,_restricter)[_restricter]=new Restricter(()=>this.opts,this.i18n),_classPrivateFieldLooseBase$7(this,_storeUnsubscribe)[_storeUnsubscribe]=this.store.subscribe((Le,Fe,Ae)=>{this.emit("state-update",Le,Fe,Ae),this.updateAll(Fe)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),_classPrivateFieldLooseBase$7(this,_addListeners)[_addListeners]()}emit(_e){for(var Te=arguments.length,Le=new Array(Te>1?Te-1:0),Fe=1;Fe<Te;Fe++)Le[Fe-1]=arguments[Fe];_classPrivateFieldLooseBase$7(this,_emitter)[_emitter].emit(_e,...Le)}on(_e,Te){return _classPrivateFieldLooseBase$7(this,_emitter)[_emitter].on(_e,Te),this}once(_e,Te){return _classPrivateFieldLooseBase$7(this,_emitter)[_emitter].once(_e,Te),this}off(_e,Te){return _classPrivateFieldLooseBase$7(this,_emitter)[_emitter].off(_e,Te),this}updateAll(_e){this.iteratePlugins(Te=>{Te.update(_e)})}setState(_e){this.store.setState(_e)}getState(){return this.store.getState()}patchFilesState(_e){const Te=this.getState().files;this.setState({files:{...Te,...Object.fromEntries(Object.entries(_e).map(Le=>{let[Fe,Ae]=Le;return[Fe,{...Te[Fe],...Ae}]}))}})}setFileState(_e,Te){if(!this.getState().files[_e])throw new Error(`Can’t set state for ${_e} (the file could have been removed)`);this.patchFilesState({[_e]:Te})}i18nInit(){const _e=Le=>this.log(`Missing i18n string: ${Le}`,"error"),Te=new Translator([this.defaultLocale,this.opts.locale],{onMissingKey:_e});this.i18n=Te.translate.bind(Te),this.i18nArray=Te.translateArray.bind(Te),this.locale=Te.locale}setOptions(_e){this.opts={...this.opts,..._e,restrictions:{...this.opts.restrictions,..._e&&_e.restrictions}},_e.meta&&this.setMeta(_e.meta),this.i18nInit(),_e.locale&&this.iteratePlugins(Te=>{Te.setOptions(_e)}),this.setState()}resetProgress(){const _e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},Te={...this.getState().files},Le={};Object.keys(Te).forEach(Fe=>{Le[Fe]={...Te[Fe],progress:{...Te[Fe].progress,..._e}}}),this.setState({files:Le,...getDefaultUploadState()}),this.emit("reset-progress")}clearUploadedFiles(){this.setState({...getDefaultUploadState(),files:{}})}addPreProcessor(_e){_classPrivateFieldLooseBase$7(this,_preProcessors)[_preProcessors].add(_e)}removePreProcessor(_e){return _classPrivateFieldLooseBase$7(this,_preProcessors)[_preProcessors].delete(_e)}addPostProcessor(_e){_classPrivateFieldLooseBase$7(this,_postProcessors)[_postProcessors].add(_e)}removePostProcessor(_e){return _classPrivateFieldLooseBase$7(this,_postProcessors)[_postProcessors].delete(_e)}addUploader(_e){_classPrivateFieldLooseBase$7(this,_uploaders)[_uploaders].add(_e)}removeUploader(_e){return _classPrivateFieldLooseBase$7(this,_uploaders)[_uploaders].delete(_e)}setMeta(_e){const Te={...this.getState().meta,..._e},Le={...this.getState().files};Object.keys(Le).forEach(Fe=>{Le[Fe]={...Le[Fe],meta:{...Le[Fe].meta,..._e}}}),this.log("Adding metadata:"),this.log(_e),this.setState({meta:Te,files:Le})}setFileMeta(_e,Te){const Le={...this.getState().files};if(!Le[_e]){this.log("Was trying to set metadata for a file that has been removed: ",_e);return}const Fe={...Le[_e].meta,...Te};Le[_e]={...Le[_e],meta:Fe},this.setState({files:Le})}getFile(_e){return this.getState().files[_e]}getFiles(){const{files:_e}=this.getState();return Object.values(_e)}getFilesByIds(_e){return _e.map(Te=>this.getFile(Te))}getObjectOfFilesPerState(){const{files:_e,totalProgress:Te,error:Le}=this.getState(),Fe=Object.values(_e),Ae=Fe.filter(Ke=>{let{progress:Je}=Ke;return!Je.uploadComplete&&Je.uploadStarted}),Be=Fe.filter(Ke=>!Ke.progress.uploadStarted),Ie=Fe.filter(Ke=>Ke.progress.uploadStarted||Ke.progress.preprocess||Ke.progress.postprocess),Ne=Fe.filter(Ke=>Ke.progress.uploadStarted),ze=Fe.filter(Ke=>Ke.isPaused),Ue=Fe.filter(Ke=>Ke.progress.uploadComplete),je=Fe.filter(Ke=>Ke.error),Ve=Ae.filter(Ke=>!Ke.isPaused),Ze=Fe.filter(Ke=>Ke.progress.preprocess||Ke.progress.postprocess);return{newFiles:Be,startedFiles:Ie,uploadStartedFiles:Ne,pausedFiles:ze,completeFiles:Ue,erroredFiles:je,inProgressFiles:Ae,inProgressNotPausedFiles:Ve,processingFiles:Ze,isUploadStarted:Ne.length>0,isAllComplete:Te===100&&Ue.length===Fe.length&&Ze.length===0,isAllErrored:!!Le&&je.length===Fe.length,isAllPaused:Ae.length!==0&&ze.length===Ae.length,isUploadInProgress:Ae.length>0,isSomeGhost:Fe.some(Ke=>Ke.isGhost)}}validateRestrictions(_e,Te){Te===void 0&&(Te=this.getFiles());try{_classPrivateFieldLooseBase$7(this,_restricter)[_restricter].validate(Te,[_e])}catch(Le){return Le}return null}checkIfFileAlreadyExists(_e){const{files:Te}=this.getState();return!!(Te[_e]&&!Te[_e].isGhost)}addFile(_e){_classPrivateFieldLooseBase$7(this,_assertNewUploadAllowed)[_assertNewUploadAllowed](_e);const{nextFilesState:Te,validFilesToAdd:Le,errors:Fe}=_classPrivateFieldLooseBase$7(this,_checkAndUpdateFileState)[_checkAndUpdateFileState]([_e]),Ae=Fe.filter(Ie=>Ie.isRestriction);if(_classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit](Ae),Fe.length>0)throw Fe[0];this.setState({files:Te});const[Be]=Le;return this.emit("file-added",Be),this.emit("files-added",Le),this.log(`Added file: ${Be.name}, ${Be.id}, mime type: ${Be.type}`),_classPrivateFieldLooseBase$7(this,_startIfAutoProceed)[_startIfAutoProceed](),Be.id}addFiles(_e){_classPrivateFieldLooseBase$7(this,_assertNewUploadAllowed)[_assertNewUploadAllowed]();const{nextFilesState:Te,validFilesToAdd:Le,errors:Fe}=_classPrivateFieldLooseBase$7(this,_checkAndUpdateFileState)[_checkAndUpdateFileState](_e),Ae=Fe.filter(Ie=>Ie.isRestriction);_classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit](Ae);const Be=Fe.filter(Ie=>!Ie.isRestriction);if(Be.length>0){let Ie=`Multiple errors occurred while adding files:
`;if(Be.forEach(Ne=>{Ie+=`
 * ${Ne.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:Be.length}),details:Ie},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(Be,Ie);{const Ne=new Error(Ie);throw Ne.errors=Be,Ne}}this.setState({files:Te}),Le.forEach(Ie=>{this.emit("file-added",Ie)}),this.emit("files-added",Le),Le.length>5?this.log(`Added batch of ${Le.length} files`):Object.values(Le).forEach(Ie=>{this.log(`Added file: ${Ie.name}
 id: ${Ie.id}
 type: ${Ie.type}`)}),Le.length>0&&_classPrivateFieldLooseBase$7(this,_startIfAutoProceed)[_startIfAutoProceed]()}removeFiles(_e,Te){const{files:Le,currentUploads:Fe}=this.getState(),Ae={...Le},Be={...Fe},Ie=Object.create(null);_e.forEach(je=>{Le[je]&&(Ie[je]=Le[je],delete Ae[je])});function Ne(je){return Ie[je]===void 0}Object.keys(Be).forEach(je=>{const Ve=Fe[je].fileIDs.filter(Ne);if(Ve.length===0){delete Be[je];return}const{capabilities:Ze}=this.getState();if(Ve.length!==Fe[je].fileIDs.length&&!Ze.individualCancellation)throw new Error("individualCancellation is disabled");Be[je]={...Fe[je],fileIDs:Ve}});const ze={currentUploads:Be,files:Ae};Object.keys(Ae).length===0&&(ze.allowNewUpload=!0,ze.error=null,ze.recoveredState=null),this.setState(ze),this.calculateTotalProgress();const Ue=Object.keys(Ie);Ue.forEach(je=>{this.emit("file-removed",Ie[je],Te)}),Ue.length>5?this.log(`Removed ${Ue.length} files`):this.log(`Removed files: ${Ue.join(", ")}`)}removeFile(_e,Te){Te===void 0&&(Te=null),this.removeFiles([_e],Te)}pauseResume(_e){if(!this.getState().capabilities.resumableUploads||this.getFile(_e).uploadComplete)return;const Le=!(this.getFile(_e).isPaused||!1);return this.setFileState(_e,{isPaused:Le}),this.emit("upload-pause",_e,Le),Le}pauseAll(){const _e={...this.getState().files};Object.keys(_e).filter(Le=>!_e[Le].progress.uploadComplete&&_e[Le].progress.uploadStarted).forEach(Le=>{const Fe={..._e[Le],isPaused:!0};_e[Le]=Fe}),this.setState({files:_e}),this.emit("pause-all")}resumeAll(){const _e={...this.getState().files};Object.keys(_e).filter(Le=>!_e[Le].progress.uploadComplete&&_e[Le].progress.uploadStarted).forEach(Le=>{const Fe={..._e[Le],isPaused:!1,error:null};_e[Le]=Fe}),this.setState({files:_e}),this.emit("resume-all")}retryAll(){const _e={...this.getState().files},Te=Object.keys(_e).filter(Fe=>_e[Fe].error);if(Te.forEach(Fe=>{const Ae={..._e[Fe],isPaused:!1,error:null};_e[Fe]=Ae}),this.setState({files:_e,error:null}),this.emit("retry-all",Te),Te.length===0)return Promise.resolve({successful:[],failed:[]});const Le=_classPrivateFieldLooseBase$7(this,_createUpload)[_createUpload](Te,{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$7(this,_runUpload)[_runUpload](Le)}cancelAll(_e){let{reason:Te="user"}=_e===void 0?{}:_e;if(this.emit("cancel-all",{reason:Te}),Te==="user"){const{files:Le}=this.getState(),Fe=Object.keys(Le);Fe.length&&this.removeFiles(Fe,"cancel-all"),this.setState(getDefaultUploadState())}}retryUpload(_e){this.setFileState(_e,{error:null,isPaused:!1}),this.emit("upload-retry",_e);const Te=_classPrivateFieldLooseBase$7(this,_createUpload)[_createUpload]([_e],{forceAllowNewUpload:!0});return _classPrivateFieldLooseBase$7(this,_runUpload)[_runUpload](Te)}logout(){this.iteratePlugins(_e=>{_e.provider&&_e.provider.logout&&_e.provider.logout()})}calculateTotalProgress(){const Te=this.getFiles().filter(ze=>ze.progress.uploadStarted||ze.progress.preprocess||ze.progress.postprocess);if(Te.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const Le=Te.filter(ze=>ze.progress.bytesTotal!=null),Fe=Te.filter(ze=>ze.progress.bytesTotal==null);if(Le.length===0){const ze=Te.length*100,Ue=Fe.reduce((Ve,Ze)=>Ve+Ze.progress.percentage,0),je=Math.round(Ue/ze*100);this.setState({totalProgress:je});return}let Ae=Le.reduce((ze,Ue)=>ze+Ue.progress.bytesTotal,0);const Be=Ae/Le.length;Ae+=Be*Fe.length;let Ie=0;Le.forEach(ze=>{Ie+=ze.progress.bytesUploaded}),Fe.forEach(ze=>{Ie+=Be*(ze.progress.percentage||0)/100});let Ne=Ae===0?0:Math.round(Ie/Ae*100);Ne>100&&(Ne=100),this.setState({totalProgress:Ne}),this.emit("progress",Ne)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(_e,Te){if(typeof _e!="function"){const Be=`Expected a plugin class, but got ${_e===null?"null":typeof _e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(Be)}const Le=new _e(this,Te),Fe=Le.id;if(!Fe)throw new Error("Your plugin must have an id");if(!Le.type)throw new Error("Your plugin must have a type");const Ae=this.getPlugin(Fe);if(Ae){const Be=`Already found a plugin named '${Ae.id}'. Tried to use: '${Fe}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(Be)}return _e.VERSION&&this.log(`Using ${Fe} v${_e.VERSION}`),Le.type in _classPrivateFieldLooseBase$7(this,_plugins)[_plugins]?_classPrivateFieldLooseBase$7(this,_plugins)[_plugins][Le.type].push(Le):_classPrivateFieldLooseBase$7(this,_plugins)[_plugins][Le.type]=[Le],Le.install(),this.emit("plugin-added",Le),this}getPlugin(_e){for(const Te of Object.values(_classPrivateFieldLooseBase$7(this,_plugins)[_plugins])){const Le=Te.find(Fe=>Fe.id===_e);if(Le!=null)return Le}}[_Symbol$for$1](_e){return _classPrivateFieldLooseBase$7(this,_plugins)[_plugins][_e]}iteratePlugins(_e){Object.values(_classPrivateFieldLooseBase$7(this,_plugins)[_plugins]).flat(1).forEach(_e)}removePlugin(_e){this.log(`Removing plugin ${_e.id}`),this.emit("plugin-remove",_e),_e.uninstall&&_e.uninstall();const Te=_classPrivateFieldLooseBase$7(this,_plugins)[_plugins][_e.type],Le=Te.findIndex(Be=>Be.id===_e.id);Le!==-1&&Te.splice(Le,1);const Ae={plugins:{...this.getState().plugins,[_e.id]:void 0}};this.setState(Ae)}close(_e){let{reason:Te}=_e===void 0?{}:_e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:Te}),_classPrivateFieldLooseBase$7(this,_storeUnsubscribe)[_storeUnsubscribe](),this.iteratePlugins(Le=>{this.removePlugin(Le)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",_classPrivateFieldLooseBase$7(this,_updateOnlineStatus)[_updateOnlineStatus]),window.removeEventListener("offline",_classPrivateFieldLooseBase$7(this,_updateOnlineStatus)[_updateOnlineStatus]))}hideInfo(){const{info:_e}=this.getState();this.setState({info:_e.slice(1)}),this.emit("info-hidden")}info(_e,Te,Le){Te===void 0&&(Te="info"),Le===void 0&&(Le=3e3);const Fe=typeof _e=="object";this.setState({info:[...this.getState().info,{type:Te,message:Fe?_e.message:_e,details:Fe?_e.details:null}]}),setTimeout(()=>this.hideInfo(),Le),this.emit("info-visible")}log(_e,Te){const{logger:Le}=this.opts;switch(Te){case"error":Le.error(_e);break;case"warning":Le.warn(_e);break;default:Le.debug(_e);break}}registerRequestClient(_e,Te){_classPrivateFieldLooseBase$7(this,_requestClientById)[_requestClientById].set(_e,Te)}getRequestClientForFile(_e){if(!_e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${_e.id}`);const Te=_classPrivateFieldLooseBase$7(this,_requestClientById)[_requestClientById].get(_e.remote.requestClientId);if(Te==null)throw new Error(`requestClientId "${_e.remote.requestClientId}" not registered for file "${_e.id}"`);return Te}restore(_e){return this.log(`Core: attempting to restore upload "${_e}"`),this.getState().currentUploads[_e]?_classPrivateFieldLooseBase$7(this,_runUpload)[_runUpload](_e):(_classPrivateFieldLooseBase$7(this,_removeUpload)[_removeUpload](_e),Promise.reject(new Error("Nonexistent upload")))}[_Symbol$for2](){return _classPrivateFieldLooseBase$7(this,_createUpload)[_createUpload](...arguments)}addResultData(_e,Te){if(!_classPrivateFieldLooseBase$7(this,_getUpload)[_getUpload](_e)){this.log(`Not setting result for an upload that has been removed: ${_e}`);return}const{currentUploads:Le}=this.getState(),Fe={...Le[_e],result:{...Le[_e].result,...Te}};this.setState({currentUploads:{...Le,[_e]:Fe}})}upload(){var _e;(_e=_classPrivateFieldLooseBase$7(this,_plugins)[_plugins].uploader)!=null&&_e.length||this.log("No uploader type plugins are used","warning");let{files:Te}=this.getState();const Le=this.opts.onBeforeUpload(Te);return Le===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(Le&&typeof Le=="object"&&(Te=Le,this.setState({files:Te})),Promise.resolve().then(()=>_classPrivateFieldLooseBase$7(this,_restricter)[_restricter].validateMinNumberOfFiles(Te)).catch(Fe=>{throw _classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit]([Fe]),Fe}).then(()=>{if(!_classPrivateFieldLooseBase$7(this,_checkRequiredMetaFields)[_checkRequiredMetaFields](Te))throw new RestrictionError(this.i18n("missingRequiredMetaField"))}).catch(Fe=>{throw Fe}).then(()=>{const{currentUploads:Fe}=this.getState(),Ae=Object.values(Fe).flatMap(Ne=>Ne.fileIDs),Be=[];Object.keys(Te).forEach(Ne=>{const ze=this.getFile(Ne);!ze.progress.uploadStarted&&Ae.indexOf(Ne)===-1&&Be.push(ze.id)});const Ie=_classPrivateFieldLooseBase$7(this,_createUpload)[_createUpload](Be);return _classPrivateFieldLooseBase$7(this,_runUpload)[_runUpload](Ie)}).catch(Fe=>{throw this.emit("error",Fe),this.log(Fe,"error"),Fe}))}};function _informAndEmit2($e){for(const Ae of $e){const{file:Be,isRestriction:Ie}=Ae;Ie?this.emit("restriction-failed",Be,Ae):this.emit("error",Ae),this.log(Ae,"warning")}const _e=$e.filter(Ae=>Ae.isUserFacing),Te=4,Le=_e.slice(0,Te),Fe=_e.slice(Te);Le.forEach(Ae=>{let{message:Be,details:Ie=""}=Ae;this.info({message:Be,details:Ie},"error",this.opts.infoTimeout)}),Fe.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:Fe.length})})}function _checkRequiredMetaFieldsOnFile2($e){const{missingFields:_e,error:Te}=_classPrivateFieldLooseBase$7(this,_restricter)[_restricter].getMissingRequiredMetaFields($e);return _e.length>0?(this.setFileState($e.id,{missingRequiredMetaFields:_e}),this.log(Te.message),this.emit("restriction-failed",$e,Te),!1):!0}function _checkRequiredMetaFields2($e){let _e=!0;for(const Te of Object.values($e))_classPrivateFieldLooseBase$7(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](Te)||(_e=!1);return _e}function _assertNewUploadAllowed2($e){const{allowNewUpload:_e}=this.getState();if(_e===!1){const Te=new RestrictionError(this.i18n("noMoreFilesAllowed"),{file:$e});throw _classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit]([Te]),Te}}function _transformFile2($e){const _e=$e instanceof File?{name:$e.name,type:$e.type,size:$e.size,data:$e}:$e,Te=getFileType(_e),Le=getFileName(Te,_e),Fe=getFileNameAndExtension(Le).extension,Ae=!!_e.isRemote,Be=getSafeFileId(_e),Ie=_e.meta||{};Ie.name=Le,Ie.type=Te;const Ne=Number.isFinite(_e.data.size)?_e.data.size:null;return{source:_e.source||"",id:Be,name:Le,extension:Fe||"",meta:{...this.getState().meta,...Ie},type:Te,data:_e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:Ne,uploadComplete:!1,uploadStarted:null},size:Ne,isRemote:Ae,remote:_e.remote||"",preview:_e.preview}}function _startIfAutoProceed2(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch($e=>{$e.isRestriction||this.log($e.stack||$e.message||$e)})},4))}function _checkAndUpdateFileState2($e){const{files:_e}=this.getState(),Te={..._e},Le=[],Fe=[];for(const Be of $e)try{var Ae;let Ie=_classPrivateFieldLooseBase$7(this,_transformFile)[_transformFile](Be);const Ne=(Ae=_e[Ie.id])==null?void 0:Ae.isGhost;if(Ne){const{isGhost:Ue,...je}=_e[Ie.id];Ie={...je,data:Be.data},this.log(`Replaced the blob in the restored ghost file: ${Ie.name}, ${Ie.id}`)}const ze=this.opts.onBeforeFileAdded(Ie,Te);if(!ze&&this.checkIfFileAlreadyExists(Ie.id))throw new RestrictionError(this.i18n("noDuplicates",{fileName:Ie.name}),{file:Be});if(ze===!1&&!Ne)throw new RestrictionError("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:Be});typeof ze=="object"&&ze!==null&&(Ie=ze),_classPrivateFieldLooseBase$7(this,_restricter)[_restricter].validateSingleFile(Ie),Te[Ie.id]=Ie,Le.push(Ie)}catch(Ie){Fe.push(Ie)}try{_classPrivateFieldLooseBase$7(this,_restricter)[_restricter].validateAggregateRestrictions(Object.values(_e),Le)}catch(Be){return Fe.push(Be),{nextFilesState:_e,validFilesToAdd:[],errors:Fe}}return{nextFilesState:Te,validFilesToAdd:Le,errors:Fe}}function _addListeners2(){const $e=(Le,Fe,Ae)=>{let Be=Le.message||"Unknown error";Le.details&&(Be+=` ${Le.details}`),this.setState({error:Be}),Fe!=null&&Fe.id in this.getState().files&&this.setFileState(Fe.id,{error:Be,response:Ae})};this.on("error",$e),this.on("upload-error",(Le,Fe,Ae)=>{if($e(Fe,Le,Ae),typeof Fe=="object"&&Fe.message){this.log(Fe.message,"error");const Be=new Error(this.i18n("failedToUpload",{file:Le==null?void 0:Le.name}));Be.isUserFacing=!0,Be.details=Fe.message,Fe.details&&(Be.details+=` ${Fe.details}`),_classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit]([Be])}else _classPrivateFieldLooseBase$7(this,_informAndEmit)[_informAndEmit]([Fe])});let _e;this.on("upload-stalled",(Le,Fe)=>{const{message:Ae}=Le,Be=Fe.map(Ie=>Ie.meta.name).join(", ");_e||(this.info({message:Ae,details:Be},"warning",this.opts.infoTimeout),_e=setTimeout(()=>{_e=null},this.opts.infoTimeout)),this.log(`${Ae} ${Be}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const Te=Le=>{const Fe=Le.filter(Be=>{const Ie=Be!=null&&this.getFile(Be.id);return Ie||this.log(`Not setting progress for a file that has been removed: ${Be==null?void 0:Be.id}`),Ie}),Ae=Object.fromEntries(Fe.map(Be=>[Be.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:Be.size}}]));this.patchFilesState(Ae)};this.on("upload-start",Le=>{Le.forEach(Fe=>{this.emit("upload-started",Fe)}),Te(Le)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(Le,Fe)=>{if(Le==null||!this.getFile(Le.id)){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}const Ae=this.getFile(Le.id).progress;this.setFileState(Le.id,{progress:{...Ae,postprocess:_classPrivateFieldLooseBase$7(this,_postProcessors)[_postProcessors].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:Ae.bytesTotal},response:Fe,uploadURL:Fe.uploadURL,isPaused:!1}),Le.size==null&&this.setFileState(Le.id,{size:Fe.bytesUploaded||Ae.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(Le,Fe)=>{if(Le==null||!this.getFile(Le.id)){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}this.setFileState(Le.id,{progress:{...this.getFile(Le.id).progress,preprocess:Fe}})}),this.on("preprocess-complete",Le=>{if(Le==null||!this.getFile(Le.id)){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}const Fe={...this.getState().files};Fe[Le.id]={...Fe[Le.id],progress:{...Fe[Le.id].progress}},delete Fe[Le.id].progress.preprocess,this.setState({files:Fe})}),this.on("postprocess-progress",(Le,Fe)=>{if(Le==null||!this.getFile(Le.id)){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}this.setFileState(Le.id,{progress:{...this.getState().files[Le.id].progress,postprocess:Fe}})}),this.on("postprocess-complete",Le=>{if(Le==null||!this.getFile(Le.id)){this.log(`Not setting progress for a file that has been removed: ${Le==null?void 0:Le.id}`);return}const Fe={...this.getState().files};Fe[Le.id]={...Fe[Le.id],progress:{...Fe[Le.id].progress}},delete Fe[Le.id].progress.postprocess,this.setState({files:Fe})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",Le=>{Le&&_classPrivateFieldLooseBase$7(this,_checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](Le)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",_classPrivateFieldLooseBase$7(this,_updateOnlineStatus)[_updateOnlineStatus]),window.addEventListener("offline",_classPrivateFieldLooseBase$7(this,_updateOnlineStatus)[_updateOnlineStatus]),setTimeout(_classPrivateFieldLooseBase$7(this,_updateOnlineStatus)[_updateOnlineStatus],3e3))}function _createUpload2($e,_e){_e===void 0&&(_e={});const{forceAllowNewUpload:Te=!1}=_e,{allowNewUpload:Le,currentUploads:Fe}=this.getState();if(!Le&&!Te)throw new Error("Cannot create a new upload: already uploading.");const Ae=nanoid$2();return this.emit("upload",{id:Ae,fileIDs:$e}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...Fe,[Ae]:{fileIDs:$e,step:0,result:{}}}}),Ae}function _getUpload2($e){const{currentUploads:_e}=this.getState();return _e[$e]}function _removeUpload2($e){const _e={...this.getState().currentUploads};delete _e[$e],this.setState({currentUploads:_e})}async function _runUpload2($e){const _e=()=>{const{currentUploads:Ae}=this.getState();return Ae[$e]};let Te=_e();const Le=[..._classPrivateFieldLooseBase$7(this,_preProcessors)[_preProcessors],..._classPrivateFieldLooseBase$7(this,_uploaders)[_uploaders],..._classPrivateFieldLooseBase$7(this,_postProcessors)[_postProcessors]];try{for(let Ae=Te.step||0;Ae<Le.length&&Te;Ae++){const Be=Le[Ae];this.setState({currentUploads:{...this.getState().currentUploads,[$e]:{...Te,step:Ae}}});const{fileIDs:Ie}=Te;await Be(Ie,$e),Te=_e()}}catch(Ae){throw _classPrivateFieldLooseBase$7(this,_removeUpload)[_removeUpload]($e),Ae}if(Te){Te.fileIDs.forEach(Ne=>{const ze=this.getFile(Ne);ze&&ze.progress.postprocess&&this.emit("postprocess-complete",ze)});const Ae=Te.fileIDs.map(Ne=>this.getFile(Ne)),Be=Ae.filter(Ne=>!Ne.error),Ie=Ae.filter(Ne=>Ne.error);await this.addResultData($e,{successful:Be,failed:Ie,uploadID:$e}),Te=_e()}let Fe;return Te&&(Fe=Te.result,this.emit("complete",Fe),_classPrivateFieldLooseBase$7(this,_removeUpload)[_removeUpload]($e)),Fe==null&&this.log(`Not setting result for an upload that has been removed: ${$e}`),Fe}Uppy$1.VERSION=packageJson$6.version;function isDOMElement($e){return typeof $e!="object"||$e===null||!("nodeType"in $e)?!1:$e.nodeType===Node.ELEMENT_NODE}function findDOMElement($e,_e){return _e===void 0&&(_e=document),typeof $e=="string"?_e.querySelector($e):isDOMElement($e)?$e:null}function getTextDirection($e){for(var _e;$e&&!$e.dir;)$e=$e.parentNode;return(_e=$e)==null?void 0:_e.dir}class BasePlugin{constructor(_e,Te){Te===void 0&&(Te={}),this.uppy=_e,this.opts=Te}getPluginState(){const{plugins:_e}=this.uppy.getState();return _e[this.id]||{}}setPluginState(_e){const{plugins:Te}=this.uppy.getState();this.uppy.setState({plugins:{...Te,[this.id]:{...Te[this.id],..._e}}})}setOptions(_e){this.opts={...this.opts,..._e},this.setPluginState(),this.i18nInit()}i18nInit(){const _e=Le=>this.uppy.log(`Missing i18n string: ${Le}`,"error"),Te=new Translator([this.defaultLocale,this.uppy.locale,this.opts.locale],{onMissingKey:_e});this.i18n=Te.translate.bind(Te),this.i18nArray=Te.translateArray.bind(Te),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function _classPrivateFieldLooseBase$6($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$6=0;function _classPrivateFieldLooseKey$6($e){return"__private_"+id$6+++"_"+$e}function debounce($e){let _e=null,Te=null;return function(){for(var Le=arguments.length,Fe=new Array(Le),Ae=0;Ae<Le;Ae++)Fe[Ae]=arguments[Ae];return Te=Fe,_e||(_e=Promise.resolve().then(()=>(_e=null,$e(...Te)))),_e}}var _updateUI=_classPrivateFieldLooseKey$6("updateUI");class UIPlugin extends BasePlugin{constructor(){super(...arguments),Object.defineProperty(this,_updateUI,{writable:!0,value:void 0})}getTargetPlugin(_e){let Te;if(typeof _e=="object"&&_e instanceof UIPlugin)Te=_e;else if(typeof _e=="function"){const Le=_e;this.uppy.iteratePlugins(Fe=>{Fe instanceof Le&&(Te=Fe)})}return Te}mount(_e,Te){const Le=Te.id,Fe=findDOMElement(_e);if(Fe){this.isTargetDOMEl=!0;const Ie=document.createElement("div");return Ie.classList.add("uppy-Root"),_classPrivateFieldLooseBase$6(this,_updateUI)[_updateUI]=debounce(Ne=>{this.uppy.getPlugin(this.id)&&(q$2(this.render(Ne),Ie),this.afterUpdate())}),this.uppy.log(`Installing ${Le} to a DOM element '${_e}'`),this.opts.replaceTargetContent&&(Fe.innerHTML=""),q$2(this.render(this.uppy.getState()),Ie),this.el=Ie,Fe.appendChild(Ie),Ie.dir=this.opts.direction||getTextDirection(Ie)||"ltr",this.onMount(),this.el}const Ae=this.getTargetPlugin(_e);if(Ae)return this.uppy.log(`Installing ${Le} to ${Ae.id}`),this.parent=Ae,this.el=Ae.addTarget(Te),this.onMount(),this.el;this.uppy.log(`Not installing ${Le}`);let Be=`Invalid target option given to ${Le}.`;throw typeof _e=="function"?Be+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":Be+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(Be)}update(_e){if(this.el!=null){var Te,Le;(Te=(Le=_classPrivateFieldLooseBase$6(this,_updateUI))[_updateUI])==null||Te.call(Le,_e)}}unmount(){if(this.isTargetDOMEl){var _e;(_e=this.el)==null||_e.remove()}this.onUnmount()}onMount(){}onUnmount(){}}let urlAlphabet$1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid$1=($e=21)=>{let _e="",Te=$e;for(;Te--;)_e+=urlAlphabet$1[Math.random()*64|0];return _e};function _classPrivateFieldLooseBase$5($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$5=0;function _classPrivateFieldLooseKey$5($e){return"__private_"+id$5+++"_"+$e}var _uppy=_classPrivateFieldLooseKey$5("uppy"),_events=_classPrivateFieldLooseKey$5("events");class EventManager{constructor(_e){Object.defineProperty(this,_uppy,{writable:!0,value:void 0}),Object.defineProperty(this,_events,{writable:!0,value:[]}),_classPrivateFieldLooseBase$5(this,_uppy)[_uppy]=_e}on(_e,Te){return _classPrivateFieldLooseBase$5(this,_events)[_events].push([_e,Te]),_classPrivateFieldLooseBase$5(this,_uppy)[_uppy].on(_e,Te)}remove(){for(const[_e,Te]of _classPrivateFieldLooseBase$5(this,_events)[_events].splice(0))_classPrivateFieldLooseBase$5(this,_uppy)[_uppy].off(_e,Te)}onFilePause(_e,Te){this.on("upload-pause",(Le,Fe)=>{_e===Le&&Te(Fe)})}onFileRemove(_e,Te){this.on("file-removed",Le=>{_e===Le.id&&Te(Le.id)})}onPause(_e,Te){this.on("upload-pause",(Le,Fe)=>{_e===Le&&Te(Fe)})}onRetry(_e,Te){this.on("upload-retry",Le=>{_e===Le&&Te()})}onRetryAll(_e,Te){this.on("retry-all",()=>{_classPrivateFieldLooseBase$5(this,_uppy)[_uppy].getFile(_e)&&Te()})}onPauseAll(_e,Te){this.on("pause-all",()=>{_classPrivateFieldLooseBase$5(this,_uppy)[_uppy].getFile(_e)&&Te()})}onCancelAll(_e,Te){var Le=this;this.on("cancel-all",function(){_classPrivateFieldLooseBase$5(Le,_uppy)[_uppy].getFile(_e)&&Te(...arguments)})}onResumeAll(_e,Te){this.on("resume-all",()=>{_classPrivateFieldLooseBase$5(this,_uppy)[_uppy].getFile(_e)&&Te()})}}function _classPrivateFieldLooseBase$4($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$4=0;function _classPrivateFieldLooseKey$4($e){return"__private_"+id$4+++"_"+$e}var _aliveTimer=_classPrivateFieldLooseKey$4("aliveTimer"),_isDone=_classPrivateFieldLooseKey$4("isDone"),_onTimedOut=_classPrivateFieldLooseKey$4("onTimedOut"),_timeout=_classPrivateFieldLooseKey$4("timeout");class ProgressTimeout{constructor(_e,Te){Object.defineProperty(this,_aliveTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_isDone,{writable:!0,value:!1}),Object.defineProperty(this,_onTimedOut,{writable:!0,value:void 0}),Object.defineProperty(this,_timeout,{writable:!0,value:void 0}),_classPrivateFieldLooseBase$4(this,_timeout)[_timeout]=_e,_classPrivateFieldLooseBase$4(this,_onTimedOut)[_onTimedOut]=Te}progress(){_classPrivateFieldLooseBase$4(this,_isDone)[_isDone]||_classPrivateFieldLooseBase$4(this,_timeout)[_timeout]>0&&(clearTimeout(_classPrivateFieldLooseBase$4(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$4(this,_aliveTimer)[_aliveTimer]=setTimeout(_classPrivateFieldLooseBase$4(this,_onTimedOut)[_onTimedOut],_classPrivateFieldLooseBase$4(this,_timeout)[_timeout]))}done(){_classPrivateFieldLooseBase$4(this,_isDone)[_isDone]||(clearTimeout(_classPrivateFieldLooseBase$4(this,_aliveTimer)[_aliveTimer]),_classPrivateFieldLooseBase$4(this,_aliveTimer)[_aliveTimer]=void 0,_classPrivateFieldLooseBase$4(this,_isDone)[_isDone]=!0)}}function _classPrivateFieldLooseBase$3($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$3=0;function _classPrivateFieldLooseKey$3($e){return"__private_"+id$3+++"_"+$e}function createCancelError($e){return new Error("Cancelled",{cause:$e})}function abortOn($e){if($e!=null){var _e;const Te=()=>this.abort($e.reason);$e.addEventListener("abort",Te,{once:!0});const Le=()=>{$e.removeEventListener("abort",Te)};(_e=this.then)==null||_e.call(this,Le,Le)}return this}var _activeRequests=_classPrivateFieldLooseKey$3("activeRequests"),_queuedHandlers=_classPrivateFieldLooseKey$3("queuedHandlers"),_paused=_classPrivateFieldLooseKey$3("paused"),_pauseTimer=_classPrivateFieldLooseKey$3("pauseTimer"),_downLimit=_classPrivateFieldLooseKey$3("downLimit"),_upperLimit=_classPrivateFieldLooseKey$3("upperLimit"),_rateLimitingTimer=_classPrivateFieldLooseKey$3("rateLimitingTimer"),_call=_classPrivateFieldLooseKey$3("call"),_queueNext=_classPrivateFieldLooseKey$3("queueNext"),_next=_classPrivateFieldLooseKey$3("next"),_queue=_classPrivateFieldLooseKey$3("queue"),_dequeue=_classPrivateFieldLooseKey$3("dequeue"),_resume=_classPrivateFieldLooseKey$3("resume"),_increaseLimit=_classPrivateFieldLooseKey$3("increaseLimit");class RateLimitedQueue{constructor(_e){Object.defineProperty(this,_dequeue,{value:_dequeue2}),Object.defineProperty(this,_queue,{value:_queue2}),Object.defineProperty(this,_next,{value:_next2}),Object.defineProperty(this,_queueNext,{value:_queueNext2}),Object.defineProperty(this,_call,{value:_call2}),Object.defineProperty(this,_activeRequests,{writable:!0,value:0}),Object.defineProperty(this,_queuedHandlers,{writable:!0,value:[]}),Object.defineProperty(this,_paused,{writable:!0,value:!1}),Object.defineProperty(this,_pauseTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_downLimit,{writable:!0,value:1}),Object.defineProperty(this,_upperLimit,{writable:!0,value:void 0}),Object.defineProperty(this,_rateLimitingTimer,{writable:!0,value:void 0}),Object.defineProperty(this,_resume,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,_increaseLimit,{writable:!0,value:()=>{if(_classPrivateFieldLooseBase$3(this,_paused)[_paused]){_classPrivateFieldLooseBase$3(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$3(this,_increaseLimit)[_increaseLimit],0);return}_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit]=this.limit,this.limit=Math.ceil((_classPrivateFieldLooseBase$3(this,_upperLimit)[_upperLimit]+_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit])/2);for(let Te=_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit];Te<=this.limit;Te++)_classPrivateFieldLooseBase$3(this,_queueNext)[_queueNext]();_classPrivateFieldLooseBase$3(this,_upperLimit)[_upperLimit]-_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit]>3?_classPrivateFieldLooseBase$3(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$3(this,_increaseLimit)[_increaseLimit],2e3):_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit]=Math.floor(_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit]/2)}}),typeof _e!="number"||_e===0?this.limit=1/0:this.limit=_e}run(_e,Te){return!_classPrivateFieldLooseBase$3(this,_paused)[_paused]&&_classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]<this.limit?_classPrivateFieldLooseBase$3(this,_call)[_call](_e):_classPrivateFieldLooseBase$3(this,_queue)[_queue](_e,Te)}wrapSyncFunction(_e,Te){var Le=this;return function(){for(var Fe=arguments.length,Ae=new Array(Fe),Be=0;Be<Fe;Be++)Ae[Be]=arguments[Be];const Ie=Le.run(()=>(_e(...Ae),queueMicrotask(()=>Ie.done()),()=>{}),Te);return{abortOn,abort(){Ie.abort()}}}}wrapPromiseFunction(_e,Te){var Le=this;return function(){for(var Fe=arguments.length,Ae=new Array(Fe),Be=0;Be<Fe;Be++)Ae[Be]=arguments[Be];let Ie;const Ne=new Promise((ze,Ue)=>{Ie=Le.run(()=>{let je,Ve;try{Ve=Promise.resolve(_e(...Ae))}catch(Ze){Ve=Promise.reject(Ze)}return Ve.then(Ze=>{je?Ue(je):(Ie.done(),ze(Ze))},Ze=>{je?Ue(je):(Ie.done(),Ue(Ze))}),Ze=>{je=createCancelError(Ze)}},Te)});return Ne.abort=ze=>{Ie.abort(ze)},Ne.abortOn=abortOn,Ne}}resume(){_classPrivateFieldLooseBase$3(this,_paused)[_paused]=!1,clearTimeout(_classPrivateFieldLooseBase$3(this,_pauseTimer)[_pauseTimer]);for(let _e=0;_e<this.limit;_e++)_classPrivateFieldLooseBase$3(this,_queueNext)[_queueNext]()}pause(_e){_e===void 0&&(_e=null),_classPrivateFieldLooseBase$3(this,_paused)[_paused]=!0,clearTimeout(_classPrivateFieldLooseBase$3(this,_pauseTimer)[_pauseTimer]),_e!=null&&(_classPrivateFieldLooseBase$3(this,_pauseTimer)[_pauseTimer]=setTimeout(_classPrivateFieldLooseBase$3(this,_resume)[_resume],_e))}rateLimit(_e){clearTimeout(_classPrivateFieldLooseBase$3(this,_rateLimitingTimer)[_rateLimitingTimer]),this.pause(_e),this.limit>1&&Number.isFinite(this.limit)&&(_classPrivateFieldLooseBase$3(this,_upperLimit)[_upperLimit]=this.limit-1,this.limit=_classPrivateFieldLooseBase$3(this,_downLimit)[_downLimit],_classPrivateFieldLooseBase$3(this,_rateLimitingTimer)[_rateLimitingTimer]=setTimeout(_classPrivateFieldLooseBase$3(this,_increaseLimit)[_increaseLimit],_e))}get isPaused(){return _classPrivateFieldLooseBase$3(this,_paused)[_paused]}}function _call2($e){_classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]+=1;let _e=!1,Te;try{Te=$e()}catch(Le){throw _classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]-=1,Le}return{abort:Le=>{_e||(_e=!0,_classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]-=1,Te==null||Te(Le),_classPrivateFieldLooseBase$3(this,_queueNext)[_queueNext]())},done:()=>{_e||(_e=!0,_classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]-=1,_classPrivateFieldLooseBase$3(this,_queueNext)[_queueNext]())}}}function _queueNext2(){queueMicrotask(()=>_classPrivateFieldLooseBase$3(this,_next)[_next]())}function _next2(){if(_classPrivateFieldLooseBase$3(this,_paused)[_paused]||_classPrivateFieldLooseBase$3(this,_activeRequests)[_activeRequests]>=this.limit||_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].length===0)return;const $e=_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].shift(),_e=_classPrivateFieldLooseBase$3(this,_call)[_call]($e.fn);$e.abort=_e.abort,$e.done=_e.done}function _queue2($e,_e){_e===void 0&&(_e={});const Te={fn:$e,priority:_e.priority||0,abort:()=>{_classPrivateFieldLooseBase$3(this,_dequeue)[_dequeue](Te)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},Le=_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].findIndex(Fe=>Te.priority>Fe.priority);return Le===-1?_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].push(Te):_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].splice(Le,0,Te),Te}function _dequeue2($e){const _e=_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].indexOf($e);_e!==-1&&_classPrivateFieldLooseBase$3(this,_queuedHandlers)[_queuedHandlers].splice(_e,1)}const internalRateLimitedQueue=Symbol("__queue");class NetworkError extends Error{constructor(_e,Te){Te===void 0&&(Te=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=_e,this.isNetworkError=!0,this.request=Te}}function isNetworkError($e){return $e?$e.readyState!==0&&$e.readyState!==4||$e.status===0:!1}function filterNonFailedFiles($e){const _e=Te=>"error"in Te&&!!Te.error;return $e.filter(Te=>!_e(Te))}function filterFilesToEmitUploadStarted($e){return $e.filter(_e=>{var Te;return!((Te=_e.progress)!=null&&Te.uploadStarted)||!_e.isRestored})}const locale$3={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function _classPrivateFieldLooseBase$2($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$2=0;function _classPrivateFieldLooseKey$2($e){return"__private_"+id$2+++"_"+$e}const packageJson$5={version:"3.6.0"};function buildResponseError($e,_e){let Te=_e;return Te||(Te=new Error("Upload error")),typeof Te=="string"&&(Te=new Error(Te)),Te instanceof Error||(Te=Object.assign(new Error("Upload error"),{data:Te})),isNetworkError($e)?(Te=new NetworkError(Te,$e),Te):(Te.request=$e,Te)}function setTypeInBlob($e){return $e.data.slice(0,$e.data.size,$e.meta.type)}var _uploadLocalFile=_classPrivateFieldLooseKey$2("uploadLocalFile"),_uploadBundle=_classPrivateFieldLooseKey$2("uploadBundle"),_getCompanionClientArgs=_classPrivateFieldLooseKey$2("getCompanionClientArgs"),_uploadFiles=_classPrivateFieldLooseKey$2("uploadFiles"),_handleUpload=_classPrivateFieldLooseKey$2("handleUpload");class XHRUpload extends BasePlugin{constructor(_e,Te){super(_e,Te),Object.defineProperty(this,_uploadFiles,{value:_uploadFiles2}),Object.defineProperty(this,_getCompanionClientArgs,{value:_getCompanionClientArgs2}),Object.defineProperty(this,_uploadBundle,{value:_uploadBundle2}),Object.defineProperty(this,_uploadLocalFile,{value:_uploadLocalFile2}),Object.defineProperty(this,_handleUpload,{writable:!0,value:async Fe=>{if(Fe.length===0){this.uppy.log("[XHRUpload] No files to upload!");return}this.opts.limit===0&&!this.opts[internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const Ae=this.uppy.getFilesByIds(Fe),Be=filterNonFailedFiles(Ae),Ie=filterFilesToEmitUploadStarted(Be);if(this.uppy.emit("upload-start",Ie),this.opts.bundle){if(Be.some(ze=>ze.isRemote))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");await _classPrivateFieldLooseBase$2(this,_uploadBundle)[_uploadBundle](Be)}else await _classPrivateFieldLooseBase$2(this,_uploadFiles)[_uploadFiles](Be)}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=locale$3;const Le={formData:!0,fieldName:Te.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(Fe){let Ae={};try{Ae=JSON.parse(Fe)}catch(Be){_e.log(Be)}return Ae},getResponseError(Fe,Ae){let Be=new Error("Upload error");return isNetworkError(Ae)&&(Be=new NetworkError(Be,Ae)),Be},validateStatus(Fe){return Fe>=200&&Fe<300}};if(this.opts={...Le,...Te},this.i18nInit(),internalRateLimitedQueue in this.opts?this.requests=this.opts[internalRateLimitedQueue]:this.requests=new RateLimitedQueue(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((Te==null?void 0:Te.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null)}getOptions(_e){const Te=this.uppy.getState().xhrUpload,{headers:Le}=this.opts,Fe={...this.opts,...Te||{},..._e.xhrUpload||{},headers:{}};return typeof Le=="function"?Fe.headers=Le(_e):Object.assign(Fe.headers,this.opts.headers),Te&&Object.assign(Fe.headers,Te.headers),_e.xhrUpload&&Object.assign(Fe.headers,_e.xhrUpload.headers),Fe}addMetadata(_e,Te,Le){(Array.isArray(Le.allowedMetaFields)?Le.allowedMetaFields:Object.keys(Te)).forEach(Ae=>{Array.isArray(Te[Ae])?Te[Ae].forEach(Be=>_e.append(Ae,Be)):_e.append(Ae,Te[Ae])})}createFormDataUpload(_e,Te){const Le=new FormData;this.addMetadata(Le,_e.meta,Te);const Fe=setTypeInBlob(_e);return _e.name?Le.append(Te.fieldName,Fe,_e.meta.name):Le.append(Te.fieldName,Fe),Le}createBundledUpload(_e,Te){const Le=new FormData,{meta:Fe}=this.uppy.getState();return this.addMetadata(Le,Fe,Te),_e.forEach(Ae=>{const Be=this.getOptions(Ae),Ie=setTypeInBlob(Ae);Ae.name?Le.append(Be.fieldName,Ie,Ae.name):Le.append(Be.fieldName,Ie)}),Le}install(){if(this.opts.bundle){const{capabilities:_e}=this.uppy.getState();this.uppy.setState({capabilities:{..._e,individualCancellation:!1}})}this.uppy.addUploader(_classPrivateFieldLooseBase$2(this,_handleUpload)[_handleUpload])}uninstall(){if(this.opts.bundle){const{capabilities:_e}=this.uppy.getState();this.uppy.setState({capabilities:{..._e,individualCancellation:!0}})}this.uppy.removeUploader(_classPrivateFieldLooseBase$2(this,_handleUpload)[_handleUpload])}}async function _uploadLocalFile2($e,_e,Te){const Le=this.getOptions($e);return this.uppy.log(`uploading ${_e} of ${Te}`),new Promise((Fe,Ae)=>{const Be=Le.formData?this.createFormDataUpload($e,Le):$e.data,Ie=new XMLHttpRequest,Ne=new EventManager(this.uppy);this.uploaderEvents[$e.id]=Ne;let ze;const Ue=new ProgressTimeout(Le.timeout,()=>{const Ve=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(Le.timeout/1e3)}));this.uppy.emit("upload-stalled",Ve,[$e])}),je=nanoid$1();Ie.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${je} started`)}),Ie.upload.addEventListener("progress",Ve=>{this.uppy.log(`[XHRUpload] ${je} progress: ${Ve.loaded} / ${Ve.total}`),Ue.progress(),Ve.lengthComputable&&this.uppy.emit("upload-progress",$e,{uploader:this,bytesUploaded:Ve.loaded,bytesTotal:Ve.total})}),Ie.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${je} finished`),Ue.done(),ze.done(),this.uploaderEvents[$e.id]&&(this.uploaderEvents[$e.id].remove(),this.uploaderEvents[$e.id]=null),Le.validateStatus(Ie.status,Ie.responseText,Ie)){const Je=Le.getResponseData(Ie.responseText,Ie),ei=Je[Le.responseUrlFieldName],ni={status:Ie.status,body:Je,uploadURL:ei};return this.uppy.emit("upload-success",$e,ni),ei&&this.uppy.log(`Download ${$e.name} from ${ei}`),Fe($e)}const Ve=Le.getResponseData(Ie.responseText,Ie),Ze=buildResponseError(Ie,Le.getResponseError(Ie.responseText,Ie)),Ke={status:Ie.status,body:Ve};return this.uppy.emit("upload-error",$e,Ze,Ke),Ae(Ze)}),Ie.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${je} errored`),Ue.done(),ze.done(),this.uploaderEvents[$e.id]&&(this.uploaderEvents[$e.id].remove(),this.uploaderEvents[$e.id]=null);const Ve=buildResponseError(Ie,Le.getResponseError(Ie.responseText,Ie));return this.uppy.emit("upload-error",$e,Ve),Ae(Ve)}),Ie.open(Le.method.toUpperCase(),Le.endpoint,!0),Ie.withCredentials=Le.withCredentials,Le.responseType!==""&&(Ie.responseType=Le.responseType),ze=this.requests.run(()=>{const Ve=this.getOptions($e);return Object.keys(Ve.headers).forEach(Ze=>{Ie.setRequestHeader(Ze,Ve.headers[Ze])}),Ie.send(Be),()=>{Ue.done(),Ie.abort()}}),Ne.onFileRemove($e.id,()=>{ze.abort(),Ae(new Error("File removed"))}),Ne.onCancelAll($e.id,Ve=>{let{reason:Ze}=Ve;Ze==="user"&&ze.abort(),Ae(new Error("Upload cancelled"))})})}function _uploadBundle2($e){return new Promise((_e,Te)=>{const{endpoint:Le}=this.opts,{method:Fe}=this.opts,Ae=this.uppy.getState().xhrUpload,Be=this.createBundledUpload($e,{...this.opts,...Ae||{}}),Ie=new XMLHttpRequest,Ne=Ue=>{$e.forEach(je=>{this.uppy.emit("upload-error",je,Ue)})},ze=new ProgressTimeout(this.opts.timeout,()=>{const Ue=new Error(this.i18n("uploadStalled",{seconds:Math.ceil(this.opts.timeout/1e3)}));this.uppy.emit("upload-stalled",Ue,$e)});Ie.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),ze.progress()}),Ie.upload.addEventListener("progress",Ue=>{ze.progress(),Ue.lengthComputable&&$e.forEach(je=>{this.uppy.emit("upload-progress",je,{uploader:this,bytesUploaded:Ue.loaded/Ue.total*je.size,bytesTotal:je.size})})}),Ie.addEventListener("load",Ue=>{if(ze.done(),this.opts.validateStatus(Ue.target.status,Ie.responseText,Ie)){const Ve=this.opts.getResponseData(Ie.responseText,Ie),Ze={status:Ue.target.status,body:Ve};return $e.forEach(Ke=>{this.uppy.emit("upload-success",Ke,Ze)}),_e()}const je=this.opts.getResponseError(Ie.responseText,Ie)||new Error("Upload error");return je.request=Ie,Ne(je),Te(je)}),Ie.addEventListener("error",()=>{ze.done();const Ue=this.opts.getResponseError(Ie.responseText,Ie)||new Error("Upload error");return Ne(Ue),Te(Ue)}),this.uppy.on("cancel-all",function(Ue){let{reason:je}=Ue===void 0?{}:Ue;je==="user"&&(ze.done(),Ie.abort())}),Ie.open(Fe.toUpperCase(),Le,!0),Ie.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(Ie.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(Ue=>{Ie.setRequestHeader(Ue,this.opts.headers[Ue])}),Ie.send(Be)})}function _getCompanionClientArgs2($e){const _e=this.getOptions($e),Te=Array.isArray(_e.allowedMetaFields)?_e.allowedMetaFields:Object.keys($e.meta);return{...$e.remote.body,protocol:"multipart",endpoint:_e.endpoint,size:$e.data.size,fieldname:_e.fieldName,metadata:Object.fromEntries(Te.map(Le=>[Le,$e.meta[Le]])),httpMethod:_e.method,useFormData:_e.formData,headers:_e.headers}}async function _uploadFiles2($e){await Promise.allSettled($e.map((_e,Te)=>{const Le=parseInt(Te,10)+1,Fe=$e.length;if(_e.isRemote){const Ae=()=>this.requests,Be=new AbortController,Ie=ze=>{ze.id===_e.id&&Be.abort()};this.uppy.on("file-removed",Ie);const Ne=this.uppy.getRequestClientForFile(_e).uploadRemoteFile(_e,_classPrivateFieldLooseBase$2(this,_getCompanionClientArgs)[_getCompanionClientArgs](_e),{signal:Be.signal,getQueue:Ae});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",Ie)},{priority:-1})(),Ne}return _classPrivateFieldLooseBase$2(this,_uploadLocalFile)[_uploadLocalFile](_e,Le,Fe)}))}XHRUpload.VERSION=packageJson$5.version;const DATA_URL_PATTERN=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function dataURItoBlob($e,_e,Te){var Le,Fe;const Ae=DATA_URL_PATTERN.exec($e),Be=(Le=(Fe=_e.mimeType)!=null?Fe:Ae==null?void 0:Ae[1])!=null?Le:"plain/text";let Ie;if((Ae==null?void 0:Ae[2])!=null){const Ne=atob(decodeURIComponent(Ae[3])),ze=new Uint8Array(Ne.length);for(let Ue=0;Ue<Ne.length;Ue++)ze[Ue]=Ne.charCodeAt(Ue);Ie=[ze]}else(Ae==null?void 0:Ae[3])!=null&&(Ie=[decodeURIComponent(Ae[3])]);return Te?new File(Ie,_e.name||"",{type:Be}):new Blob(Ie,{type:Be})}function isObjectURL($e){return $e.startsWith("blob:")}function isPreviewSupported($e){return $e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test($e):!1}function e$2($e,_e,Te){return _e in $e?Object.defineProperty($e,_e,{value:Te,enumerable:!0,configurable:!0,writable:!0}):$e[_e]=Te,$e}var t$2=typeof self<"u"?self:global;const s$2=typeof navigator<"u",i$2=s$2&&typeof HTMLImageElement>"u",n$1=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),r$2=t$2.Buffer,a$2=!!r$2,h$2=$e=>$e!==void 0;function f$2($e){return $e===void 0||($e instanceof Map?$e.size===0:Object.values($e).filter(h$2).length===0)}function l$2($e){let _e=new Error($e);throw delete _e.stack,_e}function o$2($e){let _e=function(Te){let Le=0;return Te.ifd0.enabled&&(Le+=1024),Te.exif.enabled&&(Le+=2048),Te.makerNote&&(Le+=2048),Te.userComment&&(Le+=1024),Te.gps.enabled&&(Le+=512),Te.interop.enabled&&(Le+=100),Te.ifd1.enabled&&(Le+=1024),Le+2048}($e);return $e.jfif.enabled&&(_e+=50),$e.xmp.enabled&&(_e+=2e4),$e.iptc.enabled&&(_e+=14e3),$e.icc.enabled&&(_e+=6e3),_e}const u$2=$e=>String.fromCharCode.apply(null,$e),d$2=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let c$2=class Ar{static from(_e,Te){return _e instanceof this&&_e.le===Te?_e:new Ar(_e,void 0,void 0,Te)}constructor(_e,Te=0,Le,Fe){if(typeof Fe=="boolean"&&(this.le=Fe),Array.isArray(_e)&&(_e=new Uint8Array(_e)),_e===0)this.byteOffset=0,this.byteLength=0;else if(_e instanceof ArrayBuffer){Le===void 0&&(Le=_e.byteLength-Te);let Ae=new DataView(_e,Te,Le);this._swapDataView(Ae)}else if(_e instanceof Uint8Array||_e instanceof DataView||_e instanceof Ar){Le===void 0&&(Le=_e.byteLength-Te),(Te+=_e.byteOffset)+Le>_e.byteOffset+_e.byteLength&&l$2("Creating view outside of available memory in ArrayBuffer");let Ae=new DataView(_e.buffer,Te,Le);this._swapDataView(Ae)}else if(typeof _e=="number"){let Ae=new DataView(new ArrayBuffer(_e));this._swapDataView(Ae)}else l$2("Invalid input argument for BufferView: "+_e)}_swapArrayBuffer(_e){this._swapDataView(new DataView(_e))}_swapBuffer(_e){this._swapDataView(new DataView(_e.buffer,_e.byteOffset,_e.byteLength))}_swapDataView(_e){this.dataView=_e,this.buffer=_e.buffer,this.byteOffset=_e.byteOffset,this.byteLength=_e.byteLength}_lengthToEnd(_e){return this.byteLength-_e}set(_e,Te,Le=Ar){return _e instanceof DataView||_e instanceof Ar?_e=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength):_e instanceof ArrayBuffer&&(_e=new Uint8Array(_e)),_e instanceof Uint8Array||l$2("BufferView.set(): Invalid data argument."),this.toUint8().set(_e,Te),new Le(this,Te,_e.byteLength)}subarray(_e,Te){return Te=Te||this._lengthToEnd(_e),new Ar(this,_e,Te)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(_e,Te){return new Uint8Array(this.buffer,this.byteOffset+_e,Te)}getString(_e=0,Te=this.byteLength){return Fe=this.getUint8Array(_e,Te),d$2?d$2.decode(Fe):a$2?Buffer.from(Fe).toString("utf8"):decodeURIComponent(escape(u$2(Fe)));var Fe}getLatin1String(_e=0,Te=this.byteLength){let Le=this.getUint8Array(_e,Te);return u$2(Le)}getUnicodeString(_e=0,Te=this.byteLength){const Le=[];for(let Fe=0;Fe<Te&&_e+Fe<this.byteLength;Fe+=2)Le.push(this.getUint16(_e+Fe));return u$2(Le)}getInt8(_e){return this.dataView.getInt8(_e)}getUint8(_e){return this.dataView.getUint8(_e)}getInt16(_e,Te=this.le){return this.dataView.getInt16(_e,Te)}getInt32(_e,Te=this.le){return this.dataView.getInt32(_e,Te)}getUint16(_e,Te=this.le){return this.dataView.getUint16(_e,Te)}getUint32(_e,Te=this.le){return this.dataView.getUint32(_e,Te)}getFloat32(_e,Te=this.le){return this.dataView.getFloat32(_e,Te)}getFloat64(_e,Te=this.le){return this.dataView.getFloat64(_e,Te)}getFloat(_e,Te=this.le){return this.dataView.getFloat32(_e,Te)}getDouble(_e,Te=this.le){return this.dataView.getFloat64(_e,Te)}getUintBytes(_e,Te,Le){switch(Te){case 1:return this.getUint8(_e,Le);case 2:return this.getUint16(_e,Le);case 4:return this.getUint32(_e,Le);case 8:return this.getUint64&&this.getUint64(_e,Le)}}getUint(_e,Te,Le){switch(Te){case 8:return this.getUint8(_e,Le);case 16:return this.getUint16(_e,Le);case 32:return this.getUint32(_e,Le);case 64:return this.getUint64&&this.getUint64(_e,Le)}}toString(_e){return this.dataView.toString(_e,this.constructor.name)}ensureChunk(){}};function p$2($e,_e){l$2(`${$e} '${_e}' was not loaded, try using full build of exifr.`)}let g$3=class extends Map{constructor(_e){super(),this.kind=_e}get(_e,Te){return this.has(_e)||p$2(this.kind,_e),Te&&(_e in Te||function(Le,Fe){l$2(`Unknown ${Le} '${Fe}'.`)}(this.kind,_e),Te[_e].enabled||p$2(this.kind,_e)),super.get(_e)}keyList(){return Array.from(this.keys())}};var m$2=new g$3("file parser"),y$1=new g$3("segment parser"),b$2=new g$3("file reader");let w$2=t$2.fetch;function k$2($e,_e){return(Te=$e).startsWith("data:")||Te.length>1e4?v$2($e,_e,"base64"):n$1&&$e.includes("://")?O$2($e,_e,"url",S$1):n$1?v$2($e,_e,"fs"):s$2?O$2($e,_e,"url",S$1):void l$2("Invalid input argument");var Te}async function O$2($e,_e,Te,Le){return b$2.has(Te)?v$2($e,_e,Te):Le?async function(Fe,Ae){let Be=await Ae(Fe);return new c$2(Be)}($e,Le):void l$2(`Parser ${Te} is not loaded`)}async function v$2($e,_e,Te){let Le=new(b$2.get(Te))($e,_e);return await Le.read(),Le}const S$1=$e=>w$2($e).then(_e=>_e.arrayBuffer()),A$1=$e=>new Promise((_e,Te)=>{let Le=new FileReader;Le.onloadend=()=>_e(Le.result||new ArrayBuffer),Le.onerror=Te,Le.readAsArrayBuffer($e)}),B$3=new Map,V$2=new Map,I$2=new Map,L$3=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],T$3=["jfif","xmp","icc","iptc","ihdr"],z$3=["tiff",...T$3],P$1=["ifd0","ifd1","exif","gps","interop"],F$3=[...z$3,...P$1],j$2=["makerNote","userComment"],E$2=["translateKeys","translateValues","reviveValues","multiSegment"],M$2=[...E$2,"sanitize","mergeOutput","silentErrors"];let _$1=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},D$1=class extends _$1{get needed(){return this.enabled||this.deps.size>0}constructor(_e,Te,Le,Fe){if(super(),e$2(this,"enabled",!1),e$2(this,"skip",new Set),e$2(this,"pick",new Set),e$2(this,"deps",new Set),e$2(this,"translateKeys",!1),e$2(this,"translateValues",!1),e$2(this,"reviveValues",!1),this.key=_e,this.enabled=Te,this.parse=this.enabled,this.applyInheritables(Fe),this.canBeFiltered=P$1.includes(_e),this.canBeFiltered&&(this.dict=B$3.get(_e)),Le!==void 0)if(Array.isArray(Le))this.parse=this.enabled=!0,this.canBeFiltered&&Le.length>0&&this.translateTagSet(Le,this.pick);else if(typeof Le=="object"){if(this.enabled=!0,this.parse=Le.parse!==!1,this.canBeFiltered){let{pick:Ae,skip:Be}=Le;Ae&&Ae.length>0&&this.translateTagSet(Ae,this.pick),Be&&Be.length>0&&this.translateTagSet(Be,this.skip)}this.applyInheritables(Le)}else Le===!0||Le===!1?this.parse=this.enabled=Le:l$2(`Invalid options argument: ${Le}`)}applyInheritables(_e){let Te,Le;for(Te of E$2)Le=_e[Te],Le!==void 0&&(this[Te]=Le)}translateTagSet(_e,Te){if(this.dict){let Le,Fe,{tagKeys:Ae,tagValues:Be}=this.dict;for(Le of _e)typeof Le=="string"?(Fe=Be.indexOf(Le),Fe===-1&&(Fe=Ae.indexOf(Number(Le))),Fe!==-1&&Te.add(Number(Ae[Fe]))):Te.add(Le)}else for(let Le of _e)Te.add(Le)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X$2(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X$2(this.pick,this.deps)}};var N$1={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$$2=new Map;let R$1=class extends _$1{static useCached(_e){let Te=$$2.get(_e);return Te!==void 0||(Te=new this(_e),$$2.set(_e,Te)),Te}constructor(_e){super(),_e===!0?this.setupFromTrue():_e===void 0?this.setupFromUndefined():Array.isArray(_e)?this.setupFromArray(_e):typeof _e=="object"?this.setupFromObject(_e):l$2(`Invalid options argument ${_e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=s$2?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let _e;for(_e of L$3)this[_e]=N$1[_e];for(_e of M$2)this[_e]=N$1[_e];for(_e of j$2)this[_e]=N$1[_e];for(_e of F$3)this[_e]=new D$1(_e,N$1[_e],void 0,this)}setupFromTrue(){let _e;for(_e of L$3)this[_e]=N$1[_e];for(_e of M$2)this[_e]=N$1[_e];for(_e of j$2)this[_e]=!0;for(_e of F$3)this[_e]=new D$1(_e,!0,void 0,this)}setupFromArray(_e){let Te;for(Te of L$3)this[Te]=N$1[Te];for(Te of M$2)this[Te]=N$1[Te];for(Te of j$2)this[Te]=N$1[Te];for(Te of F$3)this[Te]=new D$1(Te,!1,void 0,this);this.setupGlobalFilters(_e,void 0,P$1)}setupFromObject(_e){let Te;for(Te of(P$1.ifd0=P$1.ifd0||P$1.image,P$1.ifd1=P$1.ifd1||P$1.thumbnail,Object.assign(this,_e),L$3))this[Te]=W$1(_e[Te],N$1[Te]);for(Te of M$2)this[Te]=W$1(_e[Te],N$1[Te]);for(Te of j$2)this[Te]=W$1(_e[Te],N$1[Te]);for(Te of z$3)this[Te]=new D$1(Te,N$1[Te],_e[Te],this);for(Te of P$1)this[Te]=new D$1(Te,N$1[Te],_e[Te],this.tiff);this.setupGlobalFilters(_e.pick,_e.skip,P$1,F$3),_e.tiff===!0?this.batchEnableWithBool(P$1,!0):_e.tiff===!1?this.batchEnableWithUserValue(P$1,_e):Array.isArray(_e.tiff)?this.setupGlobalFilters(_e.tiff,void 0,P$1):typeof _e.tiff=="object"&&this.setupGlobalFilters(_e.tiff.pick,_e.tiff.skip,P$1)}batchEnableWithBool(_e,Te){for(let Le of _e)this[Le].enabled=Te}batchEnableWithUserValue(_e,Te){for(let Le of _e){let Fe=Te[Le];this[Le].enabled=Fe!==!1&&Fe!==void 0}}setupGlobalFilters(_e,Te,Le,Fe=Le){if(_e&&_e.length){for(let Be of Fe)this[Be].enabled=!1;let Ae=K$2(_e,Le);for(let[Be,Ie]of Ae)X$2(this[Be].pick,Ie),this[Be].enabled=!0}else if(Te&&Te.length){let Ae=K$2(Te,Le);for(let[Be,Ie]of Ae)X$2(this[Be].skip,Ie)}}filterNestedSegmentTags(){let{ifd0:_e,exif:Te,xmp:Le,iptc:Fe,icc:Ae}=this;this.makerNote?Te.deps.add(37500):Te.skip.add(37500),this.userComment?Te.deps.add(37510):Te.skip.add(37510),Le.enabled||_e.skip.add(700),Fe.enabled||_e.skip.add(33723),Ae.enabled||_e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:_e,exif:Te,gps:Le,interop:Fe}=this;Fe.needed&&(Te.deps.add(40965),_e.deps.add(40965)),Te.needed&&_e.deps.add(34665),Le.needed&&_e.deps.add(34853),this.tiff.enabled=P$1.some(Ae=>this[Ae].enabled===!0)||this.makerNote||this.userComment;for(let Ae of P$1)this[Ae].finalizeFilters()}get onlyTiff(){return!T$3.map(_e=>this[_e].enabled).some(_e=>_e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let _e of z$3)this[_e].enabled&&!y$1.has(_e)&&p$2("segment parser",_e)}};function K$2($e,_e){let Te,Le,Fe,Ae,Be=[];for(Fe of _e){for(Ae of(Te=B$3.get(Fe),Le=[],Te))($e.includes(Ae[0])||$e.includes(Ae[1]))&&Le.push(Ae[0]);Le.length&&Be.push([Fe,Le])}return Be}function W$1($e,_e){return $e!==void 0?$e:_e!==void 0?_e:void 0}function X$2($e,_e){for(let Te of _e)$e.add(Te)}e$2(R$1,"default",N$1);let H$2=class{constructor(_e){e$2(this,"parsers",{}),e$2(this,"output",{}),e$2(this,"errors",[]),e$2(this,"pushToErrors",Te=>this.errors.push(Te)),this.options=R$1.useCached(_e)}async read(_e){this.file=await function(Te,Le){return typeof Te=="string"?k$2(Te,Le):s$2&&!i$2&&Te instanceof HTMLImageElement?k$2(Te.src,Le):Te instanceof Uint8Array||Te instanceof ArrayBuffer||Te instanceof DataView?new c$2(Te):s$2&&Te instanceof Blob?O$2(Te,Le,"blob",A$1):void l$2("Invalid input argument")}(_e,this.options)}setup(){if(this.fileParser)return;let{file:_e}=this,Te=_e.getUint16(0);for(let[Le,Fe]of m$2)if(Fe.canHandle(_e,Te))return this.fileParser=new Fe(this.options,this.file,this.parsers),_e[Le]=!0;this.file.close&&this.file.close(),l$2("Unknown file format")}async parse(){let{output:_e,errors:Te}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),Te.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&Te.length>0&&(_e.errors=Te),f$2(Le=_e)?void 0:Le;var Le}async executeParsers(){let{output:_e}=this;await this.fileParser.parse();let Te=Object.values(this.parsers).map(async Le=>{let Fe=await Le.parse();Le.assignToOutput(_e,Fe)});this.options.silentErrors&&(Te=Te.map(Le=>Le.catch(this.pushToErrors))),await Promise.all(Te)}async extractThumbnail(){this.setup();let{options:_e,file:Te}=this,Le=y$1.get("tiff",_e);var Fe;if(Te.tiff?Fe={start:0,type:"tiff"}:Te.jpeg&&(Fe=await this.fileParser.getOrFindSegment("tiff")),Fe===void 0)return;let Ae=await this.fileParser.ensureSegmentChunk(Fe),Be=this.parsers.tiff=new Le(Ae,_e,Te),Ie=await Be.extractThumbnail();return Te.close&&Te.close(),Ie}},J$2=class{static findPosition(_e,Te){let Le=_e.getUint16(Te+2)+2,Fe=typeof this.headerLength=="function"?this.headerLength(_e,Te,Le):this.headerLength,Ae=Te+Fe,Be=Le-Fe;return{offset:Te,length:Le,headerLength:Fe,start:Ae,size:Be,end:Ae+Be}}static parse(_e,Te={}){return new this(_e,new R$1({[this.type]:Te}),_e).parse()}normalizeInput(_e){return _e instanceof c$2?_e:new c$2(_e)}constructor(_e,Te={},Le){e$2(this,"errors",[]),e$2(this,"raw",new Map),e$2(this,"handleError",Fe=>{if(!this.options.silentErrors)throw Fe;this.errors.push(Fe.message)}),this.chunk=this.normalizeInput(_e),this.file=Le,this.type=this.constructor.type,this.globalOptions=this.options=Te,this.localOptions=Te[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(_e,Te){let Le=I$2.get(Te),Fe=V$2.get(Te),Ae=B$3.get(Te),Be=this.options[Te],Ie=Be.reviveValues&&!!Le,Ne=Be.translateValues&&!!Fe,ze=Be.translateKeys&&!!Ae,Ue={};for(let[je,Ve]of _e)Ie&&Le.has(je)?Ve=Le.get(je)(Ve):Ne&&Fe.has(je)&&(Ve=this.translateValue(Ve,Fe.get(je))),ze&&Ae.has(je)&&(je=Ae.get(je)||je),Ue[je]=Ve;return Ue}translateValue(_e,Te){return Te[_e]||Te.DEFAULT||_e}assignToOutput(_e,Te){this.assignObjectToOutput(_e,this.constructor.type,Te)}assignObjectToOutput(_e,Te,Le){if(this.globalOptions.mergeOutput)return Object.assign(_e,Le);_e[Te]?Object.assign(_e[Te],Le):_e[Te]=Le}};e$2(J$2,"headerLength",4),e$2(J$2,"type",void 0),e$2(J$2,"multiSegment",!1),e$2(J$2,"canHandle",()=>!1);function q$1($e){return $e===192||$e===194||$e===196||$e===219||$e===221||$e===218||$e===254}function Q$2($e){return $e>=224&&$e<=239}function Z$2($e,_e,Te){for(let[Le,Fe]of y$1)if(Fe.canHandle($e,_e,Te))return Le}let ee$1=class extends class{constructor(_e,Te,Le){e$2(this,"errors",[]),e$2(this,"ensureSegmentChunk",async Fe=>{let Ae=Fe.start,Be=Fe.size||65536;if(this.file.chunked)if(this.file.available(Ae,Be))Fe.chunk=this.file.subarray(Ae,Be);else try{Fe.chunk=await this.file.readChunk(Ae,Be)}catch(Ie){l$2(`Couldn't read segment: ${JSON.stringify(Fe)}. ${Ie.message}`)}else this.file.byteLength>Ae+Be?Fe.chunk=this.file.subarray(Ae,Be):Fe.size===void 0?Fe.chunk=this.file.subarray(Ae):l$2("Segment unreachable: "+JSON.stringify(Fe));return Fe.chunk}),this.extendOptions&&this.extendOptions(_e),this.options=_e,this.file=Te,this.parsers=Le}injectSegment(_e,Te){this.options[_e].enabled&&this.createParser(_e,Te)}createParser(_e,Te){let Le=new(y$1.get(_e))(Te,this.options,this.file);return this.parsers[_e]=Le}createParsers(_e){for(let Te of _e){let{type:Le,chunk:Fe}=Te,Ae=this.options[Le];if(Ae&&Ae.enabled){let Be=this.parsers[Le];Be&&Be.append||Be||this.createParser(Le,Fe)}}}async readSegments(_e){let Te=_e.map(this.ensureSegmentChunk);await Promise.all(Te)}}{constructor(..._e){super(..._e),e$2(this,"appSegments",[]),e$2(this,"jpegSegments",[]),e$2(this,"unknownSegments",[])}static canHandle(_e,Te){return Te===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(_e){_e===!0?(this.findAll=!0,this.wanted=new Set(y$1.keyList())):(_e=_e===void 0?y$1.keyList().filter(Te=>this.options[Te].enabled):_e.filter(Te=>this.options[Te].enabled&&y$1.has(Te)),this.findAll=!1,this.remaining=new Set(_e),this.wanted=new Set(_e)),this.unfinishedMultiSegment=!1}async findAppSegments(_e=0,Te){this.setupSegmentFinderArgs(Te);let{file:Le,findAll:Fe,wanted:Ae,remaining:Be}=this;if(!Fe&&this.file.chunked&&(Fe=Array.from(Ae).some(Ie=>{let Ne=y$1.get(Ie),ze=this.options[Ie];return Ne.multiSegment&&ze.multiSegment}),Fe&&await this.file.readWhole()),_e=this.findAppSegmentsInRange(_e,Le.byteLength),!this.options.onlyTiff&&Le.chunked){let Ie=!1;for(;Be.size>0&&!Ie&&(Le.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:Ne}=Le,ze=this.appSegments.some(Ue=>!this.file.available(Ue.offset||Ue.start,Ue.length||Ue.size));if(Ie=_e>Ne&&!ze?!await Le.readNextChunk(_e):!await Le.readNextChunk(Ne),(_e=this.findAppSegmentsInRange(_e,Le.byteLength))===void 0)return}}}findAppSegmentsInRange(_e,Te){Te-=2;let Le,Fe,Ae,Be,Ie,Ne,{file:ze,findAll:Ue,wanted:je,remaining:Ve,options:Ze}=this;for(;_e<Te;_e++)if(ze.getUint8(_e)===255){if(Le=ze.getUint8(_e+1),Q$2(Le)){if(Fe=ze.getUint16(_e+2),Ae=Z$2(ze,_e,Fe),Ae&&je.has(Ae)&&(Be=y$1.get(Ae),Ie=Be.findPosition(ze,_e),Ne=Ze[Ae],Ie.type=Ae,this.appSegments.push(Ie),!Ue&&(Be.multiSegment&&Ne.multiSegment?(this.unfinishedMultiSegment=Ie.chunkNumber<Ie.chunkCount,this.unfinishedMultiSegment||Ve.delete(Ae)):Ve.delete(Ae),Ve.size===0)))break;Ze.recordUnknownSegments&&(Ie=J$2.findPosition(ze,_e),Ie.marker=Le,this.unknownSegments.push(Ie)),_e+=Fe+1}else if(q$1(Le)){if(Fe=ze.getUint16(_e+2),Le===218&&Ze.stopAfterSos!==!1)return;Ze.recordJpegSegments&&this.jpegSegments.push({offset:_e,length:Fe,marker:Le}),_e+=Fe+1}}return _e}mergeMultiSegments(){if(!this.appSegments.some(Te=>Te.multiSegment))return;let _e=function(Te,Le){let Fe,Ae,Be,Ie=new Map;for(let Ne=0;Ne<Te.length;Ne++)Fe=Te[Ne],Ae=Fe[Le],Ie.has(Ae)?Be=Ie.get(Ae):Ie.set(Ae,Be=[]),Be.push(Fe);return Array.from(Ie)}(this.appSegments,"type");this.mergedAppSegments=_e.map(([Te,Le])=>{let Fe=y$1.get(Te,this.options);return Fe.handleMultiSegments?{type:Te,chunk:Fe.handleMultiSegments(Le)}:Le[0]})}getSegment(_e){return this.appSegments.find(Te=>Te.type===_e)}async getOrFindSegment(_e){let Te=this.getSegment(_e);return Te===void 0&&(await this.findAppSegments(0,[_e]),Te=this.getSegment(_e)),Te}};e$2(ee$1,"type","jpeg"),m$2.set("jpeg",ee$1);const te$1=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];let se$1=class extends J$2{parseHeader(){var _e=this.chunk.getUint16();_e===18761?this.le=!0:_e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(_e,Te,Le=new Map){let{pick:Fe,skip:Ae}=this.options[Te];Fe=new Set(Fe);let Be=Fe.size>0,Ie=Ae.size===0,Ne=this.chunk.getUint16(_e);_e+=2;for(let ze=0;ze<Ne;ze++){let Ue=this.chunk.getUint16(_e);if(Be){if(Fe.has(Ue)&&(Le.set(Ue,this.parseTag(_e,Ue,Te)),Fe.delete(Ue),Fe.size===0))break}else!Ie&&Ae.has(Ue)||Le.set(Ue,this.parseTag(_e,Ue,Te));_e+=12}return Le}parseTag(_e,Te,Le){let{chunk:Fe}=this,Ae=Fe.getUint16(_e+2),Be=Fe.getUint32(_e+4),Ie=te$1[Ae];if(Ie*Be<=4?_e+=8:_e=Fe.getUint32(_e+8),(Ae<1||Ae>13)&&l$2(`Invalid TIFF value type. block: ${Le.toUpperCase()}, tag: ${Te.toString(16)}, type: ${Ae}, offset ${_e}`),_e>Fe.byteLength&&l$2(`Invalid TIFF value offset. block: ${Le.toUpperCase()}, tag: ${Te.toString(16)}, type: ${Ae}, offset ${_e} is outside of chunk size ${Fe.byteLength}`),Ae===1)return Fe.getUint8Array(_e,Be);if(Ae===2)return(Ne=function(ze){for(;ze.endsWith("\0");)ze=ze.slice(0,-1);return ze}(Ne=Fe.getString(_e,Be)).trim())===""?void 0:Ne;var Ne;if(Ae===7)return Fe.getUint8Array(_e,Be);if(Be===1)return this.parseTagValue(Ae,_e);{let ze=new(function(je){switch(je){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(Ae))(Be),Ue=Ie;for(let je=0;je<Be;je++)ze[je]=this.parseTagValue(Ae,_e),_e+=Ue;return ze}}parseTagValue(_e,Te){let{chunk:Le}=this;switch(_e){case 1:return Le.getUint8(Te);case 3:return Le.getUint16(Te);case 4:return Le.getUint32(Te);case 5:return Le.getUint32(Te)/Le.getUint32(Te+4);case 6:return Le.getInt8(Te);case 8:return Le.getInt16(Te);case 9:return Le.getInt32(Te);case 10:return Le.getInt32(Te)/Le.getInt32(Te+4);case 11:return Le.getFloat(Te);case 12:return Le.getDouble(Te);case 13:return Le.getUint32(Te);default:l$2(`Invalid tiff type ${_e}`)}}},ie$1=class extends se$1{static canHandle(_e,Te){return _e.getUint8(Te+1)===225&&_e.getUint32(Te+4)===1165519206&&_e.getUint16(Te+8)===0}async parse(){this.parseHeader();let{options:_e}=this;return _e.ifd0.enabled&&await this.parseIfd0Block(),_e.exif.enabled&&await this.safeParse("parseExifBlock"),_e.gps.enabled&&await this.safeParse("parseGpsBlock"),_e.interop.enabled&&await this.safeParse("parseInteropBlock"),_e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(_e){let Te=this[_e]();return Te.catch!==void 0&&(Te=Te.catch(this.handleError)),Te}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let _e=this.chunk.getUint16(this.ifd0Offset),Te=this.ifd0Offset+2+12*_e;this.ifd1Offset=this.chunk.getUint32(Te)}}parseBlock(_e,Te){let Le=new Map;return this[Te]=Le,this.parseTags(_e,Te,Le),Le}async parseIfd0Block(){if(this.ifd0)return;let{file:_e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l$2("Malformed EXIF data"),!_e.chunked&&this.ifd0Offset>_e.byteLength&&l$2(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${_e.byteLength}`),_e.tiff&&await _e.ensureChunk(this.ifd0Offset,o$2(this.options));let Te=this.parseBlock(this.ifd0Offset,"ifd0");return Te.size!==0?(this.exifOffset=Te.get(34665),this.interopOffset=Te.get(40965),this.gpsOffset=Te.get(34853),this.xmp=Te.get(700),this.iptc=Te.get(33723),this.icc=Te.get(34675),this.options.sanitize&&(Te.delete(34665),Te.delete(40965),Te.delete(34853),Te.delete(700),Te.delete(33723),Te.delete(34675)),Te):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o$2(this.options));let _e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=_e.get(40965)),this.makerNote=_e.get(37500),this.userComment=_e.get(37510),this.options.sanitize&&(_e.delete(40965),_e.delete(37500),_e.delete(37510)),this.unpack(_e,41728),this.unpack(_e,41729),_e}unpack(_e,Te){let Le=_e.get(Te);Le&&Le.length===1&&_e.set(Te,Le[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let _e=this.parseBlock(this.gpsOffset,"gps");return _e&&_e.has(2)&&_e.has(4)&&(_e.set("latitude",ne$1(..._e.get(2),_e.get(1))),_e.set("longitude",ne$1(..._e.get(4),_e.get(3)))),_e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(_e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||_e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let _e=this.ifd1.get(513),Te=this.ifd1.get(514);return this.chunk.getUint8Array(_e,Te)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let _e,Te,Le,Fe={};for(Te of P$1)if(_e=this[Te],!f$2(_e))if(Le=this.canTranslate?this.translateBlock(_e,Te):Object.fromEntries(_e),this.options.mergeOutput){if(Te==="ifd1")continue;Object.assign(Fe,Le)}else Fe[Te]=Le;return this.makerNote&&(Fe.makerNote=this.makerNote),this.userComment&&(Fe.userComment=this.userComment),Fe}assignToOutput(_e,Te){if(this.globalOptions.mergeOutput)Object.assign(_e,Te);else for(let[Le,Fe]of Object.entries(Te))this.assignObjectToOutput(_e,Le,Fe)}};function ne$1($e,_e,Te,Le){var Fe=$e+_e/60+Te/3600;return Le!=="S"&&Le!=="W"||(Fe*=-1),Fe}e$2(ie$1,"type","tiff"),e$2(ie$1,"headerLength",10),y$1.set("tiff",ie$1);const ae$1={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},ae$1,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},ae$1,{tiff:!1,ifd1:!0,mergeOutput:!1});const de$1=Object.assign({},ae$1,{firstChunkSize:4e4,ifd0:[274]});async function ce$1($e){let _e=new H$2(de$1);await _e.read($e);let Te=await _e.parse();if(Te&&Te.ifd0)return Te.ifd0[274]}const pe$1=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge$1=!0,me$1=!0;if(typeof navigator=="object"){let $e=navigator.userAgent;if($e.includes("iPad")||$e.includes("iPhone")){let _e=$e.match(/OS (\d+)_(\d+)/);if(_e){let[,Te,Le]=_e;ge$1=Number(Te)+.1*Number(Le)<13.4,me$1=!1}}else if($e.includes("OS X 10")){let[,_e]=$e.match(/OS X 10[_.](\d+)/);ge$1=me$1=Number(_e)<15}if($e.includes("Chrome/")){let[,_e]=$e.match(/Chrome\/(\d+)/);ge$1=me$1=Number(_e)<81}else if($e.includes("Firefox/")){let[,_e]=$e.match(/Firefox\/(\d+)/);ge$1=me$1=Number(_e)<77}}async function ye$1($e){let _e=await ce$1($e);return Object.assign({canvas:ge$1,css:me$1},pe$1[_e])}let be$1=class extends c$2{constructor(..._e){super(..._e),e$2(this,"ranges",new we$1),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(_e,Te,Le){if(_e===0&&this.byteLength===0&&Le){let Fe=new DataView(Le.buffer||Le,Le.byteOffset,Le.byteLength);this._swapDataView(Fe)}else{let Fe=_e+Te;if(Fe>this.byteLength){let{dataView:Ae}=this._extend(Fe);this._swapDataView(Ae)}}}_extend(_e){let Te;Te=a$2?r$2.allocUnsafe(_e):new Uint8Array(_e);let Le=new DataView(Te.buffer,Te.byteOffset,Te.byteLength);return Te.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:Te,dataView:Le}}subarray(_e,Te,Le=!1){return Te=Te||this._lengthToEnd(_e),Le&&this._tryExtend(_e,Te),this.ranges.add(_e,Te),super.subarray(_e,Te)}set(_e,Te,Le=!1){Le&&this._tryExtend(Te,_e.byteLength,_e);let Fe=super.set(_e,Te);return this.ranges.add(Te,Fe.byteLength),Fe}async ensureChunk(_e,Te){this.chunked&&(this.ranges.available(_e,Te)||await this.readChunk(_e,Te))}available(_e,Te){return this.ranges.available(_e,Te)}},we$1=class{constructor(){e$2(this,"list",[])}get length(){return this.list.length}add(_e,Te,Le=0){let Fe=_e+Te,Ae=this.list.filter(Be=>ke(_e,Be.offset,Fe)||ke(_e,Be.end,Fe));if(Ae.length>0){_e=Math.min(_e,...Ae.map(Ie=>Ie.offset)),Fe=Math.max(Fe,...Ae.map(Ie=>Ie.end)),Te=Fe-_e;let Be=Ae.shift();Be.offset=_e,Be.length=Te,Be.end=Fe,this.list=this.list.filter(Ie=>!Ae.includes(Ie))}else this.list.push({offset:_e,length:Te,end:Fe})}available(_e,Te){let Le=_e+Te;return this.list.some(Fe=>Fe.offset<=_e&&Le<=Fe.end)}};function ke($e,_e,Te){return $e<=_e&&_e<=Te}class Oe extends be$1{constructor(_e,Te){super(0),e$2(this,"chunksRead",0),this.input=_e,this.options=Te}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(_e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let Te=this.options.chunkSize,Le=await this.readChunk(_e,Te);return!!Le&&Le.byteLength===Te}async readChunk(_e,Te){if(this.chunksRead++,(Te=this.safeWrapAddress(_e,Te))!==0)return this._readChunk(_e,Te)}safeWrapAddress(_e,Te){return this.size!==void 0&&_e+Te>this.size?Math.max(0,this.size-_e):Te}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b$2.set("blob",class extends Oe{async readWhole(){this.chunked=!1;let $e=await A$1(this.input);this._swapArrayBuffer($e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk($e,_e){let Te=_e?$e+_e:void 0,Le=this.input.slice($e,Te),Fe=await A$1(Le);return this.set(Fe,$e,!0)}});const locale$2={strings:{generatingThumbnails:"Generating thumbnails..."}},packageJson$4={version:"3.0.6"};function canvasToBlob($e,_e,Te){try{$e.getContext("2d").getImageData(0,0,1,1)}catch(Le){if(Le.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return $e.toBlob?new Promise(Le=>{$e.toBlob(Le,_e,Te)}).then(Le=>{if(Le===null)throw new Error("cannot read image, probably an svg with external resources");return Le}):Promise.resolve().then(()=>dataURItoBlob($e.toDataURL(_e,Te),{})).then(Le=>{if(Le===null)throw new Error("could not extract blob, probably an old browser");return Le})}function rotateImage($e,_e){let Te=$e.width,Le=$e.height;(_e.deg===90||_e.deg===270)&&(Te=$e.height,Le=$e.width);const Fe=document.createElement("canvas");Fe.width=Te,Fe.height=Le;const Ae=Fe.getContext("2d");return Ae.translate(Te/2,Le/2),_e.canvas&&(Ae.rotate(_e.rad),Ae.scale(_e.scaleX,_e.scaleY)),Ae.drawImage($e,-$e.width/2,-$e.height/2,$e.width,$e.height),Fe}function protect($e){const _e=$e.width/$e.height,Te=5e6,Le=4096;let Fe=Math.floor(Math.sqrt(Te*_e)),Ae=Math.floor(Te/Math.sqrt(Te*_e));if(Fe>Le&&(Fe=Le,Ae=Math.round(Fe/_e)),Ae>Le&&(Ae=Le,Fe=Math.round(_e*Ae)),$e.width>Fe){const Be=document.createElement("canvas");return Be.width=Fe,Be.height=Ae,Be.getContext("2d").drawImage($e,0,0,Fe,Ae),Be}return $e}class ThumbnailGenerator extends UIPlugin{constructor(_e,Te){super(_e,Te),this.onFileAdded=Fe=>{!Fe.preview&&Fe.data&&isPreviewSupported(Fe.type)&&!Fe.isRemote&&this.addToQueue(Fe.id)},this.onCancelRequest=Fe=>{const Ae=this.queue.indexOf(Fe.id);Ae!==-1&&this.queue.splice(Ae,1)},this.onFileRemoved=Fe=>{const Ae=this.queue.indexOf(Fe.id);Ae!==-1&&this.queue.splice(Ae,1),Fe.preview&&isObjectURL(Fe.preview)&&URL.revokeObjectURL(Fe.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(Ae=>Ae.isRestored).forEach(Ae=>{(!Ae.preview||isObjectURL(Ae.preview))&&this.addToQueue(Ae.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=Fe=>{Fe.forEach(Be=>{const Ie=this.uppy.getFile(Be);this.uppy.emit("preprocess-progress",Ie,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const Ae=()=>{Fe.forEach(Be=>{const Ie=this.uppy.getFile(Be);this.uppy.emit("preprocess-complete",Ie)})};return new Promise(Be=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{Ae(),Be()}):(Ae(),Be())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=locale$2;const Le={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...Le,...Te},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(_e,Te,Le){const Fe=URL.createObjectURL(_e.data),Ae=new Promise((Ie,Ne)=>{const ze=new Image;ze.src=Fe,ze.addEventListener("load",()=>{URL.revokeObjectURL(Fe),Ie(ze)}),ze.addEventListener("error",Ue=>{URL.revokeObjectURL(Fe),Ne(Ue.error||new Error("Could not create thumbnail"))})}),Be=ye$1(_e.data).catch(()=>1);return Promise.all([Ae,Be]).then(Ie=>{let[Ne,ze]=Ie;const Ue=this.getProportionalDimensions(Ne,Te,Le,ze.deg),je=rotateImage(Ne,ze),Ve=this.resizeImage(je,Ue.width,Ue.height);return canvasToBlob(Ve,this.thumbnailType,80)}).then(Ie=>URL.createObjectURL(Ie))}getProportionalDimensions(_e,Te,Le,Fe){let Ae=_e.width/_e.height;return(Fe===90||Fe===270)&&(Ae=_e.height/_e.width),Te!=null?{width:Te,height:Math.round(Te/Ae)}:Le!=null?{width:Math.round(Le*Ae),height:Le}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/Ae)}}resizeImage(_e,Te,Le){let Fe=protect(_e),Ae=Math.ceil(Math.log2(Fe.width/Te));Ae<1&&(Ae=1);let Be=Te*2**(Ae-1),Ie=Le*2**(Ae-1);const Ne=2;for(;Ae--;){const ze=document.createElement("canvas");ze.width=Be,ze.height=Ie,ze.getContext("2d").drawImage(Fe,0,0,Be,Ie),Fe=ze,Be=Math.round(Be/Ne),Ie=Math.round(Ie/Ne)}return Fe}setPreviewURL(_e,Te){this.uppy.setFileState(_e,{preview:Te})}addToQueue(_e){this.queue.push(_e),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const _e=this.uppy.getFile(this.queue.shift());return _e?this.requestThumbnail(_e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(_e){return isPreviewSupported(_e.type)&&!_e.isRemote?this.createThumbnail(_e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(Te=>{this.setPreviewURL(_e.id,Te),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${_e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(_e.id),Te)}).catch(Te=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${_e.id}:`,"warning"),this.uppy.log(Te,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(_e.id),Te)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}ThumbnailGenerator.VERSION=packageJson$4.version;function emaFilter($e,_e,Te,Le){return Te===0||$e===_e?$e:Le===0?_e:$e+(_e-$e)*2**(-Le/Te)}const statusBarStates={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function($e){(function(){var _e={}.hasOwnProperty;function Te(){for(var Ae="",Be=0;Be<arguments.length;Be++){var Ie=arguments[Be];Ie&&(Ae=Fe(Ae,Le(Ie)))}return Ae}function Le(Ae){if(typeof Ae=="string"||typeof Ae=="number")return Ae;if(typeof Ae!="object")return"";if(Array.isArray(Ae))return Te.apply(null,Ae);if(Ae.toString!==Object.prototype.toString&&!Ae.toString.toString().includes("[native code]"))return Ae.toString();var Be="";for(var Ie in Ae)_e.call(Ae,Ie)&&Ae[Ie]&&(Be=Fe(Be,Ie));return Be}function Fe(Ae,Be){return Be?Ae?Ae+" "+Be:Ae+Be:Ae}$e.exports?(Te.default=Te,$e.exports=Te):window.classNames=Te})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function calculateProcessingProgress($e){const _e=[];let Te,Le;for(const{progress:Ae}of Object.values($e)){const{preprocess:Be,postprocess:Ie}=Ae;Le==null&&(Be||Ie)&&({mode:Te,message:Le}=Be||Ie),(Be==null?void 0:Be.mode)==="determinate"&&_e.push(Be.value),(Ie==null?void 0:Ie.mode)==="determinate"&&_e.push(Ie.value)}const Fe=_e.reduce((Ae,Be)=>Ae+Be/_e.length,0);return{mode:Te,message:Le,value:Fe}}function secondsToTime($e){const _e=Math.floor($e/3600)%24,Te=Math.floor($e/60)%60,Le=Math.floor($e%60);return{hours:_e,minutes:Te,seconds:Le}}function prettyETA($e){const _e=secondsToTime($e),Te=_e.hours===0?"":`${_e.hours}h`,Le=_e.minutes===0?"":`${_e.hours===0?_e.minutes:` ${_e.minutes.toString(10).padStart(2,"0")}`}m`,Fe=_e.hours!==0?"":`${_e.minutes===0?_e.seconds:` ${_e.seconds.toString(10).padStart(2,"0")}`}s`;return`${Te}${Le}${Fe}`}const DOT="·",renderDot=()=>` ${DOT} `;function UploadBtn($e){const{newFiles:_e,isUploadStarted:Te,recoveredState:Le,i18n:Fe,uploadState:Ae,isSomeGhost:Be,startUpload:Ie}=$e,Ne=classNames("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":Ae===statusBarStates.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":Be}),ze=_e&&Te&&!Le?Fe("uploadXNewFiles",{smart_count:_e}):Fe("uploadXFiles",{smart_count:_e});return y$2("button",{type:"button",className:Ne,"aria-label":Fe("uploadXFiles",{smart_count:_e}),onClick:Ie,disabled:Be,"data-uppy-super-focusable":!0},ze)}function RetryBtn($e){const{i18n:_e,uppy:Te}=$e;return y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":_e("retryUpload"),onClick:()=>Te.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},y$2("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),_e("retry"))}function CancelBtn($e){const{i18n:_e,uppy:Te}=$e;return y$2("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:_e("cancel"),"aria-label":_e("cancel"),onClick:()=>Te.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},y$2("g",{fill:"none",fillRule:"evenodd"},y$2("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),y$2("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function PauseResumeButton($e){const{isAllPaused:_e,i18n:Te,isAllComplete:Le,resumableUploads:Fe,uppy:Ae}=$e,Be=Te(_e?"resume":"pause");function Ie(){return Le?null:Fe?_e?Ae.resumeAll():Ae.pauseAll():Ae.cancelAll()}return y$2("button",{title:Be,"aria-label":Be,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:Ie,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},y$2("g",{fill:"none",fillRule:"evenodd"},y$2("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),y$2("path",{fill:"#FFF",d:_e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function DoneBtn($e){const{i18n:_e,doneButtonHandler:Te}=$e;return y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:Te,"data-uppy-super-focusable":!0},_e("done"))}function LoadingSpinner(){return y$2("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},y$2("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function ProgressBarProcessing($e){const{progress:_e}=$e,{value:Te,mode:Le,message:Fe}=_e,Ae=Math.round(Te*100);return y$2("div",{className:"uppy-StatusBar-content"},y$2(LoadingSpinner,null),Le==="determinate"?`${Ae}% · `:"",Fe)}function ProgressDetails($e){const{numUploads:_e,complete:Te,totalUploadedSize:Le,totalSize:Fe,totalETA:Ae,i18n:Be}=$e,Ie=_e>1;return y$2("div",{className:"uppy-StatusBar-statusSecondary"},Ie&&Be("filesUploadedOfTotal",{complete:Te,smart_count:_e}),y$2("span",{className:"uppy-StatusBar-additionalInfo"},Ie&&renderDot(),Be("dataUploadedOfTotal",{complete:prettierBytes$3(Le),total:prettierBytes$3(Fe)}),renderDot(),Be("xTimeLeft",{time:prettyETA(Ae)})))}function FileUploadCount($e){const{i18n:_e,complete:Te,numUploads:Le}=$e;return y$2("div",{className:"uppy-StatusBar-statusSecondary"},_e("filesUploadedOfTotal",{complete:Te,smart_count:Le}))}function UploadNewlyAddedFiles($e){const{i18n:_e,newFiles:Te,startUpload:Le}=$e,Fe=classNames("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return y$2("div",{className:"uppy-StatusBar-statusSecondary"},y$2("div",{className:"uppy-StatusBar-statusSecondaryHint"},_e("xMoreFilesAdded",{smart_count:Te})),y$2("button",{type:"button",className:Fe,"aria-label":_e("uploadXFiles",{smart_count:Te}),onClick:Le},_e("upload")))}function ProgressBarUploading($e){const{i18n:_e,supportsUploadProgress:Te,totalProgress:Le,showProgressDetails:Fe,isUploadStarted:Ae,isAllComplete:Be,isAllPaused:Ie,newFiles:Ne,numUploads:ze,complete:Ue,totalUploadedSize:je,totalSize:Ve,totalETA:Ze,startUpload:Ke}=$e,Je=Ne&&Ae;if(!Ae||Be)return null;const ei=_e(Ie?"paused":"uploading");function ni(){return!Ie&&!Je&&Fe?Te?y$2(ProgressDetails,{numUploads:ze,complete:Ue,totalUploadedSize:je,totalSize:Ve,totalETA:Ze,i18n:_e}):y$2(FileUploadCount,{i18n:_e,complete:Ue,numUploads:ze}):null}return y$2("div",{className:"uppy-StatusBar-content","aria-label":ei,title:ei},Ie?null:y$2(LoadingSpinner,null),y$2("div",{className:"uppy-StatusBar-status"},y$2("div",{className:"uppy-StatusBar-statusPrimary"},Te?`${ei}: ${Le}%`:ei),ni(),Je?y$2(UploadNewlyAddedFiles,{i18n:_e,newFiles:Ne,startUpload:Ke}):null))}function ProgressBarComplete($e){const{i18n:_e}=$e;return y$2("div",{className:"uppy-StatusBar-content",role:"status",title:_e("complete")},y$2("div",{className:"uppy-StatusBar-status"},y$2("div",{className:"uppy-StatusBar-statusPrimary"},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},y$2("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),_e("complete"))))}function ProgressBarError($e){const{error:_e,i18n:Te,complete:Le,numUploads:Fe}=$e;function Ae(){const Be=`${Te("uploadFailed")} 

 ${_e}`;alert(Be)}return y$2("div",{className:"uppy-StatusBar-content",title:Te("uploadFailed")},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},y$2("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),y$2("div",{className:"uppy-StatusBar-status"},y$2("div",{className:"uppy-StatusBar-statusPrimary"},Te("uploadFailed"),y$2("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":Te("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:Ae,type:"button"},"?")),y$2(FileUploadCount,{i18n:Te,complete:Le,numUploads:Fe})))}const{STATE_ERROR,STATE_WAITING,STATE_PREPROCESSING,STATE_UPLOADING,STATE_POSTPROCESSING,STATE_COMPLETE}=statusBarStates;function StatusBar$1($e){const{newFiles:_e,allowNewUpload:Te,isUploadInProgress:Le,isAllPaused:Fe,resumableUploads:Ae,error:Be,hideUploadButton:Ie,hidePauseResumeButton:Ne,hideCancelButton:ze,hideRetryButton:Ue,recoveredState:je,uploadState:Ve,totalProgress:Ze,files:Ke,supportsUploadProgress:Je,hideAfterFinish:ei,isSomeGhost:ni,doneButtonHandler:Qe,isUploadStarted:ii,i18n:ai,startUpload:di,uppy:vi,isAllComplete:bi,showProgressDetails:xi,numUploads:mi,complete:li,totalSize:wi,totalETA:Li,totalUploadedSize:Ti}=$e;function Oi(){switch(Ve){case STATE_POSTPROCESSING:case STATE_PREPROCESSING:{const xn=calculateProcessingProgress(Ke);return xn.mode==="determinate"?xn.value*100:Ze}case STATE_ERROR:return null;case STATE_UPLOADING:return Je?Ze:null;default:return Ze}}function Di(){switch(Ve){case STATE_POSTPROCESSING:case STATE_PREPROCESSING:{const{mode:xn}=calculateProcessingProgress(Ke);return xn==="indeterminate"}case STATE_UPLOADING:return!Je;default:return!1}}function Ri(){if(je)return!1;switch(Ve){case STATE_WAITING:return Ie||_e===0;case STATE_COMPLETE:return ei;default:return!1}}const fn=Oi(),Ci=Ri(),hn=fn??100,Pi=!Be&&_e&&!Le&&!Fe&&Te&&!Ie,Ki=!ze&&Ve!==STATE_WAITING&&Ve!==STATE_COMPLETE,gn=Ae&&!Ne&&Ve===STATE_UPLOADING,yn=Be&&!bi&&!Ue,pn=Qe&&Ve===STATE_COMPLETE,hi=classNames("uppy-StatusBar-progress",{"is-indeterminate":Di()}),Ui=classNames("uppy-StatusBar",`is-${Ve}`,{"has-ghosts":ni});return y$2("div",{className:Ui,"aria-hidden":Ci},y$2("div",{className:hi,style:{width:`${hn}%`},role:"progressbar","aria-label":`${hn}%`,"aria-valuetext":`${hn}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":fn}),(()=>{switch(Ve){case STATE_PREPROCESSING:case STATE_POSTPROCESSING:return y$2(ProgressBarProcessing,{progress:calculateProcessingProgress(Ke)});case STATE_COMPLETE:return y$2(ProgressBarComplete,{i18n:ai});case STATE_ERROR:return y$2(ProgressBarError,{error:Be,i18n:ai,numUploads:mi,complete:li});case STATE_UPLOADING:return y$2(ProgressBarUploading,{i18n:ai,supportsUploadProgress:Je,totalProgress:Ze,showProgressDetails:xi,isUploadStarted:ii,isAllComplete:bi,isAllPaused:Fe,newFiles:_e,numUploads:mi,complete:li,totalUploadedSize:Ti,totalSize:wi,totalETA:Li,startUpload:di});default:return null}})(),y$2("div",{className:"uppy-StatusBar-actions"},je||Pi?y$2(UploadBtn,{newFiles:_e,isUploadStarted:ii,recoveredState:je,i18n:ai,isSomeGhost:ni,startUpload:di,uploadState:Ve}):null,yn?y$2(RetryBtn,{i18n:ai,uppy:vi}):null,gn?y$2(PauseResumeButton,{isAllPaused:Fe,i18n:ai,isAllComplete:bi,resumableUploads:Ae,uppy:vi}):null,Ki?y$2(CancelBtn,{i18n:ai,uppy:vi}):null,pn?y$2(DoneBtn,{i18n:ai,doneButtonHandler:Qe}):null))}const locale$1={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function _classPrivateFieldLooseBase$1($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id$1=0;function _classPrivateFieldLooseKey$1($e){return"__private_"+id$1+++"_"+$e}const packageJson$3={version:"3.2.5"},speedFilterHalfLife=2e3,ETAFilterHalfLife=2e3;function getUploadingState$1($e,_e,Te,Le){if($e)return statusBarStates.STATE_ERROR;if(_e)return statusBarStates.STATE_COMPLETE;if(Te)return statusBarStates.STATE_WAITING;let Fe=statusBarStates.STATE_WAITING;const Ae=Object.keys(Le);for(let Be=0;Be<Ae.length;Be++){const{progress:Ie}=Le[Ae[Be]];if(Ie.uploadStarted&&!Ie.uploadComplete)return statusBarStates.STATE_UPLOADING;Ie.preprocess&&Fe!==statusBarStates.STATE_UPLOADING&&(Fe=statusBarStates.STATE_PREPROCESSING),Ie.postprocess&&Fe!==statusBarStates.STATE_UPLOADING&&Fe!==statusBarStates.STATE_PREPROCESSING&&(Fe=statusBarStates.STATE_POSTPROCESSING)}return Fe}var _lastUpdateTime=_classPrivateFieldLooseKey$1("lastUpdateTime"),_previousUploadedBytes=_classPrivateFieldLooseKey$1("previousUploadedBytes"),_previousSpeed=_classPrivateFieldLooseKey$1("previousSpeed"),_previousETA=_classPrivateFieldLooseKey$1("previousETA"),_computeSmoothETA=_classPrivateFieldLooseKey$1("computeSmoothETA"),_onUploadStart=_classPrivateFieldLooseKey$1("onUploadStart");class StatusBar extends UIPlugin{constructor(_e,Te){super(_e,Te),Object.defineProperty(this,_computeSmoothETA,{value:_computeSmoothETA2}),Object.defineProperty(this,_lastUpdateTime,{writable:!0,value:void 0}),Object.defineProperty(this,_previousUploadedBytes,{writable:!0,value:void 0}),Object.defineProperty(this,_previousSpeed,{writable:!0,value:void 0}),Object.defineProperty(this,_previousETA,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,_onUploadStart,{writable:!0,value:()=>{const{recoveredState:Fe}=this.uppy.getState();if(_classPrivateFieldLooseBase$1(this,_previousSpeed)[_previousSpeed]=null,_classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA]=null,Fe){_classPrivateFieldLooseBase$1(this,_previousUploadedBytes)[_previousUploadedBytes]=Object.values(Fe.files).reduce((Ae,Be)=>{let{progress:Ie}=Be;return Ae+Ie.bytesUploaded},0),this.uppy.emit("restore-confirmed");return}_classPrivateFieldLooseBase$1(this,_lastUpdateTime)[_lastUpdateTime]=performance.now(),_classPrivateFieldLooseBase$1(this,_previousUploadedBytes)[_previousUploadedBytes]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=locale$1;const Le={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...Le,...Te},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(_e){const{capabilities:Te,files:Le,allowNewUpload:Fe,totalProgress:Ae,error:Be,recoveredState:Ie}=_e,{newFiles:Ne,startedFiles:ze,completeFiles:Ue,isUploadStarted:je,isAllComplete:Ve,isAllErrored:Ze,isAllPaused:Ke,isUploadInProgress:Je,isSomeGhost:ei}=this.uppy.getObjectOfFilesPerState(),ni=Ie?Object.values(Le):Ne,Qe=!!Te.resumableUploads,ii=Te.uploadProgress!==!1;let ai=0,di=0;ze.forEach(bi=>{ai+=bi.progress.bytesTotal||0,di+=bi.progress.bytesUploaded||0});const vi=_classPrivateFieldLooseBase$1(this,_computeSmoothETA)[_computeSmoothETA]({uploaded:di,total:ai,remaining:ai-di});return StatusBar$1({error:Be,uploadState:getUploadingState$1(Be,Ve,Ie,_e.files||{}),allowNewUpload:Fe,totalProgress:Ae,totalSize:ai,totalUploadedSize:di,isAllComplete:!1,isAllPaused:Ke,isAllErrored:Ze,isUploadStarted:je,isUploadInProgress:Je,isSomeGhost:ei,recoveredState:Ie,complete:Ue.length,newFiles:ni.length,numUploads:ze.length,totalETA:vi,files:Le,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:Qe,supportsUploadProgress:ii,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const _e=this.el;getTextDirection(_e)||(_e.dir="ltr")}install(){const{target:_e}=this.opts;_e&&this.mount(_e,this),this.uppy.on("upload",_classPrivateFieldLooseBase$1(this,_onUploadStart)[_onUploadStart]),_classPrivateFieldLooseBase$1(this,_lastUpdateTime)[_lastUpdateTime]=performance.now(),_classPrivateFieldLooseBase$1(this,_previousUploadedBytes)[_previousUploadedBytes]=this.uppy.getFiles().reduce((Te,Le)=>Te+Le.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",_classPrivateFieldLooseBase$1(this,_onUploadStart)[_onUploadStart])}}function _computeSmoothETA2($e){var _e,Te;if($e.total===0||$e.remaining===0)return 0;(Te=(_e=_classPrivateFieldLooseBase$1(this,_lastUpdateTime))[_lastUpdateTime])!=null||(_e[_lastUpdateTime]=performance.now());const Le=performance.now()-_classPrivateFieldLooseBase$1(this,_lastUpdateTime)[_lastUpdateTime];if(Le===0){var Fe;return Math.round(((Fe=_classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA])!=null?Fe:0)/100)/10}const Ae=$e.uploaded-_classPrivateFieldLooseBase$1(this,_previousUploadedBytes)[_previousUploadedBytes];if(_classPrivateFieldLooseBase$1(this,_previousUploadedBytes)[_previousUploadedBytes]=$e.uploaded,Ae<=0){var Be;return Math.round(((Be=_classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA])!=null?Be:0)/100)/10}const Ie=Ae/Le,Ne=_classPrivateFieldLooseBase$1(this,_previousSpeed)[_previousSpeed]==null?Ie:emaFilter(Ie,_classPrivateFieldLooseBase$1(this,_previousSpeed)[_previousSpeed],speedFilterHalfLife,Le);_classPrivateFieldLooseBase$1(this,_previousSpeed)[_previousSpeed]=Ne;const ze=$e.remaining/Ne,Ue=Math.max(_classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA]-Le,0),je=_classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA]==null?ze:emaFilter(ze,Ue,ETAFilterHalfLife,Le);return _classPrivateFieldLooseBase$1(this,_previousETA)[_previousETA]=je,_classPrivateFieldLooseBase$1(this,_lastUpdateTime)[_lastUpdateTime]=performance.now(),Math.round(je/100)/10}StatusBar.VERSION=packageJson$3.version;const packageJson$2={version:"3.0.4"};class ProgressBar extends UIPlugin{constructor(_e,Te){super(_e,Te),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";const Le={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...Le,...Te},this.render=this.render.bind(this)}render(_e){const Te=_e.totalProgress||0,Le=(Te===0||Te===100)&&this.opts.hideAfterFinish;return y$2("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":Le},y$2("div",{className:"uppy-ProgressBar-inner",style:{width:`${Te}%`}}),y$2("div",{className:"uppy-ProgressBar-percentage"},Te))}install(){const{target:_e}=this.opts;_e&&this.mount(_e,this)}uninstall(){this.unmount()}}ProgressBar.VERSION=packageJson$2.version;const TRANSITION_MS=300;class FadeIn extends b$3{constructor(){super(...arguments),this.ref=_$2()}componentWillEnter(_e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(_e,TRANSITION_MS)}componentWillLeave(_e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(_e,TRANSITION_MS)}render(){const{children:_e}=this.props;return y$2("div",{className:"uppy-Informer-animated",ref:this.ref},_e)}}function assign($e,_e){return Object.assign($e,_e)}function getKey($e,_e){var Te;return(Te=$e==null?void 0:$e.key)!=null?Te:_e}function linkRef($e,_e){const Te=$e._ptgLinkedRefs||($e._ptgLinkedRefs={});return Te[_e]||(Te[_e]=Le=>{$e.refs[_e]=Le})}function getChildMapping($e){const _e={};for(let Te=0;Te<$e.length;Te++)if($e[Te]!=null){const Le=getKey($e[Te],Te.toString(36));_e[Le]=$e[Te]}return _e}function mergeChildMappings($e,_e){$e=$e||{},_e=_e||{};const Te=Be=>_e.hasOwnProperty(Be)?_e[Be]:$e[Be],Le={};let Fe=[];for(const Be in $e)_e.hasOwnProperty(Be)?Fe.length&&(Le[Be]=Fe,Fe=[]):Fe.push(Be);const Ae={};for(const Be in _e){if(Le.hasOwnProperty(Be))for(let Ie=0;Ie<Le[Be].length;Ie++){const Ne=Le[Be][Ie];Ae[Le[Be][Ie]]=Te(Ne)}Ae[Be]=Te(Be)}for(let Be=0;Be<Fe.length;Be++)Ae[Fe[Be]]=Te(Fe[Be]);return Ae}const identity=$e=>$e;class TransitionGroup extends b$3{constructor(_e,Te){super(_e,Te),this.refs={},this.state={children:getChildMapping($$3($$3(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const _e=this.state.children;for(const Te in _e)_e[Te]&&this.performAppear(Te)}componentWillReceiveProps(_e){const Te=getChildMapping($$3(_e.children)||[]),Le=this.state.children;this.setState(Ae=>({children:mergeChildMappings(Ae.children,Te)}));let Fe;for(Fe in Te)if(Te.hasOwnProperty(Fe)){const Ae=Le&&Le.hasOwnProperty(Fe);Te[Fe]&&Ae&&this.currentlyTransitioningKeys[Fe]?(this.keysToEnter.push(Fe),this.keysToAbortLeave.push(Fe)):Te[Fe]&&!Ae&&!this.currentlyTransitioningKeys[Fe]&&this.keysToEnter.push(Fe)}for(Fe in Le)if(Le.hasOwnProperty(Fe)){const Ae=Te&&Te.hasOwnProperty(Fe);Le[Fe]&&!Ae&&!this.currentlyTransitioningKeys[Fe]&&this.keysToLeave.push(Fe)}}componentDidUpdate(){const{keysToEnter:_e}=this;this.keysToEnter=[],_e.forEach(this.performEnter);const{keysToLeave:Te}=this;this.keysToLeave=[],Te.forEach(this.performLeave)}_finishAbort(_e){const Te=this.keysToAbortLeave.indexOf(_e);Te!==-1&&this.keysToAbortLeave.splice(Te,1)}performAppear(_e){this.currentlyTransitioningKeys[_e]=!0;const Te=this.refs[_e];Te!=null&&Te.componentWillAppear?Te.componentWillAppear(this._handleDoneAppearing.bind(this,_e)):this._handleDoneAppearing(_e)}_handleDoneAppearing(_e){const Te=this.refs[_e];Te!=null&&Te.componentDidAppear&&Te.componentDidAppear(),delete this.currentlyTransitioningKeys[_e],this._finishAbort(_e);const Le=getChildMapping($$3(this.props.children)||[]);(!Le||!Le.hasOwnProperty(_e))&&this.performLeave(_e)}performEnter(_e){this.currentlyTransitioningKeys[_e]=!0;const Te=this.refs[_e];Te!=null&&Te.componentWillEnter?Te.componentWillEnter(this._handleDoneEntering.bind(this,_e)):this._handleDoneEntering(_e)}_handleDoneEntering(_e){const Te=this.refs[_e];Te!=null&&Te.componentDidEnter&&Te.componentDidEnter(),delete this.currentlyTransitioningKeys[_e],this._finishAbort(_e);const Le=getChildMapping($$3(this.props.children)||[]);(!Le||!Le.hasOwnProperty(_e))&&this.performLeave(_e)}performLeave(_e){if(this.keysToAbortLeave.indexOf(_e)!==-1)return;this.currentlyTransitioningKeys[_e]=!0;const Le=this.refs[_e];Le!=null&&Le.componentWillLeave?Le.componentWillLeave(this._handleDoneLeaving.bind(this,_e)):this._handleDoneLeaving(_e)}_handleDoneLeaving(_e){if(this.keysToAbortLeave.indexOf(_e)!==-1)return;const Le=this.refs[_e];Le!=null&&Le.componentDidLeave&&Le.componentDidLeave(),delete this.currentlyTransitioningKeys[_e];const Fe=getChildMapping($$3(this.props.children)||[]);if(Fe&&Fe.hasOwnProperty(_e))this.performEnter(_e);else{const Ae=assign({},this.state.children);delete Ae[_e],this.setState({children:Ae})}}render(_e,Te){let{childFactory:Le,transitionLeave:Fe,transitionName:Ae,transitionAppear:Be,transitionEnter:Ie,transitionLeaveTimeout:Ne,transitionEnterTimeout:ze,transitionAppearTimeout:Ue,component:je,...Ve}=_e,{children:Ze}=Te;const Ke=Object.entries(Ze).map(Je=>{let[ei,ni]=Je;if(!ni)return;const Qe=linkRef(this,ei);return E$3(Le(ni),{ref:Qe,key:ei})}).filter(Boolean);return y$2(je,Ve,Ke)}}TransitionGroup.defaultProps={component:"span",childFactory:identity};const packageJson$1={version:"3.0.4"};class Informer extends UIPlugin{constructor(_e,Te){super(_e,Te),this.render=Fe=>y$2("div",{className:"uppy uppy-Informer"},y$2(TransitionGroup,null,Fe.info.map(Ae=>y$2(FadeIn,{key:Ae.message},y$2("p",{role:"alert"},Ae.message," ",Ae.details&&y$2("span",{"aria-label":Ae.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${Ae.message} 

 ${Ae.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";const Le={};this.opts={...Le,...Te}}install(){const{target:_e}=this.opts;_e&&this.mount(_e,this)}}Informer.VERSION=packageJson$1.version;function findAllDOMElements($e){if(typeof $e=="string"){const _e=document.querySelectorAll($e);return _e.length===0?null:Array.from(_e)}return typeof $e=="object"&&isDOMElement($e)?[$e]:null}const toArray=Array.from;function getFilesAndDirectoriesFromDirectory($e,_e,Te,Le){let{onSuccess:Fe}=Le;$e.readEntries(Ae=>{const Be=[..._e,...Ae];Ae.length?queueMicrotask(()=>{getFilesAndDirectoriesFromDirectory($e,Be,Te,{onSuccess:Fe})}):Fe(Be)},Ae=>{Te(Ae),Fe(_e)})}function getAsFileSystemHandleFromEntry($e,_e){return $e==null?$e:{kind:$e.isFile?"file":$e.isDirectory?"directory":void 0,name:$e.name,getFile(){return new Promise((Te,Le)=>$e.file(Te,Le))},async*values(){const Te=$e.createReader();yield*await new Promise(Fe=>{getFilesAndDirectoriesFromDirectory(Te,[],_e,{onSuccess:Ae=>Fe(Ae.map(Be=>getAsFileSystemHandleFromEntry(Be,_e)))})})},isSameEntry:void 0}}function createPromiseToAddFileOrParseDirectory($e,_e,Te){try{return Te===void 0&&(Te=void 0),async function*(){const Le=()=>`${_e}/${$e.name}`;if($e.kind==="file"){const Fe=await $e.getFile();Fe!=null?(Fe.relativePath=_e?Le():null,yield Fe):Te!=null&&(yield Te)}else if($e.kind==="directory")for await(const Fe of $e.values())yield*createPromiseToAddFileOrParseDirectory(Fe,_e?Le():$e.name);else Te!=null&&(yield Te)}()}catch(Le){return Promise.reject(Le)}}async function*getFilesFromDataTransfer($e,_e){const Te=await Promise.all(Array.from($e.items,async Le=>{var Fe;let Ae;const Be=()=>typeof Le.getAsEntry=="function"?Le.getAsEntry():Le.webkitGetAsEntry();return(Fe=Ae)!=null||(Ae=getAsFileSystemHandleFromEntry(Be(),_e)),{fileSystemHandle:Ae,lastResortFile:Le.getAsFile()}}));for(const{lastResortFile:Le,fileSystemHandle:Fe}of Te)if(Fe!=null)try{yield*createPromiseToAddFileOrParseDirectory(Fe,"",Le)}catch(Ae){Le!=null?yield Le:_e(Ae)}else Le!=null&&(yield Le)}function fallbackApi($e){const _e=toArray($e.files);return Promise.resolve(_e)}async function getDroppedFiles($e,_e){var Te;const Le=(Te=_e==null?void 0:_e.logDropError)!=null?Te:Function.prototype;try{const Fe=[];for await(const Ae of getFilesFromDataTransfer($e,Le))Fe.push(Ae);return Fe}catch{return fallbackApi($e)}}var eventemitter3={exports:{}};(function($e){var _e=Object.prototype.hasOwnProperty,Te="~";function Le(){}Object.create&&(Le.prototype=Object.create(null),new Le().__proto__||(Te=!1));function Fe(Ne,ze,Ue){this.fn=Ne,this.context=ze,this.once=Ue||!1}function Ae(Ne,ze,Ue,je,Ve){if(typeof Ue!="function")throw new TypeError("The listener must be a function");var Ze=new Fe(Ue,je||Ne,Ve),Ke=Te?Te+ze:ze;return Ne._events[Ke]?Ne._events[Ke].fn?Ne._events[Ke]=[Ne._events[Ke],Ze]:Ne._events[Ke].push(Ze):(Ne._events[Ke]=Ze,Ne._eventsCount++),Ne}function Be(Ne,ze){--Ne._eventsCount===0?Ne._events=new Le:delete Ne._events[ze]}function Ie(){this._events=new Le,this._eventsCount=0}Ie.prototype.eventNames=function(){var ze=[],Ue,je;if(this._eventsCount===0)return ze;for(je in Ue=this._events)_e.call(Ue,je)&&ze.push(Te?je.slice(1):je);return Object.getOwnPropertySymbols?ze.concat(Object.getOwnPropertySymbols(Ue)):ze},Ie.prototype.listeners=function(ze){var Ue=Te?Te+ze:ze,je=this._events[Ue];if(!je)return[];if(je.fn)return[je.fn];for(var Ve=0,Ze=je.length,Ke=new Array(Ze);Ve<Ze;Ve++)Ke[Ve]=je[Ve].fn;return Ke},Ie.prototype.listenerCount=function(ze){var Ue=Te?Te+ze:ze,je=this._events[Ue];return je?je.fn?1:je.length:0},Ie.prototype.emit=function(ze,Ue,je,Ve,Ze,Ke){var Je=Te?Te+ze:ze;if(!this._events[Je])return!1;var ei=this._events[Je],ni=arguments.length,Qe,ii;if(ei.fn){switch(ei.once&&this.removeListener(ze,ei.fn,void 0,!0),ni){case 1:return ei.fn.call(ei.context),!0;case 2:return ei.fn.call(ei.context,Ue),!0;case 3:return ei.fn.call(ei.context,Ue,je),!0;case 4:return ei.fn.call(ei.context,Ue,je,Ve),!0;case 5:return ei.fn.call(ei.context,Ue,je,Ve,Ze),!0;case 6:return ei.fn.call(ei.context,Ue,je,Ve,Ze,Ke),!0}for(ii=1,Qe=new Array(ni-1);ii<ni;ii++)Qe[ii-1]=arguments[ii];ei.fn.apply(ei.context,Qe)}else{var ai=ei.length,di;for(ii=0;ii<ai;ii++)switch(ei[ii].once&&this.removeListener(ze,ei[ii].fn,void 0,!0),ni){case 1:ei[ii].fn.call(ei[ii].context);break;case 2:ei[ii].fn.call(ei[ii].context,Ue);break;case 3:ei[ii].fn.call(ei[ii].context,Ue,je);break;case 4:ei[ii].fn.call(ei[ii].context,Ue,je,Ve);break;default:if(!Qe)for(di=1,Qe=new Array(ni-1);di<ni;di++)Qe[di-1]=arguments[di];ei[ii].fn.apply(ei[ii].context,Qe)}}return!0},Ie.prototype.on=function(ze,Ue,je){return Ae(this,ze,Ue,je,!1)},Ie.prototype.once=function(ze,Ue,je){return Ae(this,ze,Ue,je,!0)},Ie.prototype.removeListener=function(ze,Ue,je,Ve){var Ze=Te?Te+ze:ze;if(!this._events[Ze])return this;if(!Ue)return Be(this,Ze),this;var Ke=this._events[Ze];if(Ke.fn)Ke.fn===Ue&&(!Ve||Ke.once)&&(!je||Ke.context===je)&&Be(this,Ze);else{for(var Je=0,ei=[],ni=Ke.length;Je<ni;Je++)(Ke[Je].fn!==Ue||Ve&&!Ke[Je].once||je&&Ke[Je].context!==je)&&ei.push(Ke[Je]);ei.length?this._events[Ze]=ei.length===1?ei[0]:ei:Be(this,Ze)}return this},Ie.prototype.removeAllListeners=function(ze){var Ue;return ze?(Ue=Te?Te+ze:ze,this._events[Ue]&&Be(this,Ue)):(this._events=new Le,this._eventsCount=0),this},Ie.prototype.off=Ie.prototype.removeListener,Ie.prototype.addListener=Ie.prototype.on,Ie.prefixed=Te,Ie.EventEmitter=Ie,$e.exports=Ie})(eventemitter3);var t$1,r$1,u$1,i$1,o$1=0,f$1=[],c$1=[],e$1=l$3.__b,a$1=l$3.__r,v$1=l$3.diffed,l$1=l$3.__c,m$1=l$3.unmount;function d$1($e,_e){l$3.__h&&l$3.__h(r$1,$e,o$1||_e),o$1=0;var Te=r$1.__H||(r$1.__H={__:[],__h:[]});return $e>=Te.__.length&&Te.__.push({__V:c$1}),Te.__[$e]}function h$1($e){return o$1=1,s$1(B$2,$e)}function s$1($e,_e,Te){var Le=d$1(t$1++,2);if(Le.t=$e,!Le.__c&&(Le.__=[Te?Te(_e):B$2(void 0,_e),function(Ie){var Ne=Le.__N?Le.__N[0]:Le.__[0],ze=Le.t(Ne,Ie);Ne!==ze&&(Le.__N=[ze,Le.__[1]],Le.__c.setState({}))}],Le.__c=r$1,!r$1.u)){var Fe=function(Ie,Ne,ze){if(!Le.__c.__H)return!0;var Ue=Le.__c.__H.__.filter(function(Ve){return Ve.__c});if(Ue.every(function(Ve){return!Ve.__N}))return!Ae||Ae.call(this,Ie,Ne,ze);var je=!1;return Ue.forEach(function(Ve){if(Ve.__N){var Ze=Ve.__[0];Ve.__=Ve.__N,Ve.__N=void 0,Ze!==Ve.__[0]&&(je=!0)}}),!(!je&&Le.__c.props===Ie)&&(!Ae||Ae.call(this,Ie,Ne,ze))};r$1.u=!0;var Ae=r$1.shouldComponentUpdate,Be=r$1.componentWillUpdate;r$1.componentWillUpdate=function(Ie,Ne,ze){if(this.__e){var Ue=Ae;Ae=void 0,Fe(Ie,Ne,ze),Ae=Ue}Be&&Be.call(this,Ie,Ne,ze)},r$1.shouldComponentUpdate=Fe}return Le.__N||Le.__}function p$1($e,_e){var Te=d$1(t$1++,3);!l$3.__s&&z$2(Te.__H,_e)&&(Te.__=$e,Te.i=_e,r$1.__H.__h.push(Te))}function F$2($e,_e){var Te=d$1(t$1++,7);return z$2(Te.__H,_e)?(Te.__V=$e(),Te.i=_e,Te.__h=$e,Te.__V):Te.__}function T$2($e,_e){return o$1=8,F$2(function(){return $e},_e)}function b$1(){for(var $e;$e=f$1.shift();)if($e.__P&&$e.__H)try{$e.__H.__h.forEach(k$1),$e.__H.__h.forEach(w$1),$e.__H.__h=[]}catch(_e){$e.__H.__h=[],l$3.__e(_e,$e.__v)}}l$3.__b=function($e){r$1=null,e$1&&e$1($e)},l$3.__r=function($e){a$1&&a$1($e),t$1=0;var _e=(r$1=$e.__c).__H;_e&&(u$1===r$1?(_e.__h=[],r$1.__h=[],_e.__.forEach(function(Te){Te.__N&&(Te.__=Te.__N),Te.__V=c$1,Te.__N=Te.i=void 0})):(_e.__h.forEach(k$1),_e.__h.forEach(w$1),_e.__h=[],t$1=0)),u$1=r$1},l$3.diffed=function($e){v$1&&v$1($e);var _e=$e.__c;_e&&_e.__H&&(_e.__H.__h.length&&(f$1.push(_e)!==1&&i$1===l$3.requestAnimationFrame||((i$1=l$3.requestAnimationFrame)||j$1)(b$1)),_e.__H.__.forEach(function(Te){Te.i&&(Te.__H=Te.i),Te.__V!==c$1&&(Te.__=Te.__V),Te.i=void 0,Te.__V=c$1})),u$1=r$1=null},l$3.__c=function($e,_e){_e.some(function(Te){try{Te.__h.forEach(k$1),Te.__h=Te.__h.filter(function(Le){return!Le.__||w$1(Le)})}catch(Le){_e.some(function(Fe){Fe.__h&&(Fe.__h=[])}),_e=[],l$3.__e(Le,Te.__v)}}),l$1&&l$1($e,_e)},l$3.unmount=function($e){m$1&&m$1($e);var _e,Te=$e.__c;Te&&Te.__H&&(Te.__H.__.forEach(function(Le){try{k$1(Le)}catch(Fe){_e=Fe}}),Te.__H=void 0,_e&&l$3.__e(_e,Te.__v))};var g$2=typeof requestAnimationFrame=="function";function j$1($e){var _e,Te=function(){clearTimeout(Le),g$2&&cancelAnimationFrame(_e),setTimeout($e)},Le=setTimeout(Te,100);g$2&&(_e=requestAnimationFrame(Te))}function k$1($e){var _e=r$1,Te=$e.__c;typeof Te=="function"&&($e.__c=void 0,Te()),r$1=_e}function w$1($e){var _e=r$1;$e.__c=$e.__(),r$1=_e}function z$2($e,_e){return!$e||$e.length!==_e.length||_e.some(function(Te,Le){return Te!==$e[Le]})}function B$2($e,_e){return typeof _e=="function"?_e($e):_e}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($e){for(var _e=1;_e<arguments.length;_e++){var Te=arguments[_e];for(var Le in Te)Object.prototype.hasOwnProperty.call(Te,Le)&&($e[Le]=Te[Le])}return $e},_extends$1.apply(this,arguments)}const STYLE_INNER={position:"relative",width:"100%",minHeight:"100%"},STYLE_CONTENT={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class VirtualList extends b$3{constructor(_e){super(_e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:_e}=this.state;_e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(_e){let{data:Te,rowHeight:Le,renderRow:Fe,overscanCount:Ae=10,...Be}=_e;const{offset:Ie,height:Ne}=this.state;let ze=Math.floor(Ie/Le),Ue=Math.floor(Ne/Le);Ae&&(ze=Math.max(0,ze-ze%Ae),Ue+=Ae);const je=ze+Ue+4,Ve=Te.slice(ze,je),Ze={...STYLE_INNER,height:Te.length*Le},Ke={...STYLE_CONTENT,top:ze*Le};return y$2("div",_extends$1({onScroll:this.handleScroll},Be),y$2("div",{role:"presentation",style:Ze},y$2("div",{role:"presentation",style:Ke},Ve.map(Fe))))}}function defaultPickerIcon(){return y$2("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},y$2("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid=($e=21)=>{let _e="",Te=$e;for(;Te--;)_e+=urlAlphabet[Math.random()*64|0];return _e};var safeIsNaN=Number.isNaN||function $e(_e){return typeof _e=="number"&&_e!==_e};function isEqual($e,_e){return!!($e===_e||safeIsNaN($e)&&safeIsNaN(_e))}function areInputsEqual($e,_e){if($e.length!==_e.length)return!1;for(var Te=0;Te<$e.length;Te++)if(!isEqual($e[Te],_e[Te]))return!1;return!0}function memoizeOne($e,_e){_e===void 0&&(_e=areInputsEqual);var Te=null;function Le(){for(var Fe=[],Ae=0;Ae<arguments.length;Ae++)Fe[Ae]=arguments[Ae];if(Te&&Te.lastThis===this&&_e(Fe,Te.lastArgs))return Te.lastResult;var Be=$e.apply(this,Fe);return Te={lastResult:Be,lastArgs:Fe,lastThis:this},Be}return Le.clear=function(){Te=null},Le}const FOCUSABLE_ELEMENTS=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function getActiveOverlayEl($e,_e){if(_e){const Te=$e.querySelector(`[data-uppy-paneltype="${_e}"]`);if(Te)return Te}return $e}function focusOnFirstNode($e,_e){const Te=_e[0];Te&&(Te.focus(),$e.preventDefault())}function focusOnLastNode($e,_e){const Te=_e[_e.length-1];Te&&(Te.focus(),$e.preventDefault())}function isFocusInOverlay($e){return $e.contains(document.activeElement)}function trapFocus($e,_e,Te){const Le=getActiveOverlayEl(Te,_e),Fe=toArray(Le.querySelectorAll(FOCUSABLE_ELEMENTS)),Ae=Fe.indexOf(document.activeElement);isFocusInOverlay(Le)?$e.shiftKey&&Ae===0?focusOnLastNode($e,Fe):!$e.shiftKey&&Ae===Fe.length-1&&focusOnFirstNode($e,Fe):focusOnFirstNode($e,Fe)}function forInline($e,_e,Te){_e===null||trapFocus($e,_e,Te)}function createSuperFocus(){let $e=!1;return debounce$3((Te,Le)=>{const Fe=getActiveOverlayEl(Te,Le),Ae=Fe.contains(document.activeElement);if(Ae&&$e)return;const Be=Fe.querySelector("[data-uppy-super-focusable]");if(!(Ae&&!Be))if(Be)Be.focus({preventScroll:!0}),$e=!0;else{const Ie=Fe.querySelector(FOCUSABLE_ELEMENTS);Ie==null||Ie.focus({preventScroll:!0}),$e=!1}},260)}function isDragDropSupported(){const $e=document.body;return!(!("draggable"in $e)||!("ondragstart"in $e&&"ondrop"in $e)||!("FormData"in window)||!("FileReader"in window))}var isShallowEqual=function $e(_e,Te){if(_e===Te)return!0;for(var Le in _e)if(!(Le in Te))return!1;for(var Le in Te)if(_e[Le]!==Te[Le])return!1;return!0};const shallowEqual=getDefaultExportFromCjs(isShallowEqual);function iconImage(){return y$2("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("g",{fill:"#686DE0",fillRule:"evenodd"},y$2("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),y$2("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),y$2("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function iconAudio(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function iconVideo(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function iconPDF(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function iconArchive(){return y$2("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function iconFile(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("g",{fill:"#A7AFB7",fillRule:"nonzero"},y$2("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),y$2("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function iconText(){return y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},y$2("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function getIconByMime($e){const _e={color:"#838999",icon:iconFile()};if(!$e)return _e;const Te=$e.split("/")[0],Le=$e.split("/")[1];return Te==="text"?{color:"#5a5e69",icon:iconText()}:Te==="image"?{color:"#686de0",icon:iconImage()}:Te==="audio"?{color:"#068dbb",icon:iconAudio()}:Te==="video"?{color:"#19af67",icon:iconVideo()}:Te==="application"&&Le==="pdf"?{color:"#e25149",icon:iconPDF()}:Te==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(Le)!==-1?{color:"#00C469",icon:iconArchive()}:_e}function FilePreview($e){const{file:_e}=$e;if(_e.preview)return y$2("img",{className:"uppy-Dashboard-Item-previewImg",alt:_e.name,src:_e.preview});const{color:Te,icon:Le}=getIconByMime(_e.type);return y$2("div",{className:"uppy-Dashboard-Item-previewIconWrap"},y$2("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:Te}},Le),y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},y$2("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const metaFieldIdToName=($e,_e)=>(typeof _e=="function"?_e():_e).filter(Fe=>Fe.id===$e)[0].name;function renderMissingMetaFieldsError($e){const{file:_e,toggleFileCard:Te,i18n:Le,metaFields:Fe}=$e,{missingRequiredMetaFields:Ae}=_e;if(!(Ae!=null&&Ae.length))return null;const Be=Ae.map(Ie=>metaFieldIdToName(Ie,Fe)).join(", ");return y$2("div",{className:"uppy-Dashboard-Item-errorMessage"},Le("missingRequiredMetaFields",{smart_count:Ae.length,fields:Be})," ",y$2("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>Te(!0,_e.id)},Le("editFile")))}function FilePreviewAndLink($e){const{file:_e,i18n:Te,toggleFileCard:Le,metaFields:Fe,showLinkToFileUploadResult:Ae}=$e,Ie=_e.preview?"rgba(255, 255, 255, 0.5)":getIconByMime($e.file.type).color;return y$2("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Ie}},Ae&&_e.uploadURL&&y$2("a",{className:"uppy-Dashboard-Item-previewLink",href:_e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":_e.meta.name},y$2("span",{hidden:!0},_e.meta.name)),y$2(FilePreview,{file:_e}),y$2(renderMissingMetaFieldsError,{file:_e,i18n:Te,toggleFileCard:Le,metaFields:Fe}))}function onPauseResumeCancelRetry($e){if(!$e.isUploaded){if($e.error&&!$e.hideRetryButton){$e.uppy.retryUpload($e.file.id);return}$e.resumableUploads&&!$e.hidePauseResumeButton?$e.uppy.pauseResume($e.file.id):$e.individualCancellation&&!$e.hideCancelButton&&$e.uppy.removeFile($e.file.id)}}function progressIndicatorTitle($e){return $e.isUploaded?$e.i18n("uploadComplete"):$e.error?$e.i18n("retryUpload"):$e.resumableUploads?$e.file.isPaused?$e.i18n("resumeUpload"):$e.i18n("pauseUpload"):$e.individualCancellation?$e.i18n("cancelUpload"):""}function ProgressIndicatorButton($e){return y$2("div",{className:"uppy-Dashboard-Item-progress"},y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":progressIndicatorTitle($e),title:progressIndicatorTitle($e),onClick:()=>onPauseResumeCancelRetry($e)},$e.children))}function ProgressCircleContainer($e){let{children:_e}=$e;return y$2("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},_e)}function ProgressCircle($e){let{progress:_e}=$e;const Te=2*Math.PI*15;return y$2("g",null,y$2("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),y$2("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":Te,"stroke-dashoffset":Te-Te/100*_e}))}function FileProgress($e){if(!$e.file.progress.uploadStarted)return null;if($e.isUploaded)return y$2("div",{className:"uppy-Dashboard-Item-progress"},y$2("div",{className:"uppy-Dashboard-Item-progressIndicator"},y$2(ProgressCircleContainer,null,y$2("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),y$2("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!$e.recoveredState)return $e.error&&!$e.hideRetryButton?y$2(ProgressIndicatorButton,$e,y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},y$2("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),y$2("path",{d:"M7.9 3H10v2H7.9z"}),y$2("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),y$2("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):$e.resumableUploads&&!$e.hidePauseResumeButton?y$2(ProgressIndicatorButton,$e,y$2(ProgressCircleContainer,null,y$2(ProgressCircle,{progress:$e.file.progress.percentage}),$e.file.isPaused?y$2("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):y$2("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},y$2("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),y$2("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!$e.resumableUploads&&$e.individualCancellation&&!$e.hideCancelButton?y$2(ProgressIndicatorButton,$e,y$2(ProgressCircleContainer,null,y$2(ProgressCircle,{progress:$e.file.progress.percentage}),y$2("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):y$2("div",{className:"uppy-Dashboard-Item-progress"},y$2("div",{className:"uppy-Dashboard-Item-progressIndicator"},y$2(ProgressCircleContainer,null,y$2(ProgressCircle,{progress:$e.file.progress.percentage}))))}var prettierBytes=function $e(_e){if(typeof _e!="number"||isNaN(_e))throw new TypeError("Expected a number, got "+typeof _e);var Te=_e<0,Le=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(Te&&(_e=-_e),_e<1)return(Te?"-":"")+_e+" B";var Fe=Math.min(Math.floor(Math.log(_e)/Math.log(1024)),Le.length-1);_e=Number(_e/Math.pow(1024,Fe));var Ae=Le[Fe];return _e>=10||_e%1===0?(Te?"-":"")+_e.toFixed(0)+" "+Ae:(Te?"-":"")+_e.toFixed(1)+" "+Ae};const prettierBytes$1=getDefaultExportFromCjs(prettierBytes),separator="...";function truncateString($e,_e){if(_e===0)return"";if($e.length<=_e)return $e;if(_e<=separator.length+1)return`${$e.slice(0,_e-1)}…`;const Te=_e-separator.length,Le=Math.ceil(Te/2),Fe=Math.floor(Te/2);return $e.slice(0,Le)+separator+$e.slice(-Fe)}const renderFileName=$e=>{const{author:_e,name:Te}=$e.file.meta;function Le(){return $e.isSingleFile&&$e.containerHeight>=350?90:$e.containerWidth<=352?35:$e.containerWidth<=576?60:_e?20:30}return y$2("div",{className:"uppy-Dashboard-Item-name",title:Te},truncateString(Te,Le()))},renderAuthor=$e=>{const{author:_e}=$e.file.meta,{providerName:Te}=$e.file.remote,Le="·";return _e?y$2("div",{className:"uppy-Dashboard-Item-author"},y$2("a",{href:`${_e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},truncateString(_e.name,13)),Te?y$2(g$4,null,` ${Le} `,Te,` ${Le} `):null):null},renderFileSize=$e=>$e.file.size&&y$2("div",{className:"uppy-Dashboard-Item-statusSize"},prettierBytes$1($e.file.size)),ReSelectButton=$e=>$e.file.isGhost&&y$2("span",null," • ",y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:$e.toggleAddFilesPanel},$e.i18n("reSelect"))),ErrorButton=$e=>{let{file:_e,onClick:Te}=$e;return _e.error?y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":_e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:Te,type:"button"},"?"):null};function FileInfo($e){const{file:_e}=$e;return y$2("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":_e.source},y$2("div",{className:"uppy-Dashboard-Item-fileName"},renderFileName($e),y$2(ErrorButton,{file:$e.file,onClick:()=>alert($e.file.error)})),y$2("div",{className:"uppy-Dashboard-Item-status"},renderAuthor($e),renderFileSize($e),ReSelectButton($e)),y$2(renderMissingMetaFieldsError,{file:$e.file,i18n:$e.i18n,toggleFileCard:$e.toggleFileCard,metaFields:$e.metaFields}))}function copyToClipboard($e,_e){return _e===void 0&&(_e="Copy the URL below"),new Promise(Te=>{const Le=document.createElement("textarea");Le.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),Le.value=$e,document.body.appendChild(Le),Le.select();const Fe=()=>{document.body.removeChild(Le),window.prompt(_e,$e),Te()};try{return document.execCommand("copy")?(document.body.removeChild(Le),Te()):Fe("copy command unavailable")}catch{return document.body.removeChild(Le),Fe()}})}function EditButton($e){let{file:_e,uploadInProgressOrComplete:Te,metaFields:Le,canEditFile:Fe,i18n:Ae,onClick:Be}=$e;return!Te&&Le&&Le.length>0||!Te&&Fe(_e)?y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":Ae("editFileWithFilename",{file:_e.meta.name}),title:Ae("editFileWithFilename",{file:_e.meta.name}),onClick:()=>Be()},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},y$2("g",{fillRule:"evenodd"},y$2("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),y$2("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),y$2("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function RemoveButton($e){let{i18n:_e,onClick:Te,file:Le}=$e;return y$2("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":_e("removeFile",{file:Le.meta.name}),title:_e("removeFile",{file:Le.meta.name}),onClick:()=>Te()},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},y$2("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),y$2("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const copyLinkToClipboard=($e,_e)=>{copyToClipboard(_e.file.uploadURL,_e.i18n("copyLinkToClipboardFallback")).then(()=>{_e.uppy.log("Link copied to clipboard."),_e.uppy.info(_e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(_e.uppy.log).then(()=>$e.target.focus({preventScroll:!0}))};function CopyLinkButton($e){const{i18n:_e}=$e;return y$2("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":_e("copyLink"),title:_e("copyLink"),onClick:Te=>copyLinkToClipboard(Te,$e)},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},y$2("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Buttons($e){const{uppy:_e,file:Te,uploadInProgressOrComplete:Le,canEditFile:Fe,metaFields:Ae,showLinkToFileUploadResult:Be,showRemoveButton:Ie,i18n:Ne,toggleFileCard:ze,openFileEditor:Ue}=$e;return y$2("div",{className:"uppy-Dashboard-Item-actionWrapper"},y$2(EditButton,{i18n:Ne,file:Te,uploadInProgressOrComplete:Le,canEditFile:Fe,metaFields:Ae,onClick:()=>{Ae&&Ae.length>0?ze(!0,Te.id):Ue(Te)}}),Be&&Te.uploadURL?y$2(CopyLinkButton,{file:Te,uppy:_e,i18n:Ne}):null,Ie?y$2(RemoveButton,{i18n:Ne,file:Te,uppy:_e,onClick:()=>$e.uppy.removeFile(Te.id,"removed-by-user")}):null)}class FileItem extends b$3{componentDidMount(){const{file:_e}=this.props;_e.preview||this.props.handleRequestThumbnail(_e)}shouldComponentUpdate(_e){return!shallowEqual(this.props,_e)}componentDidUpdate(){const{file:_e}=this.props;_e.preview||this.props.handleRequestThumbnail(_e)}componentWillUnmount(){const{file:_e}=this.props;_e.preview||this.props.handleCancelThumbnail(_e)}render(){const{file:_e}=this.props,Te=_e.progress.preprocess||_e.progress.postprocess,Le=_e.progress.uploadComplete&&!Te&&!_e.error,Fe=_e.progress.uploadStarted||Te,Ae=_e.progress.uploadStarted&&!_e.progress.uploadComplete||Te,Be=_e.error||!1,{isGhost:Ie}=_e;let Ne=(this.props.individualCancellation||!Ae)&&!Le;Le&&this.props.showRemoveButtonAfterComplete&&(Ne=!0);const ze=classNames({"uppy-Dashboard-Item":!0,"is-inprogress":Ae&&!this.props.recoveredState,"is-processing":Te,"is-complete":Le,"is-error":!!Be,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":Ie});return y$2("div",{className:ze,id:`uppy_${_e.id}`,role:this.props.role},y$2("div",{className:"uppy-Dashboard-Item-preview"},y$2(FilePreviewAndLink,{file:_e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),y$2(FileProgress,{uppy:this.props.uppy,file:_e,error:Be,isUploaded:Le,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),y$2("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},y$2(FileInfo,{file:_e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),y$2(Buttons,{file:_e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:Ne,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:Fe,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function chunks($e,_e){const Te=[];let Le=[];return $e.forEach(Fe=>{Le.length<_e?Le.push(Fe):(Te.push(Le),Le=[Fe])}),Le.length&&Te.push(Le),Te}const FileList=$e=>{let{id:_e,error:Te,i18n:Le,uppy:Fe,files:Ae,acquirers:Be,resumableUploads:Ie,hideRetryButton:Ne,hidePauseResumeButton:ze,hideCancelButton:Ue,showLinkToFileUploadResult:je,showRemoveButtonAfterComplete:Ve,isWide:Ze,metaFields:Ke,isSingleFile:Je,toggleFileCard:ei,handleRequestThumbnail:ni,handleCancelThumbnail:Qe,recoveredState:ii,individualCancellation:ai,itemsPerRow:di,openFileEditor:vi,canEditFile:bi,toggleAddFilesPanel:xi,containerWidth:mi,containerHeight:li}=$e;const wi=di===1?71:200,Li=F$2(()=>{const Oi=(Ri,fn)=>Ae[fn].isGhost-Ae[Ri].isGhost,Di=Object.keys(Ae);return ii&&Di.sort(Oi),chunks(Di,di)},[Ae,di,ii]),Ti=Oi=>y$2("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:Oi[0]},Oi.map(Di=>y$2(FileItem,{key:Di,uppy:Fe,id:_e,error:Te,i18n:Le,acquirers:Be,resumableUploads:Ie,individualCancellation:ai,hideRetryButton:Ne,hidePauseResumeButton:ze,hideCancelButton:Ue,showLinkToFileUploadResult:je,showRemoveButtonAfterComplete:Ve,isWide:Ze,metaFields:Ke,recoveredState:ii,isSingleFile:Je,containerWidth:mi,containerHeight:li,toggleFileCard:ei,handleRequestThumbnail:ni,handleCancelThumbnail:Qe,role:"listitem",openFileEditor:vi,canEditFile:bi,toggleAddFilesPanel:xi,file:Ae[Di]})));return Je?y$2("div",{class:"uppy-Dashboard-files"},Ti(Li[0])):y$2(VirtualList,{class:"uppy-Dashboard-files",role:"list",data:Li,renderRow:Ti,rowHeight:wi})};let _Symbol$for;_Symbol$for=Symbol.for("uppy test: disable unused locale key warning");class AddFiles extends b$3{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=_e=>{this.props.handleInputChange(_e),_e.target.value=null},this.renderHiddenInput=(_e,Te)=>y$2("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:_e,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:Te}),this.renderHiddenCameraInput=(_e,Te,Le)=>{const Ae={photo:"image/*",video:"video/*"}[_e];return y$2("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${_e}`,onChange:this.onFileInputChange,capture:Te,accept:Ae,ref:Le})},this.renderMyDeviceAcquirer=()=>y$2("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},y$2("div",{className:"uppy-DashboardTab-inner"},y$2("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},y$2("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),y$2("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>y$2("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},y$2("div",{className:"uppy-DashboardTab-inner"},y$2("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},y$2("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),y$2("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>y$2("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},y$2("div",{className:"uppy-DashboardTab-inner"},y$2("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},y$2("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),y$2("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(_e,Te)=>{const Le=this.props.acquirers.length;return y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:Te,"data-uppy-super-focusable":Le===0},_e)},this.renderDropPasteBrowseTagline=_e=>{const Te=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),Le=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),Fe=this.props.fileManagerSelectionType,Ae=Fe.charAt(0).toUpperCase()+Fe.slice(1);return y$2("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):_e>0?this.props.i18nArray(`dropPasteImport${Ae}`,{browseFiles:Te,browseFolders:Le,browse:Te}):this.props.i18nArray(`dropPaste${Ae}`,{browseFiles:Te,browseFolders:Le,browse:Te}))},this.renderAcquirer=_e=>y$2("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":_e.id},y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":_e.id,"aria-controls":`uppy-DashboardContent-panel--${_e.id}`,"aria-selected":this.props.activePickerPanel.id===_e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(_e.id)},y$2("div",{className:"uppy-DashboardTab-inner"},_e.icon()),y$2("div",{className:"uppy-DashboardTab-name"},_e.name))),this.renderAcquirers=_e=>{const Te=[..._e],Le=Te.splice(_e.length-2,_e.length);return y$2(g$4,null,Te.map(Fe=>this.renderAcquirer(Fe)),y$2("span",{role:"presentation",style:{"white-space":"nowrap"}},Le.map(Fe=>this.renderAcquirer(Fe))))},this.renderSourcesList=(_e,Te)=>{const{showNativePhotoCameraButton:Le,showNativeVideoCameraButton:Fe}=this.props;let Ae=[];const Be="myDevice";Te||(Ae.push({key:Be,elements:this.renderMyDeviceAcquirer()}),Le&&Ae.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),Fe&&Ae.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()})),Ae.push(..._e.map(je=>({key:je.id,elements:this.renderAcquirer(je)}))),Ae.length===1&&Ae[0].key===Be&&(Ae=[]);const Ne=[...Ae],ze=Ne.splice(Ae.length-2,Ae.length),Ue=je=>je.map(Ve=>{let{key:Ze,elements:Ke}=Ve;return y$2(g$4,{key:Ze},Ke)});return y$2(g$4,null,this.renderDropPasteBrowseTagline(Ae.length),y$2("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},Ue(Ne),y$2("span",{role:"presentation",style:{"white-space":"nowrap"}},Ue(ze))))}}[_Symbol$for](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:_e}=this.props,Te=y$2("span",null,y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},y$2("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),y$2("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),Le=_e("poweredBy",{uppy:Te});return y$2("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},Le)}render(){const{showNativePhotoCameraButton:_e,showNativeVideoCameraButton:Te,nativeCameraFacingMode:Le}=this.props;return y$2("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,Fe=>{this.fileInput=Fe}),this.renderHiddenInput(!0,Fe=>{this.folderInput=Fe}),_e&&this.renderHiddenCameraInput("photo",Le,Fe=>{this.mobilePhotoFileInput=Fe}),Te&&this.renderHiddenCameraInput("video",Le,Fe=>{this.mobileVideoFileInput=Fe}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),y$2("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&y$2("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}const AddFilesPanel=$e=>y$2("div",{className:classNames("uppy-Dashboard-AddFilesPanel",$e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!$e.showAddFilesPanel},y$2("div",{className:"uppy-DashboardContent-bar"},y$2("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},$e.i18n("addingMoreFiles")),y$2("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>$e.toggleAddFilesPanel(!1)},$e.i18n("back"))),y$2(AddFiles,$e));function ignoreEvent($e){const{tagName:_e}=$e.target;if(_e==="INPUT"||_e==="TEXTAREA"){$e.stopPropagation();return}$e.preventDefault(),$e.stopPropagation()}function PickerPanelContent($e){let{activePickerPanel:_e,className:Te,hideAllPanels:Le,i18n:Fe,state:Ae,uppy:Be}=$e;return y$2("div",{className:classNames("uppy-DashboardContent-panel",Te),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${_e.id}`,onDragOver:ignoreEvent,onDragLeave:ignoreEvent,onDrop:ignoreEvent,onPaste:ignoreEvent},y$2("div",{className:"uppy-DashboardContent-bar"},y$2("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},Fe("importFrom",{name:_e.name})),y$2("button",{className:"uppy-DashboardContent-back",type:"button",onClick:Le},Fe("cancel"))),y$2("div",{className:"uppy-DashboardContent-panelBody"},Be.getPlugin(_e.id).render(Ae)))}function EditorPanel($e){const _e=$e.files[$e.fileCardFor],Te=()=>{$e.uppy.emit("file-editor:cancel",_e),$e.hideAllPanels()};return y$2("div",{className:classNames("uppy-DashboardContent-panel",$e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},y$2("div",{className:"uppy-DashboardContent-bar"},y$2("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},$e.i18nArray("editing",{file:y$2("span",{className:"uppy-DashboardContent-titleFile"},_e.meta?_e.meta.name:_e.name)})),y$2("button",{className:"uppy-DashboardContent-back",type:"button",onClick:Te},$e.i18n("cancel")),y$2("button",{className:"uppy-DashboardContent-save",type:"button",onClick:$e.saveFileEditor},$e.i18n("save"))),y$2("div",{className:"uppy-DashboardContent-panelBody"},$e.editors.map(Le=>$e.uppy.getPlugin(Le.id).render($e.state))))}const uploadStates={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function getUploadingState($e,_e,Te,Le){if(Le===void 0&&(Le={}),$e)return uploadStates.STATE_ERROR;if(_e)return uploadStates.STATE_COMPLETE;if(Te)return uploadStates.STATE_PAUSED;let Fe=uploadStates.STATE_WAITING;const Ae=Object.keys(Le);for(let Be=0;Be<Ae.length;Be++){const{progress:Ie}=Le[Ae[Be]];if(Ie.uploadStarted&&!Ie.uploadComplete)return uploadStates.STATE_UPLOADING;Ie.preprocess&&Fe!==uploadStates.STATE_UPLOADING&&(Fe=uploadStates.STATE_PREPROCESSING),Ie.postprocess&&Fe!==uploadStates.STATE_UPLOADING&&Fe!==uploadStates.STATE_PREPROCESSING&&(Fe=uploadStates.STATE_POSTPROCESSING)}return Fe}function UploadStatus($e){let{files:_e,i18n:Te,isAllComplete:Le,isAllErrored:Fe,isAllPaused:Ae,inProgressNotPausedFiles:Be,newFiles:Ie,processingFiles:Ne}=$e;switch(getUploadingState(Fe,Le,Ae,_e)){case"uploading":return Te("uploadingXFiles",{smart_count:Be.length});case"preprocessing":case"postprocessing":return Te("processingXFiles",{smart_count:Ne.length});case"paused":return Te("uploadPaused");case"waiting":return Te("xFilesSelected",{smart_count:Ie.length});case"complete":return Te("uploadComplete");case"error":return Te("error")}}function PanelTopBar($e){const{i18n:_e,isAllComplete:Te,hideCancelButton:Le,maxNumberOfFiles:Fe,toggleAddFilesPanel:Ae,uppy:Be}=$e;let{allowNewUpload:Ie}=$e;return Ie&&Fe&&(Ie=$e.totalFileCount<$e.maxNumberOfFiles),y$2("div",{className:"uppy-DashboardContent-bar"},!Te&&!Le?y$2("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>Be.cancelAll()},_e("cancel")):y$2("div",null),y$2("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},y$2(UploadStatus,$e)),Ie?y$2("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":_e("addMoreFiles"),title:_e("addMoreFiles"),onClick:()=>Ae(!0)},y$2("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},y$2("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),y$2("span",{className:"uppy-DashboardContent-addMoreCaption"},_e("addMore"))):y$2("div",null))}function RenderMetaFields($e){const{computedMetaFields:_e,requiredMetaFields:Te,updateMeta:Le,form:Fe,formState:Ae}=$e,Be={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return _e.map(Ie=>{const Ne=`uppy-Dashboard-FileCard-input-${Ie.id}`,ze=Te.includes(Ie.id);return y$2("fieldset",{key:Ie.id,className:"uppy-Dashboard-FileCard-fieldset"},y$2("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:Ne},Ie.name),Ie.render!==void 0?Ie.render({value:Ae[Ie.id],onChange:Ue=>Le(Ue,Ie.id),fieldCSSClasses:Be,required:ze,form:Fe.id},y$2):y$2("input",{className:Be.text,id:Ne,form:Fe.id,type:Ie.type||"text",required:ze,value:Ae[Ie.id],placeholder:Ie.placeholder,onInput:Ue=>Le(Ue.target.value,Ie.id),"data-uppy-super-focusable":!0}))})}function FileCard($e){var _e;const{files:Te,fileCardFor:Le,toggleFileCard:Fe,saveFileCard:Ae,metaFields:Be,requiredMetaFields:Ie,openFileEditor:Ne,i18n:ze,i18nArray:Ue,className:je,canEditFile:Ve}=$e,Ze=()=>typeof Be=="function"?Be(Te[Le]):Be,Ke=Te[Le],Je=(_e=Ze())!=null?_e:[],ei=Ve(Ke),ni={};Je.forEach(xi=>{var mi;ni[xi.id]=(mi=Ke.meta[xi.id])!=null?mi:""});const[Qe,ii]=h$1(ni),ai=T$2(xi=>{xi.preventDefault(),Ae(Qe,Le)},[Ae,Qe,Le]),di=(xi,mi)=>{ii({...Qe,[mi]:xi})},vi=()=>{Fe(!1)},[bi]=h$1(()=>{const xi=document.createElement("form");return xi.setAttribute("tabindex","-1"),xi.id=nanoid(),xi});return p$1(()=>(document.body.appendChild(bi),bi.addEventListener("submit",ai),()=>{bi.removeEventListener("submit",ai),document.body.removeChild(bi)}),[bi,ai]),y$2("div",{className:classNames("uppy-Dashboard-FileCard",je),"data-uppy-panelType":"FileCard",onDragOver:ignoreEvent,onDragLeave:ignoreEvent,onDrop:ignoreEvent,onPaste:ignoreEvent},y$2("div",{className:"uppy-DashboardContent-bar"},y$2("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},Ue("editing",{file:y$2("span",{className:"uppy-DashboardContent-titleFile"},Ke.meta?Ke.meta.name:Ke.name)})),y$2("button",{className:"uppy-DashboardContent-back",type:"button",form:bi.id,title:ze("finishEditingFile"),onClick:vi},ze("cancel"))),y$2("div",{className:"uppy-Dashboard-FileCard-inner"},y$2("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:getIconByMime(Ke.type).color}},y$2(FilePreview,{file:Ke}),ei&&y$2("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:xi=>{ai(xi),Ne(Ke)}},ze("editFile"))),y$2("div",{className:"uppy-Dashboard-FileCard-info"},y$2(RenderMetaFields,{computedMetaFields:Je,requiredMetaFields:Ie,updateMeta:di,form:bi,formState:Qe})),y$2("div",{className:"uppy-Dashboard-FileCard-actions"},y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:bi.id},ze("saveChanges")),y$2("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:vi,form:bi.id},ze("cancel")))))}const transitionName="uppy-transition-slideDownUp",duration=250;class Slide extends b$3{constructor(_e){super(_e),this.state={cachedChildren:null,className:""}}componentWillUpdate(_e){const{cachedChildren:Te}=this.state,Le=$$3(_e.children)[0];if(Te===Le)return null;const Fe={cachedChildren:Le};Le&&!Te&&(Fe.className=`${transitionName}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${transitionName}-enter ${transitionName}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},duration)})),Te&&!Le&&this.leaveTimeout===void 0&&(Fe.cachedChildren=Te,Fe.className=`${transitionName}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${transitionName}-leave ${transitionName}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},duration)})),this.setState(Fe)}render(){const{cachedChildren:_e,className:Te}=this.state;return _e?E$3(_e,{className:classNames(Te,_e.props.className)}):null}}function _extends(){return _extends=Object.assign?Object.assign.bind():function($e){for(var _e=1;_e<arguments.length;_e++){var Te=arguments[_e];for(var Le in Te)Object.prototype.hasOwnProperty.call(Te,Le)&&($e[Le]=Te[Le])}return $e},_extends.apply(this,arguments)}const WIDTH_XL=900,WIDTH_LG=700,WIDTH_MD=576,HEIGHT_MD=330;function Dashboard$1($e){const _e=$e.totalFileCount===0,Te=$e.totalFileCount===1,Le=$e.containerWidth>WIDTH_MD,Fe=$e.containerHeight>HEIGHT_MD,Ae=classNames({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":$e.disabled,"uppy-Dashboard--animateOpenClose":$e.animateOpenClose,"uppy-Dashboard--isClosing":$e.isClosing,"uppy-Dashboard--isDraggingOver":$e.isDraggingOver,"uppy-Dashboard--modal":!$e.inline,"uppy-size--md":$e.containerWidth>WIDTH_MD,"uppy-size--lg":$e.containerWidth>WIDTH_LG,"uppy-size--xl":$e.containerWidth>WIDTH_XL,"uppy-size--height-md":$e.containerHeight>HEIGHT_MD,"uppy-Dashboard--isAddFilesPanelVisible":$e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":$e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":$e.singleFileFullScreen&&Te&&Fe});let Be=1;$e.containerWidth>WIDTH_XL?Be=5:$e.containerWidth>WIDTH_LG?Be=4:$e.containerWidth>WIDTH_MD&&(Be=3);const Ie=$e.showSelectedFiles&&!_e,Ne=$e.recoveredState?Object.keys($e.recoveredState.files).length:null,ze=$e.files?Object.keys($e.files).filter(Ve=>$e.files[Ve].isGhost).length:null,Ue=()=>ze>0?$e.i18n("recoveredXFiles",{smart_count:ze}):$e.i18n("recoveredAllFiles");return y$2("div",{className:Ae,"data-uppy-theme":$e.theme,"data-uppy-num-acquirers":$e.acquirers.length,"data-uppy-drag-drop-supported":!$e.disableLocalFiles&&isDragDropSupported(),"aria-hidden":$e.inline?"false":$e.isHidden,"aria-disabled":$e.disabled,"aria-label":$e.inline?$e.i18n("dashboardTitle"):$e.i18n("dashboardWindowTitle"),onPaste:$e.handlePaste,onDragOver:$e.handleDragOver,onDragLeave:$e.handleDragLeave,onDrop:$e.handleDrop},y$2("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:$e.handleClickOutside}),y$2("div",{className:"uppy-Dashboard-inner","aria-modal":!$e.inline&&"true",role:!$e.inline&&"dialog",style:{width:$e.inline&&$e.width?$e.width:"",height:$e.inline&&$e.height?$e.height:""}},$e.inline?null:y$2("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":$e.i18n("closeModal"),title:$e.i18n("closeModal"),onClick:$e.closeModal},y$2("span",{"aria-hidden":"true"},"×")),y$2("div",{className:"uppy-Dashboard-innerWrap"},y$2("div",{className:"uppy-Dashboard-dropFilesHereHint"},$e.i18n("dropHint")),Ie&&y$2(PanelTopBar,$e),Ne&&y$2("div",{className:"uppy-Dashboard-serviceMsg"},y$2("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},y$2("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},y$2("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),y$2("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),y$2("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),y$2("strong",{className:"uppy-Dashboard-serviceMsg-title"},$e.i18n("sessionRestored")),y$2("div",{className:"uppy-Dashboard-serviceMsg-text"},Ue())),Ie?y$2(FileList,{id:$e.id,error:$e.error,i18n:$e.i18n,uppy:$e.uppy,files:$e.files,acquirers:$e.acquirers,resumableUploads:$e.resumableUploads,hideRetryButton:$e.hideRetryButton,hidePauseResumeButton:$e.hidePauseResumeButton,hideCancelButton:$e.hideCancelButton,showLinkToFileUploadResult:$e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:$e.showRemoveButtonAfterComplete,isWide:$e.isWide,metaFields:$e.metaFields,toggleFileCard:$e.toggleFileCard,handleRequestThumbnail:$e.handleRequestThumbnail,handleCancelThumbnail:$e.handleCancelThumbnail,recoveredState:$e.recoveredState,individualCancellation:$e.individualCancellation,openFileEditor:$e.openFileEditor,canEditFile:$e.canEditFile,toggleAddFilesPanel:$e.toggleAddFilesPanel,isSingleFile:Te,itemsPerRow:Be}):y$2(AddFiles,_extends({},$e,{isSizeMD:Le})),y$2(Slide,null,$e.showAddFilesPanel?y$2(AddFilesPanel,_extends({key:"AddFiles"},$e,{isSizeMD:Le})):null),y$2(Slide,null,$e.fileCardFor?y$2(FileCard,_extends({key:"FileCard"},$e)):null),y$2(Slide,null,$e.activePickerPanel?y$2(PickerPanelContent,_extends({key:"Picker"},$e)):null),y$2(Slide,null,$e.showFileEditor?y$2(EditorPanel,_extends({key:"Editor"},$e)):null),y$2("div",{className:"uppy-Dashboard-progressindicators"},$e.progressindicators.map(Ve=>$e.uppy.getPlugin(Ve.id).render($e.state))))))}const locale={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function _classPrivateFieldLooseBase($e,_e){if(!Object.prototype.hasOwnProperty.call($e,_e))throw new TypeError("attempted to use private field on non-instance");return $e}var id=0;function _classPrivateFieldLooseKey($e){return"__private_"+id+++"_"+$e}const packageJson={version:"3.7.1"},memoize=memoizeOne.default||memoizeOne,TAB_KEY=9,ESC_KEY=27;function createPromise(){const $e={};return $e.promise=new Promise((_e,Te)=>{$e.resolve=_e,$e.reject=Te}),$e}var _disabledNodes=_classPrivateFieldLooseKey("disabledNodes"),_generateLargeThumbnailIfSingleFile=_classPrivateFieldLooseKey("generateLargeThumbnailIfSingleFile"),_openFileEditorWhenFilesAdded=_classPrivateFieldLooseKey("openFileEditorWhenFilesAdded"),_attachRenderFunctionToTarget=_classPrivateFieldLooseKey("attachRenderFunctionToTarget"),_isTargetSupported=_classPrivateFieldLooseKey("isTargetSupported"),_getAcquirers=_classPrivateFieldLooseKey("getAcquirers"),_getProgressIndicators=_classPrivateFieldLooseKey("getProgressIndicators"),_getEditors=_classPrivateFieldLooseKey("getEditors"),_addSpecifiedPluginsFromOptions=_classPrivateFieldLooseKey("addSpecifiedPluginsFromOptions"),_autoDiscoverPlugins=_classPrivateFieldLooseKey("autoDiscoverPlugins"),_addSupportedPluginIfNoTarget=_classPrivateFieldLooseKey("addSupportedPluginIfNoTarget");class Dashboard extends UIPlugin{constructor(_e,Te){var Le;super(_e,Te),Le=this,Object.defineProperty(this,_disabledNodes,{writable:!0,value:null}),this.removeTarget=Ae=>{const Ie=this.getPluginState().targets.filter(Ne=>Ne.id!==Ae.id);this.setPluginState({targets:Ie})},this.addTarget=Ae=>{const Be=Ae.id||Ae.constructor.name,Ie=Ae.title||Be,Ne=Ae.type;if(Ne!=="acquirer"&&Ne!=="progressindicator"&&Ne!=="editor"){this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error");return}const ze={id:Be,name:Ie,type:Ne},je=this.getPluginState().targets.slice();return je.push(ze),this.setPluginState({targets:je}),this.el},this.hideAllPanels=()=>{const Ae=this.getPluginState(),Be={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};Ae.activePickerPanel===Be.activePickerPanel&&Ae.showAddFilesPanel===Be.showAddFilesPanel&&Ae.showFileEditor===Be.showFileEditor&&Ae.activeOverlayType===Be.activeOverlayType||(this.setPluginState(Be),this.uppy.emit("dashboard:close-panel",Ae.activePickerPanel.id))},this.showPanel=Ae=>{const{targets:Be}=this.getPluginState(),Ie=Be.filter(Ne=>Ne.type==="acquirer"&&Ne.id===Ae)[0];this.setPluginState({activePickerPanel:Ie,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",Ae)},this.canEditFile=Ae=>{const{targets:Be}=this.getPluginState();return _classPrivateFieldLooseBase(this,_getEditors)[_getEditors](Be).some(Ne=>this.uppy.getPlugin(Ne.id).canEditFile(Ae))},this.openFileEditor=Ae=>{const{targets:Be}=this.getPluginState(),Ie=_classPrivateFieldLooseBase(this,_getEditors)[_getEditors](Be);this.setPluginState({showFileEditor:!0,fileCardFor:Ae.id||null,activeOverlayType:"FileEditor"}),Ie.forEach(Ne=>{this.uppy.getPlugin(Ne.id).selectFile(Ae)})},this.saveFileEditor=()=>{const{targets:Ae}=this.getPluginState();_classPrivateFieldLooseBase(this,_getEditors)[_getEditors](Ae).forEach(Ie=>{this.uppy.getPlugin(Ie.id).save()}),this.hideAllPanels()},this.openModal=()=>{const{promise:Ae,resolve:Be}=createPromise();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const Ie=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",Ie,!1),Be()};this.el.addEventListener("animationend",Ie,!1)}else this.setPluginState({isHidden:!1}),Be();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),Ae},this.closeModal=function(Ae){Ae===void 0&&(Ae={});const{manualClose:Be=!0}=Ae,{isHidden:Ie,isClosing:Ne}=Le.getPluginState();if(Ie||Ne)return;const{promise:ze,resolve:Ue}=createPromise();if(Le.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),Le.opts.animateOpenClose){Le.setPluginState({isClosing:!0});const Ve=()=>{Le.setPluginState({isHidden:!0,isClosing:!1}),Le.superFocus.cancel(),Le.savedActiveElement.focus(),Le.el.removeEventListener("animationend",Ve,!1),Ue()};Le.el.addEventListener("animationend",Ve,!1)}else Le.setPluginState({isHidden:!0}),Le.superFocus.cancel(),Le.savedActiveElement.focus(),Ue();if(document.removeEventListener("keydown",Le.handleKeyDownInModal),Be&&Le.opts.browserBackButtonClose){var je;(je=history.state)!=null&&je[Le.modalName]&&history.back()}return Le.uppy.emit("dashboard:modal-closed"),ze},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=Ae=>{const{capabilities:Be}=this.uppy.getState();this.uppy.setState({capabilities:{...Be,darkMode:Ae}})},this.handleSystemDarkModeChange=Ae=>{const Be=Ae.matches;this.uppy.log(`[Dashboard] Dark mode is ${Be?"on":"off"}`),this.setDarkModeCapability(Be)},this.toggleFileCard=(Ae,Be)=>{const Ie=this.uppy.getFile(Be);Ae?this.uppy.emit("dashboard:file-edit-start",Ie):this.uppy.emit("dashboard:file-edit-complete",Ie),this.setPluginState({fileCardFor:Ae?Be:null,activeOverlayType:Ae?"FileCard":null})},this.toggleAddFilesPanel=Ae=>{this.setPluginState({showAddFilesPanel:Ae,activeOverlayType:Ae?"AddFiles":null})},this.addFiles=Ae=>{const Be=Ae.map(Ie=>({source:this.id,name:Ie.name,type:Ie.type,data:Ie,meta:{relativePath:Ie.relativePath||Ie.webkitRelativePath||null}}));try{this.uppy.addFiles(Be)}catch(Ie){this.uppy.log(Ie)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(Ae=>{const Be=Ae[0],{width:Ie,height:Ne}=Be.contentRect;this.setPluginState({containerWidth:Ie,containerHeight:Ne,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const Ae=this.getPluginState(),Be=!this.opts.inline&&Ae.isHidden;!Ae.areInsidesReadyToBeVisible&&!Be&&(this.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=Ae=>{this.el.contains(Ae.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=Ae=>{var Be;const Ie=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],Ne=(Be=_classPrivateFieldLooseBase(this,_disabledNodes)[_disabledNodes])!=null?Be:toArray(this.el.querySelectorAll(Ie)).filter(ze=>!ze.classList.contains("uppy-Dashboard-close"));for(const ze of Ne)ze.tagName==="A"?ze.setAttribute("aria-disabled",Ae):ze.disabled=Ae;Ae?_classPrivateFieldLooseBase(this,_disabledNodes)[_disabledNodes]=Ne:_classPrivateFieldLooseBase(this,_disabledNodes)[_disabledNodes]=null,this.dashboardIsDisabled=Ae},this.updateBrowserHistory=()=>{var Ae;(Ae=history.state)!=null&&Ae[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=Ae=>{var Be;this.isModalOpen()&&(!Ae.state||!Ae.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(Be=Ae.state)!=null&&Be[this.modalName]&&history.back()},this.handleKeyDownInModal=Ae=>{Ae.keyCode===ESC_KEY&&this.requestCloseModal(Ae),Ae.keyCode===TAB_KEY&&trapFocus(Ae,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=Ae=>{this.uppy.iteratePlugins(Ie=>{Ie.type==="acquirer"&&(Ie.handleRootPaste==null||Ie.handleRootPaste(Ae))});const Be=toArray(Ae.clipboardData.files);Be.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(Be))},this.handleInputChange=Ae=>{Ae.preventDefault();const Be=toArray(Ae.target.files);Be.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(Be))},this.handleDragOver=Ae=>{var Be,Ie;Ae.preventDefault(),Ae.stopPropagation();const Ne=()=>{let Ve=!0;return this.uppy.iteratePlugins(Ze=>{Ze.canHandleRootDrop!=null&&Ze.canHandleRootDrop(Ae)&&(Ve=!0)}),Ve},ze=()=>{const{types:Ve}=Ae.dataTransfer;return Ve.some(Ze=>Ze==="Files")},Ue=Ne(),je=ze();if(!Ue&&!je||this.opts.disabled||this.opts.disableLocalFiles&&(je||!Ue)||!this.uppy.getState().allowNewUpload){Ae.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}Ae.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(Be=(Ie=this.opts).onDragOver)==null||Be.call(Ie,Ae)},this.handleDragLeave=Ae=>{var Be,Ie;Ae.preventDefault(),Ae.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(Be=(Ie=this.opts).onDragLeave)==null||Be.call(Ie,Ae)},this.handleDrop=async Ae=>{var Be,Ie;Ae.preventDefault(),Ae.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(je=>{je.type==="acquirer"&&(je.handleRootDrop==null||je.handleRootDrop(Ae))});let Ne=!1;const ze=je=>{this.uppy.log(je,"error"),Ne||(this.uppy.info(je.message,"error"),Ne=!0)};this.uppy.log("[Dashboard] Processing dropped files");const Ue=await getDroppedFiles(Ae.dataTransfer,{logDropError:ze});Ue.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(Ue)),(Be=(Ie=this.opts).onDrop)==null||Be.call(Ie,Ae)},this.handleRequestThumbnail=Ae=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",Ae)},this.handleCancelThumbnail=Ae=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",Ae)},this.handleKeyDownInInline=Ae=>{Ae.keyCode===TAB_KEY&&forInline(Ae,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=Ae=>{this.el.contains(document.activeElement)&&this.handlePaste(Ae)},this.handleComplete=Ae=>{let{failed:Be}=Ae;this.opts.closeAfterFinish&&Be.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,_generateLargeThumbnailIfSingleFile,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const Ae=600,Be=this.uppy.getFiles();if(Be.length===1){const Ie=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);Ie==null||Ie.setOptions({thumbnailWidth:Ae});const Ne={...Be[0],preview:void 0};Ie.requestThumbnail(Ne).then(()=>{Ie==null||Ie.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,_openFileEditorWhenFilesAdded,{writable:!0,value:Ae=>{const Be=Ae[0];this.canEditFile(Be)&&this.openFileEditor(Be)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const Ae=findAllDOMElements(this.opts.trigger);Ae?Ae.forEach(Be=>Be.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",_classPrivateFieldLooseBase(this,_addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",_classPrivateFieldLooseBase(this,_generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]),this.uppy.on("file-removed",_classPrivateFieldLooseBase(this,_generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",_classPrivateFieldLooseBase(this,_openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded])},this.removeEvents=()=>{const Ae=findAllDOMElements(this.opts.trigger);!this.opts.inline&&Ae&&Ae.forEach(Be=>Be.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",_classPrivateFieldLooseBase(this,_addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",_classPrivateFieldLooseBase(this,_generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]),this.uppy.off("file-removed",_classPrivateFieldLooseBase(this,_generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",_classPrivateFieldLooseBase(this,_openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded])},this.superFocusOnEachUpdate=()=>{const Ae=this.el.contains(document.activeElement),Be=document.activeElement===document.body||document.activeElement===null,Ie=this.uppy.getState().info.length===0,Ne=!this.opts.inline;Ie&&(Ne||Ae||Be&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(Ae,Be)=>{this.uppy.setFileMeta(Be,Ae),this.toggleFileCard(!1,Be)},Object.defineProperty(this,_attachRenderFunctionToTarget,{writable:!0,value:Ae=>{const Be=this.uppy.getPlugin(Ae.id);return{...Ae,icon:Be.icon||this.opts.defaultPickerIcon,render:Be.render}}}),Object.defineProperty(this,_isTargetSupported,{writable:!0,value:Ae=>{const Be=this.uppy.getPlugin(Ae.id);return typeof Be.isSupported!="function"?!0:Be.isSupported()}}),Object.defineProperty(this,_getAcquirers,{writable:!0,value:memoize(Ae=>Ae.filter(Be=>Be.type==="acquirer"&&_classPrivateFieldLooseBase(this,_isTargetSupported)[_isTargetSupported](Be)).map(_classPrivateFieldLooseBase(this,_attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]))}),Object.defineProperty(this,_getProgressIndicators,{writable:!0,value:memoize(Ae=>Ae.filter(Be=>Be.type==="progressindicator").map(_classPrivateFieldLooseBase(this,_attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]))}),Object.defineProperty(this,_getEditors,{writable:!0,value:memoize(Ae=>Ae.filter(Be=>Be.type==="editor").map(_classPrivateFieldLooseBase(this,_attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]))}),this.render=Ae=>{const Be=this.getPluginState(),{files:Ie,capabilities:Ne,allowNewUpload:ze}=Ae,{newFiles:Ue,uploadStartedFiles:je,completeFiles:Ve,erroredFiles:Ze,inProgressFiles:Ke,inProgressNotPausedFiles:Je,processingFiles:ei,isUploadStarted:ni,isAllComplete:Qe,isAllErrored:ii,isAllPaused:ai}=this.uppy.getObjectOfFilesPerState(),di=_classPrivateFieldLooseBase(this,_getAcquirers)[_getAcquirers](Be.targets),vi=_classPrivateFieldLooseBase(this,_getProgressIndicators)[_getProgressIndicators](Be.targets),bi=_classPrivateFieldLooseBase(this,_getEditors)[_getEditors](Be.targets);let xi;return this.opts.theme==="auto"?xi=Ne.darkMode?"dark":"light":xi=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Dashboard$1({state:Ae,isHidden:Be.isHidden,files:Ie,newFiles:Ue,uploadStartedFiles:je,completeFiles:Ve,erroredFiles:Ze,inProgressFiles:Ke,inProgressNotPausedFiles:Je,processingFiles:ei,isUploadStarted:ni,isAllComplete:Qe,isAllErrored:ii,isAllPaused:ai,totalFileCount:Object.keys(Ie).length,totalProgress:Ae.totalProgress,allowNewUpload:ze,acquirers:di,theme:xi,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:Be.activePickerPanel,showFileEditor:Be.showFileEditor,saveFileEditor:this.saveFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:Be.isClosing,progressindicators:vi,editors:bi,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:Ae.recoveredState,metaFields:Be.metaFields,resumableUploads:Ne.resumableUploads||!1,individualCancellation:Ne.individualCancellation,isMobileDevice:Ne.isMobileDevice,fileCardFor:Be.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:Be.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:Be.containerWidth,containerHeight:Be.containerHeight,areInsidesReadyToBeVisible:Be.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:Be.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,_addSpecifiedPluginsFromOptions,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(Be=>{const Ie=this.uppy.getPlugin(Be);Ie?Ie.mount(this,Ie):this.uppy.log(`[Uppy] Dashboard could not find plugin '${Be}', make sure to uppy.use() the plugins you are specifying`,"warning")})}}),Object.defineProperty(this,_autoDiscoverPlugins,{writable:!0,value:()=>{this.uppy.iteratePlugins(_classPrivateFieldLooseBase(this,_addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget])}}),Object.defineProperty(this,_addSupportedPluginIfNoTarget,{writable:!0,value:Ae=>{var Be;const Ie=["acquirer","editor"];Ae&&!((Be=Ae.opts)!=null&&Be.target)&&Ie.includes(Ae.type)&&(this.getPluginState().targets.some(ze=>Ae.id===ze.id)||Ae.mount(this,Ae))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:Ae,closeAfterFinish:Be}=this.opts;if(Ae&&Be)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:Ie,allowMultipleUploadBatches:Ne}=this.uppy.opts;(Ie||Ne)&&Be&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:ze}=this.opts;ze&&this.mount(ze,this),this.opts.disableStatusBar||this.uppy.use(StatusBar,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Informer,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(ThumbnailGenerator,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const Ue=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${Ue?"on":"off"}`),this.setDarkModeCapability(Ue),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),_classPrivateFieldLooseBase(this,_addSpecifiedPluginsFromOptions)[_addSpecifiedPluginsFromOptions](),_classPrivateFieldLooseBase(this,_autoDiscoverPlugins)[_autoDiscoverPlugins](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const Be=this.uppy.getPlugin(`${this.id}:Informer`);Be&&this.uppy.removePlugin(Be)}if(!this.opts.disableStatusBar){const Be=this.uppy.getPlugin(`${this.id}:StatusBar`);Be&&this.uppy.removePlugin(Be)}if(!this.opts.disableThumbnailGenerator){const Be=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);Be&&this.uppy.removePlugin(Be)}(this.opts.plugins||[]).forEach(Be=>{const Ie=this.uppy.getPlugin(Be);Ie&&Ie.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${nanoid()}`,this.defaultLocale=locale;const Fe={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.clearUploadedFiles(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...Fe,...Te},this.i18nInit(),this.superFocus=createSuperFocus(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}}Dashboard.VERSION=packageJson.version;const fa_IR={strings:{},pluralize($e){return $e===1?0:1}};fa_IR.strings={addBulkFilesFailed:{0:"افزودن %{smart_count} فایل به دلیل خطای داخلی با شکست مواجه شد",1:"افزودن %{smart_count} فایل به دلیل خطاهای داخلی با شکست مواجه شد"},addedNumFiles:"%{numFiles} فایل اضافه شد",addingMoreFiles:"درحال افزودن فایل‌ها",additionalRestrictionsFailed:"%{count} محدودیت اضافی رعایت نشد",addMore:"اضافه کردن بیشتر",addMoreFiles:"افزودن فایل‌های بیشتر",allFilesFromFolderNamed:"همه فایل‌ها از پوشه %{name}",allowAccessDescription:"برای گرفتن عکس یا ضبط ویدیو با دوربین خود، لطفاً اجازه دسترسی به دوربین را برای این سایت بدهید.",allowAccessTitle:"لطفا به دوربین اجازه‌ی دسترسی بدهید",allowAudioAccessDescription:"برای ضبط صدا، لطفاً اجازه دسترسی به میکروفون را برای این سایت بدهید.",allowAudioAccessTitle:"لطفا اجازه دسترسی به میکروفون خود را بدهید",aspectRatioLandscape:"برش منظره (16:9)",aspectRatioPortrait:"برش پرتره (9:16)",aspectRatioSquare:"برش مربعی",authAborted:"احراز هویت لغو شد",authenticateWith:"در حال اتصال به %{pluginName}",authenticateWithTitle:"احراز هویت %{pluginName} برای انتخاب فایل ضروریست!",back:"بازگشت",browse:"انتخاب کنید",browseFiles:"انتخاب فایل",browseFolders:"انتخاب فولدر",cancel:"انصراف",cancelUpload:"لغو بارگذاری",chooseFiles:"انتخاب فایل",closeModal:"بستن پنجره",companionError:"اتصال با طرق مقابل با شکست روبرو شد",companionUnauthorizeHint:"برای قطع احراز هویت حساب %{provider}, لطفا به آدرس %{url} بروید",complete:"کامل شد",compressedX:"%{size} با فشرده‌سازی تصاویر ذخیره شد",compressingImages:"فشرده سازی تصاویر ...",connectedToInternet:"به اینترنت متصل شد",copyLink:"کپی پیوند",copyLinkToClipboardFallback:"پیوند زیر را کپی کنید",copyLinkToClipboardSuccess:"پیوند به حافظه‌ی موقت منتقل شد",creatingAssembly:"درحال آماده سازی برای بارگذاری",creatingAssemblyFailed:"Transloadit: اسمبلی ایجاد نشد",dashboardTitle:"بارگذاری فایل",dashboardWindowTitle:"پنجره بارگذاری فایل. برای لغو کلید esc را بفشارید",dataUploadedOfTotal:"%{complete} از %{total}",discardRecordedFile:"دورانداختن فایل ضبط شده",done:"انجام شد",dropHereOr:"فایل را بکشید و اینجا رها کنید یا  %{browse}",dropHint:"فایل‌ها را بکشید و اینجا رها کنید",dropPasteBoth:"فایل‌ها را اینجا رها کنید، بچسبانید یا  %{browse}",dropPasteFiles:"فایل‌ها را اینجا رها کنید، بچسبانید یا  %{browse}",dropPasteFolders:"فایل‌ها را اینجا رها کنید، بچسبانید یا  %{browse}",dropPasteImportBoth:"فایل‌ها را اینجا رها کنید، بچسبانید یا %{browse}",dropPasteImportFiles:"فایل‌ها را اینجا رها کنید، بچسبانید یا %{browse}",dropPasteImportFolders:"فایل‌ها را اینجا رها کنید، بچسبانید یا %{browse}",editFile:"ویرایش فایل",editFileWithFilename:"ویرایش فایل %{file}",editing:"در حال ویرایش %{file}",emptyFolderAdded:"از پوشه‌ی خالی هیچ فایلی افزوده نشد",encoding:"رمزگذاری...",enterCorrectUrl:"آدرس نامعتبر. لطفا مطمئن شوید که آدرس مستقیم به یک فایل را انتخاب کرده‌اید.",enterTextToSearch:"متن را جهت جستجوی تصویر وارد کنید",enterUrlToImport:"آدرس فایل را برای بارگذاری بنویسید",error:"خطا",exceedsSize:"اندازه‌ی این فایل از حد مجاز بیشتر است! %{size}",failedToFetch:"Companion نتوانست این URL را واکشی کند، لطفاً مطمئن شوید که درست است",failedToUpload:"شکست در بارگذاری %{file}",filesUploadedOfTotal:{0:"%{complete} از %{smart_count} فایل بارگذاری شد.",1:"%{complete} از %{smart_count} فایل بارگذاری شد."},filter:"پالایش",finishEditingFile:"اتمام ویرایش فایل",flipHorizontal:"چرخاندن کردن افقی",folderAdded:{0:"%{smart_count} فایل از %{folder} افزوده شد.",1:"%{smart_count} فایل از %{folder} افزوده شد."},folderAlreadyAdded:'پوشه "%{folder}" قبلاً اضافه شده است',generatingThumbnails:"تولید تصویر بندانگشتی...",import:"واردکردن",importFiles:"وارد کردن فایل‌ها از:",importFrom:"واردکردن از %{name}",inferiorSize:"این فایل کوچک‌تر از اندازه مجاز %{size} است",loadedXFiles:"%{numFiles} فایل بارگیری شد",loading:"درحال بارگذاری",logOut:"خروج",micDisabled:"عدم اجازه دسترسی توسط کاربر",missingRequiredMetaField:"فیلدهای متا لازم وجود ندارد",missingRequiredMetaFieldOnFile:"فیلدهای متا لازم در %{fileName} وجود ندارد",missingRequiredMetaFields:{0:"فیلد متا الزامی وجود ندارد: %{fields}.",1:"فیلدهای متا لازم وجود ندارد: %{fields}."},myDevice:"دستگاه من",noAudioDescription:"برای ضبط صدا، لطفاً یک میکروفون یا دستگاه ورودی صوتی دیگری را وصل کنید",noAudioTitle:"میکروفون در دسترس نیست",noCameraDescription:"جهت گرفتن عکس یا ضبط ویدیو لطفا یک دوربین متصل نمایید",noCameraTitle:"دوربین در دسترس نیست",noDuplicates:"نمی‌توان فایل تکراری بارگذاری کرد،'%{fileName}' قبلا بارگذاری شده است.",noFilesFound:"هیچ فایل یا پوشه‌ای اینجا ندارید",noInternetConnection:"عدم اتصال به اینترنت",noMoreFilesAllowed:"نمی توان فایل جدید بارگذاری کرد",noSearchResults:"متاسفانه هیچ نتیجه ای برای این جستجو وجود ندارد",openFolderNamed:"پوشه باز کنید %{name}",pause:"توقف",paused:"متوقف شده",pauseUpload:"توقف بارگذاری",pluginNameAudio:"صدا",pluginNameBox:"جعبه",pluginNameCamera:"دوربین",pluginNameDropbox:"دراپ باکس",pluginNameFacebook:"فیس بوک",pluginNameGoogleDrive:"درایو گوگل",pluginNameInstagram:"اینستاگرام",pluginNameOneDrive:"OneDrive",pluginNameZoom:"بزرگ‌نمایی",poweredBy:"قدرت گرفته از %{uppy}",processingXFiles:{0:"درحال پردازش %{smart_count} فایل",1:"درحال پردازش %{smart_count} فایل"},recording:"درحال ضبط",recordingLength:"مدت ضبط شده %{recording_length}",recordingStoppedMaxSize:"ضبط به دلیل رسیدن اندازه فایل به حدود حداکثر اندازه مجاز متوقف شد",recordVideoBtn:"ضبط تصویر",recoveredAllFiles:"ما همه فایل‌ها را بازیابی کردیم. اکنون می توانید بارگذاری را از سر بگیرید.",recoveredXFiles:{0:"امکان بازیابی %{smart_count} فایل وجود ندارد. لطفا مجددا انتخابش کنید و بارگذاری را ازسر بگیرید.",1:"امکان بازیابی %{smart_count} فایل‌ها وجود ندارد. لطفا مجددا انتخابش کنید و بارگذاری را ازسر بگیرید."},removeFile:"حذف فایل",reSelect:"انتخاب مجدد",resetFilter:"بازنشانی فیلتر",resetSearch:"بازنشانی جستجو",resume:"ادامه",resumeUpload:"ادامه بارگذاری",retry:"تلاش دوباره",retryUpload:"تلاش دوباره بارگذاری",revert:"Revert",rotate:"چرخاندن",save:"ذخیره",saveChanges:"ذخیره‌ی تغییرات",search:"Search",searchImages:"جستجو برای تصاویر",selectX:{0:"را انتخاب کنید %{smart_count}",1:"را انتخاب کنید %{smart_count}"},sessionRestored:"نشست بازیابی شد",showErrorDetails:"نمایش جزئیات خطا",signInWithGoogle:"با گوگل وارد شوید",smile:"لبخند!",startAudioRecording:"شروع ضبط صدا",startCapturing:"ضبط صفحه نمایش آغاز شد",startRecording:"آغاز تصویربرداری",stopAudioRecording:"ضبط صدا را متوقف کنید",stopCapturing:"ضبط صفحه نمایش متوقف شد",stopRecording:"توقف تصویربرداری",streamActive:"جریان فعال",streamPassive:"جریان غیرفعال",submitRecordedFile:"ارسال فایل ضبط شده",takePicture:"عکس بگیرید",takePictureBtn:"عکس بگیر",timedOut:"بارگذاری به مدت %{seconds} ثانیه متوقف شد, درحال متوقف کردن.",upload:"بارگذاری",uploadComplete:"بارگذاری انجام شد",uploadFailed:"بارگذاری شکست خورد",uploading:"بارگذاری",uploadXFiles:{0:"بارگذاری %{smart_count} فایل",1:"بارگذاری %{smart_count} فایل"},uploadPaused:"بارگذاری متوقف شد",uploadStalled:"آپلود برای %{seconds} ثانیه هیچ پیشرفتی نداشته است. ممکن است بخواهید دوباره آن را امتحان کنید.",uploadXNewFiles:{0:"بارگذاری +%{smart_count} فایل",1:"بارگذاری +%{smart_count} فایل"},uploadingXFiles:{0:"بارگذاری %{smart_count} فایل",1:"بارگذاری %{smart_count} فایل"},xFilesSelected:{0:"%{smart_count} فایل انتخاب شده",1:"%{smart_count} فایل انتخاب شده"},xMoreFilesAdded:{0:"%{smart_count} فایل دیگر افزوده شد",1:"%{smart_count} فایل دیگر افزوده شد"},xTimeLeft:"%{time} left",youCanOnlyUploadFileTypes:"فایل‌های قابل قبول: %{types}",youCanOnlyUploadX:{0:"فقط می‌توانید %{smart_count} فایل انتخاب کنید",1:"فقط می‌توانید %{smart_count} فایل انتخاب کنید"},youHaveToAtLeastSelectX:{0:"می‌بایست حداقل %{smart_count} فایل انتخاب کنید",1:"می‌بایست حداقل %{smart_count} فایل انتخاب کنید"},zoomIn:"بزرگ‌نمایی",zoomOut:"کوچک‌نمایی"};typeof Uppy<"u"&&(globalThis.Uppy.locales.fa_IR=fa_IR);function getIdForMessagesOrComments(){let $e=new URL(window.location.href);if($e.pathname==="/dashboard/notifications")return{message:$e.searchParams.get("id")};{let _e=window.orderId,Te=window.productId;return{order:_e,productId:Te}}}if(document.getElementById("upload-file-modal")){let _e=function(Fe,Ae){let Be=document.getElementById(Fe),Ne=Be.value.split(",");Ne.push(Ae),Be.value=Ne.join(",")},Te=function(Fe,Ae){let Be=document.getElementById(Fe),Ne=Be.value.split(","),ze=Ne.indexOf(Ae);Ne.splice(ze,1),Be.value=Ne.join(",")};const $e=new Uppy$1({autoProceed:!1,restrictions:{maxFileSize:1e7,maxNumberOfFiles:10,minNumberOfFiles:1,allowedFileTypes:["image/*"]},allowMultipleUploadBatches:!1,locale:fa_IR});$e.use(XHRUpload,{endpoint:"/api/file/upload",headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},fieldName:"file",formData:!0}),$e.use(ThumbnailGenerator,{thumbnailWidth:200}),$e.use(ProgressBar,{target:"#progress-bar"}),$e.use(Dashboard,{inline:!0,target:"#file-uploader",proudlyDisplayPoweredByUppy:!1}),$e.on("file-added",Fe=>{$e.setFileState(Fe.id,{xhrUpload:{...Fe.xhrUpload,headers:getIdForMessagesOrComments()}})}),$e.on("upload-success",(Fe,Ae)=>{const Be=Ae.body.id;if(Le==="new"&&_e("new-msg-file",Be),Le==="exist"){const Ie=Ae.body.url,Ne=Ae.body.date;let ze=[{id:Be,message:"",created_at:Ne,files:[Ie],you:!0}],Ue=document.createElement("div");B$4(y$2(Messages,{messages:ze}),Ue),$$4(".chatbox .main").append(Ue.outerHTML)}}),$e.on("file-removed",(Fe,Ae)=>{$$4.ajax({url:"/api/file/remove",method:"DELETE",data:{id:Fe.id},headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},success:function(Be){Le==="new"&&Te("new-msg-file",Fe.id),Le==="exist"&&Te("exist-msg-file",Fe.id)}})}),$e.on("file-removed",()=>{$e.getFiles().length===0&&$$4(".uppy-Dashboard-AddFiles-list").html("<p>10 فایل با حداکثر حجم 10 مگابایت</p>")}),$$4(".uppy-Dashboard-AddFiles-list").html("<p>10 فایل با حداکثر حجم 10 مگابایت</p>");let Le="";$$4("#new-message-file").on("click",function(){Le="new",new Modal(document.getElementById("upload-file-modal")).show()}),$$4("#exist-message-file").on("click",function(){}),$$4("#exist-message-file").on("click",function(){Le="exist",new Modal(document.getElementById("upload-file-modal")).show()}),$$4("#commentsFileUpload").on("click",function(){Le="new",new Modal(document.getElementById("upload-file-modal")).show()})}function g$1($e,_e){for(var Te in _e)$e[Te]=_e[Te];return $e}function C$1($e,_e){for(var Te in $e)if(Te!=="__source"&&!(Te in _e))return!0;for(var Le in _e)if(Le!=="__source"&&$e[Le]!==_e[Le])return!0;return!1}function E$1($e){this.props=$e}(E$1.prototype=new b$3).isPureReactComponent=!0,E$1.prototype.shouldComponentUpdate=function($e,_e){return C$1(this.props,$e)||C$1(this.state,_e)};var x$1=l$3.__b;l$3.__b=function($e){$e.type&&$e.type.__f&&$e.ref&&($e.props.ref=$e.ref,$e.ref=null),x$1&&x$1($e)};var O$1=l$3.__e;l$3.__e=function($e,_e,Te,Le){if($e.then){for(var Fe,Ae=_e;Ae=Ae.__;)if((Fe=Ae.__c)&&Fe.__c)return _e.__e==null&&(_e.__e=Te.__e,_e.__k=Te.__k),Fe.__c($e,_e)}O$1($e,_e,Te,Le)};var T$1=l$3.unmount;function F$1($e,_e,Te){return $e&&($e.__c&&$e.__c.__H&&($e.__c.__H.__.forEach(function(Le){typeof Le.__c=="function"&&Le.__c()}),$e.__c.__H=null),($e=g$1({},$e)).__c!=null&&($e.__c.__P===Te&&($e.__c.__P=_e),$e.__c=null),$e.__k=$e.__k&&$e.__k.map(function(Le){return F$1(Le,_e,Te)})),$e}function I$1($e,_e,Te){return $e&&Te&&($e.__v=null,$e.__k=$e.__k&&$e.__k.map(function(Le){return I$1(Le,_e,Te)}),$e.__c&&$e.__c.__P===_e&&($e.__e&&Te.appendChild($e.__e),$e.__c.__e=!0,$e.__c.__P=Te)),$e}function L$2(){this.__u=0,this.t=null,this.__b=null}function U$1($e){var _e=$e.__.__c;return _e&&_e.__a&&_e.__a($e)}function M$1(){this.u=null,this.o=null}l$3.unmount=function($e){var _e=$e.__c;_e&&_e.__R&&_e.__R(),_e&&32&$e.__u&&($e.type=null),T$1&&T$1($e)},(L$2.prototype=new b$3).__c=function($e,_e){var Te=_e.__c,Le=this;Le.t==null&&(Le.t=[]),Le.t.push(Te);var Fe=U$1(Le.__v),Ae=!1,Be=function(){Ae||(Ae=!0,Te.__R=null,Fe?Fe(Ie):Ie())};Te.__R=Be;var Ie=function(){if(!--Le.__u){if(Le.state.__a){var Ne=Le.state.__a;Le.__v.__k[0]=I$1(Ne,Ne.__c.__P,Ne.__c.__O)}var ze;for(Le.setState({__a:Le.__b=null});ze=Le.t.pop();)ze.forceUpdate()}};Le.__u++||32&_e.__u||Le.setState({__a:Le.__b=Le.__v.__k[0]}),$e.then(Be,Be)},L$2.prototype.componentWillUnmount=function(){this.t=[]},L$2.prototype.render=function($e,_e){if(this.__b){if(this.__v.__k){var Te=document.createElement("div"),Le=this.__v.__k[0].__c;this.__v.__k[0]=F$1(this.__b,Te,Le.__O=Le.__P)}this.__b=null}var Fe=_e.__a&&y$2(g$4,null,$e.fallback);return Fe&&(Fe.__u&=-33),[y$2(g$4,null,_e.__a?null:$e.children),Fe]};var V$1=function($e,_e,Te){if(++Te[1]===Te[0]&&$e.o.delete(_e),$e.props.revealOrder&&($e.props.revealOrder[0]!=="t"||!$e.o.size))for(Te=$e.u;Te;){for(;Te.length>3;)Te.pop()();if(Te[1]<Te[0])break;$e.u=Te=Te[2]}};(M$1.prototype=new b$3).__a=function($e){var _e=this,Te=U$1(_e.__v),Le=_e.o.get($e);return Le[0]++,function(Fe){var Ae=function(){_e.props.revealOrder?(Le.push(Fe),V$1(_e,$e,Le)):Fe()};Te?Te(Ae):Ae()}},M$1.prototype.render=function($e){this.u=null,this.o=new Map;var _e=$$3($e.children);$e.revealOrder&&$e.revealOrder[0]==="b"&&_e.reverse();for(var Te=_e.length;Te--;)this.o.set(_e[Te],this.u=[1,0,this.u]);return $e.children},M$1.prototype.componentDidUpdate=M$1.prototype.componentDidMount=function(){var $e=this;this.o.forEach(function(_e,Te){V$1($e,Te,_e)})};var z$1=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,B$1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H$1=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z$1=/[A-Z0-9]/g,Y$1=typeof document<"u",$$1=function($e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test($e)};b$3.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function($e){Object.defineProperty(b$3.prototype,$e,{configurable:!0,get:function(){return this["UNSAFE_"+$e]},set:function(_e){Object.defineProperty(this,$e,{configurable:!0,writable:!0,value:_e})}})});var J$1=l$3.event;function K$1(){}function Q$1(){return this.cancelBubble}function X$1(){return this.defaultPrevented}l$3.event=function($e){return J$1&&($e=J$1($e)),$e.persist=K$1,$e.isPropagationStopped=Q$1,$e.isDefaultPrevented=X$1,$e.nativeEvent=$e};var tn={enumerable:!1,configurable:!0,get:function(){return this.class}},en=l$3.vnode;l$3.vnode=function($e){typeof $e.type=="string"&&function(_e){var Te=_e.props,Le=_e.type,Fe={};for(var Ae in Te){var Be=Te[Ae];if(!(Ae==="value"&&"defaultValue"in Te&&Be==null||Y$1&&Ae==="children"&&Le==="noscript"||Ae==="class"||Ae==="className")){var Ie=Ae.toLowerCase();Ae==="defaultValue"&&"value"in Te&&Te.value==null?Ae="value":Ae==="download"&&Be===!0?Be="":Ie==="ondoubleclick"?Ae="ondblclick":Ie!=="onchange"||Le!=="input"&&Le!=="textarea"||$$1(Te.type)?Ie==="onfocus"?Ae="onfocusin":Ie==="onblur"?Ae="onfocusout":H$1.test(Ae)?Ae=Ie:Le.indexOf("-")===-1&&B$1.test(Ae)?Ae=Ae.replace(Z$1,"-$&").toLowerCase():Be===null&&(Be=void 0):Ie=Ae="oninput",Ie==="oninput"&&Fe[Ae=Ie]&&(Ae="oninputCapture"),Fe[Ae]=Be}}Le=="select"&&Fe.multiple&&Array.isArray(Fe.value)&&(Fe.value=$$3(Te.children).forEach(function(Ne){Ne.props.selected=Fe.value.indexOf(Ne.props.value)!=-1})),Le=="select"&&Fe.defaultValue!=null&&(Fe.value=$$3(Te.children).forEach(function(Ne){Ne.props.selected=Fe.multiple?Fe.defaultValue.indexOf(Ne.props.value)!=-1:Fe.defaultValue==Ne.props.value})),Te.class&&!Te.className?(Fe.class=Te.class,Object.defineProperty(Fe,"className",tn)):(Te.className&&!Te.class||Te.class&&Te.className)&&(Fe.class=Fe.className=Te.className),_e.props=Fe}($e),$e.$$typeof=z$1,en&&en($e)};var rn=l$3.__r;l$3.__r=function($e){rn&&rn($e),$e.__c};var un=l$3.diffed;l$3.diffed=function($e){un&&un($e);var _e=$e.props,Te=$e.__e;Te!=null&&$e.type==="textarea"&&"value"in _e&&_e.value!==Te.value&&(Te.value=_e.value==null?"":_e.value)};function useUncontrolled({value:$e,defaultValue:_e,finalValue:Te,onChange:Le=()=>{}}){const[Fe,Ae]=h$1(_e!==void 0?_e:Te),Be=(Ie,...Ne)=>{Ae(Ie),Le==null||Le(Ie,...Ne)};return $e!==void 0?[$e,Le,!0]:[Fe,Be,!1]}function range($e,_e){const Te=_e-$e+1;return Array.from({length:Te},(Le,Fe)=>Fe+$e)}const DOTS="dots";function usePagination({total:$e,siblings:_e=1,boundaries:Te=1,page:Le,initialPage:Fe=1,onChange:Ae}){const Be=Math.max(Math.trunc($e),0),[Ie,Ne]=useUncontrolled({value:Le,onChange:Ae,defaultValue:Fe,finalValue:Fe}),ze=Je=>{Je<=0?Ne(1):Je>Be?Ne(Be):Ne(Je)},Ue=()=>ze(Ie+1),je=()=>ze(Ie-1),Ve=()=>ze(1),Ze=()=>ze(Be);return{range:F$2(()=>{if(_e*2+3+Te*2>=Be)return range(1,Be);const ei=Math.max(Ie-_e,Te),ni=Math.min(Ie+_e,Be-Te),Qe=ei>Te+2,ii=ni<Be-(Te+1);if(!Qe&&ii){const ai=_e*2+Te+2;return[...range(1,ai),DOTS,...range(Be-(Te-1),Be)]}if(Qe&&!ii){const ai=Te+1+2*_e;return[...range(1,Te),DOTS,...range(Be-ai,Be)]}return[...range(1,Te),DOTS,...range(ei,ni),DOTS,...range(Be-Te+1,Be)]},[Be,_e,Ie]),active:Ie,setPage:ze,next:Ue,previous:je,first:Ve,last:Ze}}const StarComponent=({dataStars:$e,no_label:_e,rateable:Te})=>{const[Le,Fe]=h$1(0),Ae=parseInt($e,10),Be=Ue=>{Te&&Fe(Ue)},Ie=()=>{Te&&Fe(0)},Ne=Ue=>{};return u$3("div",{className:"star-container tw-text-yellow-500 tw-text-sm",children:[(()=>{const Ue=[];for(let je=1;je<=5;je++){const Ve=je<=(Te?Le:Ae)?"fa-solid fa-star":"fa-regular fa-star";Ue.push(u$3("i",{className:`fa ${Ve} tw-mx-0.5`,onMouseEnter:()=>Be(je),onMouseLeave:Ie,onClick:()=>Ne()},je))}return Ue})()," ",_e?u$3("span",{className:"tw-text-xs",children:$e}):null,Te?u$3("input",{type:"hidden",name:"rate",value:Le}):null]})},BellProduct=()=>u$3("div",{children:[u$3("h4",{class:"text-center tw-text-[var(--primary)]",children:"ناموجود"}),u$3("div",{class:"text-center tw-text-sm",children:"این کالا فعلا موجود نیست اما می‌توانید زنگوله را بزنید تا به محض موجود شدن، به شما خبر دهیم."}),u$3("div",{class:"tw-w-full tw-flex tw-items-center tw-justify-center",children:u$3("button",{class:"btn custom-btn-primary btn-sm btn-block tw-rounded-xl tw-w-full mt-3 let-me-know",children:[u$3("i",{class:"fa-solid fa-bell tw-ml-2"}),"خبرم کن"]})})]}),PriceProduct=$e=>{const{discount:_e,time_delivery:Te,regular_price:Le,sale_price:Fe}=$e;return u$3(g$4,{children:[_e&&u$3("div",{className:"tw-flex tw-items-center tw-text-sm tw-justify-between pb-4",children:[u$3("span",{className:"tw-text-gray-500",children:"تخفیف : "}),u$3("span",{className:"badge tw-bg-[var(--sale-badge)]  tw-rounded-full",children:[_e,"%"]})]}),Te&&u$3("div",{className:"tw-flex tw-items-center tw-text-sm tw-justify-between tw-py-4 border-top",children:[u$3("span",{className:"tw-text-gray-500",children:"زمان تحویل : "}),u$3("span",{children:[Te," روز"]})]}),u$3("div",{className:"tw-flex tw-items-center tw-text-sm tw-justify-between tw-py-4 border-top",children:Le&&u$3(g$4,{children:[u$3("span",{className:"tw-text-gray-500",children:"قیمت : "}),u$3("div",{className:"tw-flex tw-flex-col tw-items-end",children:[u$3("span",{children:[Le,u$3("svg",{style:"width: 16px; height: 16px; fill: var(--undefined);",children:u$3("use",{xlinkHref:"#toman"})})]}),Fe&&u$3("span",{className:"tw-text-xs tw-text-gray-400",children:[Fe,u$3("svg",{className:"tw-fill-gray-400",style:"width: 16px; height: 16px;",children:u$3("use",{xlinkHref:"#toman"})})]})]})]})})]})},CategoryPagination=({total:$e,value:_e,onChange:Te})=>{let[Le,Fe]=h$1(_e);const Ae=usePagination({total:$e,page:Le,onChange:Fe});async function Be(ze){try{await Te(ze),await Ae.setPage(ze)}catch{toastr.error("خطا در ارتباط با سرور")}}async function Ie(){try{await Te(Ae.active<$e?Ae.active+1:$e),await Ae.next()}catch{toastr.error("خطا در ارتباط با سرور")}}async function Ne(){try{await Te(Ae.active>1?Ae.active-1:1),await Ae.previous()}catch{toastr.error("خطا در ارتباط با سرور")}}return u$3("nav",{className:"cs-pagination mt-5 tw-w-max tw-mx-auto",children:[u$3("button",{disabled:Ae.active===1,onClick:()=>Ne(),children:u$3("i",{className:"fa-solid fa-chevron-right"})}),Ae.range.map(ze=>u$3(g$4,{children:ze===Ae.active?u$3("span",{children:ze}):u$3(g$4,{children:ze==="dots"?u$3("span",{className:"dots",children:"..."}):u$3("a",{onClick:()=>Be(ze),children:ze})})})),u$3("button",{disabled:Ae.active===$e,onClick:()=>Ie(),children:u$3("i",{className:"fa-solid fa-chevron-left"})})]})},RemoveOptionCategory=({options:$e,onChange:_e})=>{async function Te(Le){let Fe=new URL(Le.url);try{await _e(queryString.parse(Fe.search),Le==null?void 0:Le.item)}catch{}}return u$3(g$4,{children:$e.map(Le=>u$3("div",{class:"tw-w-full tw-flex tw-items-center tw-justify-between tw-mt-2",children:[u$3("span",{class:"tw-text-sm tw-text-gray-600 hover:tw-text-[var(--primary)] tw-cursor-pointer",onClick:()=>Te(Le),children:Le.title}),u$3("button",{type:"button",className:"btn tw-p-0",onClick:()=>Te(Le),children:u$3("i",{class:"fa-solid fa-xmark tw-text-gray-600 hover:tw-text-[var(--primary)] tw-cursor-pointer"})})]}))})},MiniCartBox=({items:$e,removeFunc:_e,updateFunc:Te})=>{function Le(Fe,Ae,Be){setTimeout(()=>Te(Ae,Fe.target.value,()=>{Fe.target.value=item.quantity}),500)}return u$3(g$4,{children:$e.map(Fe=>u$3("div",{className:"mini-cart-box",children:[u$3("div",{className:"tw-flex tw-items-center tw-justify-center tw-w-20 tw-h-20 tw-bg-gray-100 tw-rounded-xl tw-mr-3",children:u$3("a",{href:Fe==null?void 0:Fe.link,children:u$3("img",{className:"tw-w-full tw-h-full tw-block tw-rounded-xl tw-object-cover",src:Fe.img,alt:""})})}),u$3("div",{className:"tw-flex-1 tw-mr-2 tw-h-full",children:u$3("div",{className:"tw-flex tw-items-start tw-flex-row tw-justify-between tw-h-full",children:[u$3("a",{href:Fe==null?void 0:Fe.link,className:"tw-h-full tw-flex tw-flex-col tw-items-start tw-flex-grow ",style:{color:"var(--primary)"},children:[u$3("h3",{className:"tw-text-sm tw-font-medium tw-mb-1",children:Fe.name}),u$3("div",{className:"tw-flex tw-items-center",children:[u$3("span",{className:"tw-text-gray-500 tw-text-sm",children:"قیمت:"}),u$3("span",{className:"tw-text-gray-800 tw-text-sm",children:[Fe.sale_price!==0&&Fe.sale_price!==null?Fe.sale_price:Fe.price,u$3("svg",{style:"width: 16px; height: 16px; fill: var(--undefined);",children:u$3("use",{xlinkHref:"#toman"})})]})]})]}),u$3("div",{className:"tw-flex tw-flex-col tw-items-end tw-justify-between tw-h-full",children:[u$3("button",{className:"btn remove-item",onClick:Ae=>_e(Fe.id,Ae.target),children:u$3("i",{className:"fal fa-trash"})}),u$3("div",{className:"product-counter-inner has-toast","data-max":"2","data-min":"1",children:u$3("input",{value:Fe.quantity,className:"item-counter basket-items border tw-text-left tw-rounded-md tw-text-gray-600",style:"margin-left: 0;font-size: 1rem;",type:"number",onChange:Ae=>Le(Ae,Fe.id,Fe.quantity)})})]})]})})]}))})};function _defineProperty$1($e,_e,Te){return(_e=_toPropertyKey(_e))in $e?Object.defineProperty($e,_e,{value:Te,enumerable:!0,configurable:!0,writable:!0}):$e[_e]=Te,$e}function _toPrimitive($e,_e){if(typeof $e!="object"||$e===null)return $e;var Te=$e[Symbol.toPrimitive];if(Te!==void 0){var Le=Te.call($e,_e||"default");if(typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($e)}function _toPropertyKey($e){var _e=_toPrimitive($e,"string");return typeof _e=="symbol"?_e:String(_e)}function _classCallCheck($e,_e){if(!($e instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties($e,_e){for(var Te=0;Te<_e.length;Te++){var Le=_e[Te];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty($e,Le.key,Le)}}function _createClass($e,_e,Te){return _e&&_defineProperties($e.prototype,_e),Te&&_defineProperties($e,Te),$e}function _defineProperty($e,_e,Te){return _e in $e?Object.defineProperty($e,_e,{value:Te,enumerable:!0,configurable:!0,writable:!0}):$e[_e]=Te,$e}function ownKeys($e,_e){var Te=Object.keys($e);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols($e);_e&&(Le=Le.filter(function(Fe){return Object.getOwnPropertyDescriptor($e,Fe).enumerable})),Te.push.apply(Te,Le)}return Te}function _objectSpread2($e){for(var _e=1;_e<arguments.length;_e++){var Te=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(Te),!0).forEach(function(Le){_defineProperty($e,Le,Te[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(Te)):ownKeys(Object(Te)).forEach(function(Le){Object.defineProperty($e,Le,Object.getOwnPropertyDescriptor(Te,Le))})}return $e}var defaults$1={addCSS:!0,thumbWidth:15,watch:!0};function matches$1($e,_e){return(function(){return Array.from(document.querySelectorAll(_e)).includes(this)}).call($e,_e)}function trigger($e,_e){if($e&&_e){var Te=new Event(_e,{bubbles:!0});$e.dispatchEvent(Te)}}var getConstructor$1=function($e){return $e!=null?$e.constructor:null},instanceOf$1=function($e,_e){return!!($e&&_e&&$e instanceof _e)},isNullOrUndefined$1=function($e){return $e==null},isObject$1=function($e){return getConstructor$1($e)===Object},isNumber$1=function($e){return getConstructor$1($e)===Number&&!Number.isNaN($e)},isString$1=function($e){return getConstructor$1($e)===String},isBoolean$1=function($e){return getConstructor$1($e)===Boolean},isFunction$1=function($e){return getConstructor$1($e)===Function},isArray$1=function($e){return Array.isArray($e)},isNodeList$1=function($e){return instanceOf$1($e,NodeList)},isElement$1=function($e){return instanceOf$1($e,Element)},isEvent$1=function($e){return instanceOf$1($e,Event)},isEmpty$1=function($e){return isNullOrUndefined$1($e)||(isString$1($e)||isArray$1($e)||isNodeList$1($e))&&!$e.length||isObject$1($e)&&!Object.keys($e).length},is$1={nullOrUndefined:isNullOrUndefined$1,object:isObject$1,number:isNumber$1,string:isString$1,boolean:isBoolean$1,function:isFunction$1,array:isArray$1,nodeList:isNodeList$1,element:isElement$1,event:isEvent$1,empty:isEmpty$1};function getDecimalPlaces($e){var _e="".concat($e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return _e?Math.max(0,(_e[1]?_e[1].length:0)-(_e[2]?+_e[2]:0)):0}function round$1($e,_e){if(1>_e){var Te=getDecimalPlaces(_e);return parseFloat($e.toFixed(Te))}return Math.round($e/_e)*_e}var RangeTouch=function(){function $e(_e,Te){_classCallCheck(this,$e),is$1.element(_e)?this.element=_e:is$1.string(_e)&&(this.element=document.querySelector(_e)),is$1.element(this.element)&&is$1.empty(this.element.rangeTouch)&&(this.config=_objectSpread2({},defaults$1,{},Te),this.init())}return _createClass($e,[{key:"init",value:function(){$e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){$e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(_e){var Te=this,Le=_e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(Fe){Te.element[Le](Fe,function(Ae){return Te.set(Ae)},!1)})}},{key:"get",value:function(_e){if(!$e.enabled||!is$1.event(_e))return null;var Te,Le=_e.target,Fe=_e.changedTouches[0],Ae=parseFloat(Le.getAttribute("min"))||0,Be=parseFloat(Le.getAttribute("max"))||100,Ie=parseFloat(Le.getAttribute("step"))||1,Ne=Le.getBoundingClientRect(),ze=100/Ne.width*(this.config.thumbWidth/2)/100;return 0>(Te=100/Ne.width*(Fe.clientX-Ne.left))?Te=0:100<Te&&(Te=100),50>Te?Te-=(100-2*Te)*ze:50<Te&&(Te+=2*(Te-50)*ze),Ae+round$1(Te/100*(Be-Ae),Ie)}},{key:"set",value:function(_e){$e.enabled&&is$1.event(_e)&&!_e.target.disabled&&(_e.preventDefault(),_e.target.value=this.get(_e),trigger(_e.target,_e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(_e){var Te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},Le=null;if(is$1.empty(_e)||is$1.string(_e)?Le=Array.from(document.querySelectorAll(is$1.string(_e)?_e:'input[type="range"]')):is$1.element(_e)?Le=[_e]:is$1.nodeList(_e)?Le=Array.from(_e):is$1.array(_e)&&(Le=_e.filter(is$1.element)),is$1.empty(Le))return null;var Fe=_objectSpread2({},defaults$1,{},Te);if(is$1.string(_e)&&Fe.watch){var Ae=new MutationObserver(function(Be){Array.from(Be).forEach(function(Ie){Array.from(Ie.addedNodes).forEach(function(Ne){is$1.element(Ne)&&matches$1(Ne,_e)&&new $e(Ne,Fe)})})});Ae.observe(document.body,{childList:!0,subtree:!0})}return Le.map(function(Be){return new $e(Be,Te)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),$e}();const getConstructor=$e=>$e!=null?$e.constructor:null,instanceOf=($e,_e)=>!!($e&&_e&&$e instanceof _e),isNullOrUndefined=$e=>$e==null,isObject=$e=>getConstructor($e)===Object,isNumber=$e=>getConstructor($e)===Number&&!Number.isNaN($e),isString=$e=>getConstructor($e)===String,isBoolean=$e=>getConstructor($e)===Boolean,isFunction=$e=>typeof $e=="function",isArray=$e=>Array.isArray($e),isWeakMap=$e=>instanceOf($e,WeakMap),isNodeList=$e=>instanceOf($e,NodeList),isTextNode=$e=>getConstructor($e)===Text,isEvent=$e=>instanceOf($e,Event),isKeyboardEvent=$e=>instanceOf($e,KeyboardEvent),isCue=$e=>instanceOf($e,window.TextTrackCue)||instanceOf($e,window.VTTCue),isTrack=$e=>instanceOf($e,TextTrack)||!isNullOrUndefined($e)&&isString($e.kind),isPromise=$e=>instanceOf($e,Promise)&&isFunction($e.then),isElement$2=$e=>$e!==null&&typeof $e=="object"&&$e.nodeType===1&&typeof $e.style=="object"&&typeof $e.ownerDocument=="object",isEmpty=$e=>isNullOrUndefined($e)||(isString($e)||isArray($e)||isNodeList($e))&&!$e.length||isObject($e)&&!Object.keys($e).length,isUrl=$e=>{if(instanceOf($e,window.URL))return!0;if(!isString($e))return!1;let _e=$e;$e.startsWith("http://")&&$e.startsWith("https://")||(_e=`http://${$e}`);try{return!isEmpty(new URL(_e).hostname)}catch{return!1}};var is={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,weakMap:isWeakMap,nodeList:isNodeList,element:isElement$2,textNode:isTextNode,event:isEvent,keyboardEvent:isKeyboardEvent,cue:isCue,track:isTrack,promise:isPromise,url:isUrl,empty:isEmpty};const transitionEndEvent=(()=>{const $e=document.createElement("span"),_e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},Te=Object.keys(_e).find(Le=>$e.style[Le]!==void 0);return!!is.string(Te)&&_e[Te]})();function repaint($e,_e){setTimeout(()=>{try{$e.hidden=!0,$e.offsetHeight,$e.hidden=!1}catch{}},_e)}const isIE=!!window.document.documentMode,isEdge=/Edge/g.test(navigator.userAgent),isWebKit$1="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,isIos=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var browser={isIE,isEdge,isWebKit:isWebKit$1,isIPhone,isIPadOS,isIos};function cloneDeep($e){return JSON.parse(JSON.stringify($e))}function getDeep($e,_e){return _e.split(".").reduce((Te,Le)=>Te&&Te[Le],$e)}function extend($e={},..._e){if(!_e.length)return $e;const Te=_e.shift();return is.object(Te)?(Object.keys(Te).forEach(Le=>{is.object(Te[Le])?(Object.keys($e).includes(Le)||Object.assign($e,{[Le]:{}}),extend($e[Le],Te[Le])):Object.assign($e,{[Le]:Te[Le]})}),extend($e,..._e)):$e}function wrap($e,_e){const Te=$e.length?$e:[$e];Array.from(Te).reverse().forEach((Le,Fe)=>{const Ae=Fe>0?_e.cloneNode(!0):_e,Be=Le.parentNode,Ie=Le.nextSibling;Ae.appendChild(Le),Ie?Be.insertBefore(Ae,Ie):Be.appendChild(Ae)})}function setAttributes($e,_e){is.element($e)&&!is.empty(_e)&&Object.entries(_e).filter(([,Te])=>!is.nullOrUndefined(Te)).forEach(([Te,Le])=>$e.setAttribute(Te,Le))}function createElement($e,_e,Te){const Le=document.createElement($e);return is.object(_e)&&setAttributes(Le,_e),is.string(Te)&&(Le.innerText=Te),Le}function insertAfter($e,_e){is.element($e)&&is.element(_e)&&_e.parentNode.insertBefore($e,_e.nextSibling)}function insertElement($e,_e,Te,Le){is.element(_e)&&_e.appendChild(createElement($e,Te,Le))}function removeElement$1($e){is.nodeList($e)||is.array($e)?Array.from($e).forEach(removeElement$1):is.element($e)&&is.element($e.parentNode)&&$e.parentNode.removeChild($e)}function emptyElement($e){if(!is.element($e))return;let{length:_e}=$e.childNodes;for(;_e>0;)$e.removeChild($e.lastChild),_e-=1}function replaceElement($e,_e){return is.element(_e)&&is.element(_e.parentNode)&&is.element($e)?(_e.parentNode.replaceChild($e,_e),$e):null}function getAttributesFromSelector($e,_e){if(!is.string($e)||is.empty($e))return{};const Te={},Le=extend({},_e);return $e.split(",").forEach(Fe=>{const Ae=Fe.trim(),Be=Ae.replace(".",""),Ie=Ae.replace(/[[\]]/g,"").split("="),[Ne]=Ie,ze=Ie.length>1?Ie[1].replace(/["']/g,""):"";switch(Ae.charAt(0)){case".":is.string(Le.class)?Te.class=`${Le.class} ${Be}`:Te.class=Be;break;case"#":Te.id=Ae.replace("#","");break;case"[":Te[Ne]=ze}}),extend(Le,Te)}function toggleHidden($e,_e){if(!is.element($e))return;let Te=_e;is.boolean(Te)||(Te=!$e.hidden),$e.hidden=Te}function toggleClass($e,_e,Te){if(is.nodeList($e))return Array.from($e).map(Le=>toggleClass(Le,_e,Te));if(is.element($e)){let Le="toggle";return Te!==void 0&&(Le=Te?"add":"remove"),$e.classList[Le](_e),$e.classList.contains(_e)}return!1}function hasClass$1($e,_e){return is.element($e)&&$e.classList.contains(_e)}function matches($e,_e){const{prototype:Te}=Element;return(Te.matches||Te.webkitMatchesSelector||Te.mozMatchesSelector||Te.msMatchesSelector||function(){return Array.from(document.querySelectorAll(_e)).includes(this)}).call($e,_e)}function closest$1($e,_e){const{prototype:Te}=Element;return(Te.closest||function(){let Le=this;do{if(matches.matches(Le,_e))return Le;Le=Le.parentElement||Le.parentNode}while(Le!==null&&Le.nodeType===1);return null}).call($e,_e)}function getElements($e){return this.elements.container.querySelectorAll($e)}function getElement($e){return this.elements.container.querySelector($e)}function setFocus($e=null,_e=!1){is.element($e)&&$e.focus({preventScroll:!0,focusVisible:_e})}const defaultCodecs={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},support={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check($e,_e){const Te=support[$e]||_e!=="html5";return{api:Te,ui:Te&&support.rangeInput}},pip:!(browser.isIPhone||!is.function(createElement("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||createElement("video").disablePictureInPicture)),airplay:is.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime($e){if(is.empty($e))return!1;const[_e]=$e.split("/");let Te=$e;if(!this.isHTML5||_e!==this.type)return!1;Object.keys(defaultCodecs).includes(Te)&&(Te+=`; codecs="${defaultCodecs[$e]}"`);try{return!!(Te&&this.media.canPlayType(Te).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const $e=document.createElement("input");return $e.type="range",$e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:transitionEndEvent!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},supportsPassiveListeners=(()=>{let $e=!1;try{const _e=Object.defineProperty({},"passive",{get:()=>($e=!0,null)});window.addEventListener("test",null,_e),window.removeEventListener("test",null,_e)}catch{}return $e})();function toggleListener($e,_e,Te,Le=!1,Fe=!0,Ae=!1){if(!$e||!("addEventListener"in $e)||is.empty(_e)||!is.function(Te))return;const Be=_e.split(" ");let Ie=Ae;supportsPassiveListeners&&(Ie={passive:Fe,capture:Ae}),Be.forEach(Ne=>{this&&this.eventListeners&&Le&&this.eventListeners.push({element:$e,type:Ne,callback:Te,options:Ie}),$e[Le?"addEventListener":"removeEventListener"](Ne,Te,Ie)})}function on($e,_e="",Te,Le=!0,Fe=!1){toggleListener.call(this,$e,_e,Te,!0,Le,Fe)}function off($e,_e="",Te,Le=!0,Fe=!1){toggleListener.call(this,$e,_e,Te,!1,Le,Fe)}function once($e,_e="",Te,Le=!0,Fe=!1){const Ae=(...Be)=>{off($e,_e,Ae,Le,Fe),Te.apply(this,Be)};toggleListener.call(this,$e,_e,Ae,!0,Le,Fe)}function triggerEvent($e,_e="",Te=!1,Le={}){if(!is.element($e)||is.empty(_e))return;const Fe=new CustomEvent(_e,{bubbles:Te,detail:{...Le,plyr:this}});$e.dispatchEvent(Fe)}function unbindListeners(){this&&this.eventListeners&&(this.eventListeners.forEach($e=>{const{element:_e,type:Te,callback:Le,options:Fe}=$e;_e.removeEventListener(Te,Le,Fe)}),this.eventListeners=[])}function ready(){return new Promise($e=>this.ready?setTimeout($e,0):on.call(this,this.elements.container,"ready",$e)).then(()=>{})}function silencePromise($e){is.promise($e)&&$e.then(null,()=>{})}function dedupe($e){return is.array($e)?$e.filter((_e,Te)=>$e.indexOf(_e)===Te):$e}function closest$2($e,_e){return is.array($e)&&$e.length?$e.reduce((Te,Le)=>Math.abs(Le-_e)<Math.abs(Te-_e)?Le:Te):null}function supportsCSS($e){return!(!window||!window.CSS)&&window.CSS.supports($e)}const standardRatios=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(($e,[_e,Te])=>({...$e,[_e/Te]:[_e,Te]}),{});function validateAspectRatio($e){return is.array($e)||is.string($e)&&$e.includes(":")?(is.array($e)?$e:$e.split(":")).map(Number).every(is.number):!1}function reduceAspectRatio($e){if(!is.array($e)||!$e.every(is.number))return null;const[_e,Te]=$e,Le=(Ae,Be)=>Be===0?Ae:Le(Be,Ae%Be),Fe=Le(_e,Te);return[_e/Fe,Te/Fe]}function getAspectRatio($e){const _e=Le=>validateAspectRatio(Le)?Le.split(":").map(Number):null;let Te=_e($e);if(Te===null&&(Te=_e(this.config.ratio)),Te===null&&!is.empty(this.embed)&&is.array(this.embed.ratio)&&({ratio:Te}=this.embed),Te===null&&this.isHTML5){const{videoWidth:Le,videoHeight:Fe}=this.media;Te=[Le,Fe]}return reduceAspectRatio(Te)}function setAspectRatio($e){if(!this.isVideo)return{};const{wrapper:_e}=this.elements,Te=getAspectRatio.call(this,$e);if(!is.array(Te))return{};const[Le,Fe]=reduceAspectRatio(Te),Ae=100/Le*Fe;if(supportsCSS(`aspect-ratio: ${Le}/${Fe}`)?_e.style.aspectRatio=`${Le}/${Fe}`:_e.style.paddingBottom=`${Ae}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const Be=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),Ie=(Be-Ae)/(Be/50);this.fullscreen.active?_e.style.paddingBottom=null:this.media.style.transform=`translateY(-${Ie}%)`}else this.isHTML5&&_e.classList.add(this.config.classNames.videoFixedRatio);return{padding:Ae,ratio:Te}}function roundAspectRatio($e,_e,Te=.05){const Le=$e/_e,Fe=closest$2(Object.keys(standardRatios),Le);return Math.abs(Fe-Le)<=Te?standardRatios[Fe]:[$e,_e]}function getViewportSize(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const html5={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter($e=>{const _e=$e.getAttribute("type");return!!is.empty(_e)||support.mime.call(this,_e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:html5.getSources.call(this).map($e=>Number($e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const $e=this;$e.options.speed=$e.config.speed.options,is.empty(this.config.ratio)||setAspectRatio.call($e),Object.defineProperty($e.media,"quality",{get(){const _e=html5.getSources.call($e).find(Te=>Te.getAttribute("src")===$e.source);return _e&&Number(_e.getAttribute("size"))},set(_e){if($e.quality!==_e){if($e.config.quality.forced&&is.function($e.config.quality.onChange))$e.config.quality.onChange(_e);else{const Te=html5.getSources.call($e).find(Ne=>Number(Ne.getAttribute("size"))===_e);if(!Te)return;const{currentTime:Le,paused:Fe,preload:Ae,readyState:Be,playbackRate:Ie}=$e.media;$e.media.src=Te.getAttribute("src"),(Ae!=="none"||Be)&&($e.once("loadedmetadata",()=>{$e.speed=Ie,$e.currentTime=Le,Fe||silencePromise($e.play())}),$e.media.load())}triggerEvent.call($e,$e.media,"qualitychange",!1,{quality:_e})}}})},cancelRequests(){this.isHTML5&&(removeElement$1(html5.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function generateId($e){return`${$e}-${Math.floor(1e4*Math.random())}`}function format($e,..._e){return is.empty($e)?$e:$e.toString().replace(/{(\d+)}/g,(Te,Le)=>_e[Le].toString())}function getPercentage($e,_e){return $e===0||_e===0||Number.isNaN($e)||Number.isNaN(_e)?0:($e/_e*100).toFixed(2)}const replaceAll=($e="",_e="",Te="")=>$e.replace(new RegExp(_e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),Te.toString()),toTitleCase=($e="")=>$e.toString().replace(/\w\S*/g,_e=>_e.charAt(0).toUpperCase()+_e.slice(1).toLowerCase());function toPascalCase($e=""){let _e=$e.toString();return _e=replaceAll(_e,"-"," "),_e=replaceAll(_e,"_"," "),_e=toTitleCase(_e),replaceAll(_e," ","")}function toCamelCase($e=""){let _e=$e.toString();return _e=toPascalCase(_e),_e.charAt(0).toLowerCase()+_e.slice(1)}function stripHTML($e){const _e=document.createDocumentFragment(),Te=document.createElement("div");return _e.appendChild(Te),Te.innerHTML=$e,_e.firstChild.innerText}function getHTML($e){const _e=document.createElement("div");return _e.appendChild($e),_e.innerHTML}const resources={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},i18n={get($e="",_e={}){if(is.empty($e)||is.empty(_e))return"";let Te=getDeep(_e.i18n,$e);if(is.empty(Te))return Object.keys(resources).includes($e)?resources[$e]:"";const Le={"{seektime}":_e.seekTime,"{title}":_e.title};return Object.entries(Le).forEach(([Fe,Ae])=>{Te=replaceAll(Te,Fe,Ae)}),Te}};class Storage{constructor(_e){_defineProperty$1(this,"get",Te=>{if(!Storage.supported||!this.enabled)return null;const Le=window.localStorage.getItem(this.key);if(is.empty(Le))return null;const Fe=JSON.parse(Le);return is.string(Te)&&Te.length?Fe[Te]:Fe}),_defineProperty$1(this,"set",Te=>{if(!Storage.supported||!this.enabled||!is.object(Te))return;let Le=this.get();is.empty(Le)&&(Le={}),extend(Le,Te);try{window.localStorage.setItem(this.key,JSON.stringify(Le))}catch{}}),this.enabled=_e.config.storage.enabled,this.key=_e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const _e="___test";return window.localStorage.setItem(_e,_e),window.localStorage.removeItem(_e),!0}catch{return!1}}}function fetch($e,_e="text"){return new Promise((Te,Le)=>{try{const Fe=new XMLHttpRequest;if(!("withCredentials"in Fe))return;Fe.addEventListener("load",()=>{if(_e==="text")try{Te(JSON.parse(Fe.responseText))}catch{Te(Fe.responseText)}else Te(Fe.response)}),Fe.addEventListener("error",()=>{throw new Error(Fe.status)}),Fe.open("GET",$e,!0),Fe.responseType=_e,Fe.send()}catch(Fe){Le(Fe)}})}function loadSprite($e,_e){if(!is.string($e))return;const Te="cache",Le=is.string(_e);let Fe=!1;const Ae=()=>document.getElementById(_e)!==null,Be=(Ie,Ne)=>{Ie.innerHTML=Ne,Le&&Ae()||document.body.insertAdjacentElement("afterbegin",Ie)};if(!Le||!Ae()){const Ie=Storage.supported,Ne=document.createElement("div");if(Ne.setAttribute("hidden",""),Le&&Ne.setAttribute("id",_e),Ie){const ze=window.localStorage.getItem(`${Te}-${_e}`);if(Fe=ze!==null,Fe){const Ue=JSON.parse(ze);Be(Ne,Ue.content)}}fetch($e).then(ze=>{if(!is.empty(ze)){if(Ie)try{window.localStorage.setItem(`${Te}-${_e}`,JSON.stringify({content:ze}))}catch{}Be(Ne,ze)}}).catch(()=>{})}}const getHours=$e=>Math.trunc($e/60/60%60,10),getMinutes=$e=>Math.trunc($e/60%60,10),getSeconds=$e=>Math.trunc($e%60,10);function formatTime($e=0,_e=!1,Te=!1){if(!is.number($e))return formatTime(void 0,_e,Te);const Le=Ie=>`0${Ie}`.slice(-2);let Fe=getHours($e);const Ae=getMinutes($e),Be=getSeconds($e);return Fe=_e||Fe>0?`${Fe}:`:"",`${Te&&$e>0?"-":""}${Fe}${Le(Ae)}:${Le(Be)}`}const controls={getIconUrl(){const $e=new URL(this.config.iconUrl,window.location),_e=window.location.host?window.location.host:window.top.location.host,Te=$e.host!==_e||browser.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:Te}},findElements(){try{return this.elements.controls=getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:getElements.call(this,this.config.selectors.buttons.play),pause:getElement.call(this,this.config.selectors.buttons.pause),restart:getElement.call(this,this.config.selectors.buttons.restart),rewind:getElement.call(this,this.config.selectors.buttons.rewind),fastForward:getElement.call(this,this.config.selectors.buttons.fastForward),mute:getElement.call(this,this.config.selectors.buttons.mute),pip:getElement.call(this,this.config.selectors.buttons.pip),airplay:getElement.call(this,this.config.selectors.buttons.airplay),settings:getElement.call(this,this.config.selectors.buttons.settings),captions:getElement.call(this,this.config.selectors.buttons.captions),fullscreen:getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:getElement.call(this,this.config.selectors.inputs.seek),volume:getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:getElement.call(this,this.config.selectors.display.buffer),currentTime:getElement.call(this,this.config.selectors.display.currentTime),duration:getElement.call(this,this.config.selectors.display.duration)},is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch($e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",$e),this.toggleNativeControls(!0),!1}},createIcon($e,_e){const Te="http://www.w3.org/2000/svg",Le=controls.getIconUrl.call(this),Fe=`${Le.cors?"":Le.url}#${this.config.iconPrefix}`,Ae=document.createElementNS(Te,"svg");setAttributes(Ae,extend(_e,{"aria-hidden":"true",focusable:"false"}));const Be=document.createElementNS(Te,"use"),Ie=`${Fe}-${$e}`;return"href"in Be&&Be.setAttributeNS("http://www.w3.org/1999/xlink","href",Ie),Be.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ie),Ae.appendChild(Be),Ae},createLabel($e,_e={}){const Te=i18n.get($e,this.config);return createElement("span",{..._e,class:[_e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},Te)},createBadge($e){if(is.empty($e))return null;const _e=createElement("span",{class:this.config.classNames.menu.value});return _e.appendChild(createElement("span",{class:this.config.classNames.menu.badge},$e)),_e},createButton($e,_e){const Te=extend({},_e);let Le=toCamelCase($e);const Fe={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(Be=>{Object.keys(Te).includes(Be)&&(Fe[Be]=Te[Be],delete Te[Be])}),Fe.element!=="button"||Object.keys(Te).includes("type")||(Te.type="button"),Object.keys(Te).includes("class")?Te.class.split(" ").some(Be=>Be===this.config.classNames.control)||extend(Te,{class:`${Te.class} ${this.config.classNames.control}`}):Te.class=this.config.classNames.control,$e){case"play":Fe.toggle=!0,Fe.label="play",Fe.labelPressed="pause",Fe.icon="play",Fe.iconPressed="pause";break;case"mute":Fe.toggle=!0,Fe.label="mute",Fe.labelPressed="unmute",Fe.icon="volume",Fe.iconPressed="muted";break;case"captions":Fe.toggle=!0,Fe.label="enableCaptions",Fe.labelPressed="disableCaptions",Fe.icon="captions-off",Fe.iconPressed="captions-on";break;case"fullscreen":Fe.toggle=!0,Fe.label="enterFullscreen",Fe.labelPressed="exitFullscreen",Fe.icon="enter-fullscreen",Fe.iconPressed="exit-fullscreen";break;case"play-large":Te.class+=` ${this.config.classNames.control}--overlaid`,Le="play",Fe.label="play",Fe.icon="play";break;default:is.empty(Fe.label)&&(Fe.label=Le),is.empty(Fe.icon)&&(Fe.icon=$e)}const Ae=createElement(Fe.element);return Fe.toggle?(Ae.appendChild(controls.createIcon.call(this,Fe.iconPressed,{class:"icon--pressed"})),Ae.appendChild(controls.createIcon.call(this,Fe.icon,{class:"icon--not-pressed"})),Ae.appendChild(controls.createLabel.call(this,Fe.labelPressed,{class:"label--pressed"})),Ae.appendChild(controls.createLabel.call(this,Fe.label,{class:"label--not-pressed"}))):(Ae.appendChild(controls.createIcon.call(this,Fe.icon)),Ae.appendChild(controls.createLabel.call(this,Fe.label))),extend(Te,getAttributesFromSelector(this.config.selectors.buttons[Le],Te)),setAttributes(Ae,Te),Le==="play"?(is.array(this.elements.buttons[Le])||(this.elements.buttons[Le]=[]),this.elements.buttons[Le].push(Ae)):this.elements.buttons[Le]=Ae,Ae},createRange($e,_e){const Te=createElement("input",extend(getAttributesFromSelector(this.config.selectors.inputs[$e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":i18n.get($e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},_e));return this.elements.inputs[$e]=Te,controls.updateRangeFill.call(this,Te),RangeTouch.setup(Te),Te},createProgress($e,_e){const Te=createElement("progress",extend(getAttributesFromSelector(this.config.selectors.display[$e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},_e));if($e!=="volume"){Te.appendChild(createElement("span",null,"0"));const Le={played:"played",buffer:"buffered"}[$e],Fe=Le?i18n.get(Le,this.config):"";Te.innerText=`% ${Fe.toLowerCase()}`}return this.elements.display[$e]=Te,Te},createTime($e,_e){const Te=getAttributesFromSelector(this.config.selectors.display[$e],_e),Le=createElement("div",extend(Te,{class:`${Te.class?Te.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":i18n.get($e,this.config),role:"timer"}),"00:00");return this.elements.display[$e]=Le,Le},bindMenuItemShortcuts($e,_e){on.call(this,$e,"keydown keyup",Te=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(Te.key)||(Te.preventDefault(),Te.stopPropagation(),Te.type==="keydown"))return;const Le=matches($e,'[role="menuitemradio"]');if(!Le&&[" ","ArrowRight"].includes(Te.key))controls.showMenuPanel.call(this,_e,!0);else{let Fe;Te.key!==" "&&(Te.key==="ArrowDown"||Le&&Te.key==="ArrowRight"?(Fe=$e.nextElementSibling,is.element(Fe)||(Fe=$e.parentNode.firstElementChild)):(Fe=$e.previousElementSibling,is.element(Fe)||(Fe=$e.parentNode.lastElementChild)),setFocus.call(this,Fe,!0))}},!1),on.call(this,$e,"keyup",Te=>{Te.key==="Return"&&controls.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:$e,list:_e,type:Te,title:Le,badge:Fe=null,checked:Ae=!1}){const Be=getAttributesFromSelector(this.config.selectors.inputs[Te]),Ie=createElement("button",extend(Be,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${Be.class?Be.class:""}`.trim(),"aria-checked":Ae,value:$e})),Ne=createElement("span");Ne.innerHTML=Le,is.element(Fe)&&Ne.appendChild(Fe),Ie.appendChild(Ne),Object.defineProperty(Ie,"checked",{enumerable:!0,get:()=>Ie.getAttribute("aria-checked")==="true",set(ze){ze&&Array.from(Ie.parentNode.children).filter(Ue=>matches(Ue,'[role="menuitemradio"]')).forEach(Ue=>Ue.setAttribute("aria-checked","false")),Ie.setAttribute("aria-checked",ze?"true":"false")}}),this.listeners.bind(Ie,"click keyup",ze=>{if(!is.keyboardEvent(ze)||ze.key===" "){switch(ze.preventDefault(),ze.stopPropagation(),Ie.checked=!0,Te){case"language":this.currentTrack=Number($e);break;case"quality":this.quality=$e;break;case"speed":this.speed=parseFloat($e)}controls.showMenuPanel.call(this,"home",is.keyboardEvent(ze))}},Te,!1),controls.bindMenuItemShortcuts.call(this,Ie,Te),_e.appendChild(Ie)},formatTime($e=0,_e=!1){return is.number($e)?formatTime($e,getHours(this.duration)>0,_e):$e},updateTimeDisplay($e=null,_e=0,Te=!1){is.element($e)&&is.number(_e)&&($e.innerText=controls.formatTime(_e,Te))},updateVolume(){this.supported.ui&&(is.element(this.elements.inputs.volume)&&controls.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),is.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange($e,_e=0){is.element($e)&&($e.value=_e,controls.updateRangeFill.call(this,$e))},updateProgress($e){if(!this.supported.ui||!is.event($e))return;let _e=0;const Te=(Le,Fe)=>{const Ae=is.number(Fe)?Fe:0,Be=is.element(Le)?Le:this.elements.display.buffer;if(is.element(Be)){Be.value=Ae;const Ie=Be.getElementsByTagName("span")[0];is.element(Ie)&&(Ie.childNodes[0].nodeValue=Ae)}};if($e)switch($e.type){case"timeupdate":case"seeking":case"seeked":_e=getPercentage(this.currentTime,this.duration),$e.type==="timeupdate"&&controls.setRange.call(this,this.elements.inputs.seek,_e);break;case"playing":case"progress":Te(this.elements.display.buffer,100*this.buffered)}},updateRangeFill($e){const _e=is.event($e)?$e.target:$e;if(is.element(_e)&&_e.getAttribute("type")==="range"){if(matches(_e,this.config.selectors.inputs.seek)){_e.setAttribute("aria-valuenow",this.currentTime);const Te=controls.formatTime(this.currentTime),Le=controls.formatTime(this.duration),Fe=i18n.get("seekLabel",this.config);_e.setAttribute("aria-valuetext",Fe.replace("{currentTime}",Te).replace("{duration}",Le))}else if(matches(_e,this.config.selectors.inputs.volume)){const Te=100*_e.value;_e.setAttribute("aria-valuenow",Te),_e.setAttribute("aria-valuetext",`${Te.toFixed(1)}%`)}else _e.setAttribute("aria-valuenow",_e.value);(browser.isWebKit||browser.isIPadOS)&&_e.style.setProperty("--value",_e.value/_e.max*100+"%")}},updateSeekTooltip($e){var _e,Te;if(!this.config.tooltips.seek||!is.element(this.elements.inputs.seek)||!is.element(this.elements.display.seekTooltip)||this.duration===0)return;const Le=this.elements.display.seekTooltip,Fe=`${this.config.classNames.tooltip}--visible`,Ae=Ue=>toggleClass(Le,Fe,Ue);if(this.touch)return void Ae(!1);let Be=0;const Ie=this.elements.progress.getBoundingClientRect();if(is.event($e))Be=100/Ie.width*($e.pageX-Ie.left);else{if(!hasClass$1(Le,Fe))return;Be=parseFloat(Le.style.left,10)}Be<0?Be=0:Be>100&&(Be=100);const Ne=this.duration/100*Be;Le.innerText=controls.formatTime(Ne);const ze=(_e=this.config.markers)===null||_e===void 0||(Te=_e.points)===null||Te===void 0?void 0:Te.find(({time:Ue})=>Ue===Math.round(Ne));ze&&Le.insertAdjacentHTML("afterbegin",`${ze.label}<br>`),Le.style.left=`${Be}%`,is.event($e)&&["mouseenter","mouseleave"].includes($e.type)&&Ae($e.type==="mouseenter")},timeUpdate($e){const _e=!is.element(this.elements.display.duration)&&this.config.invertTime;controls.updateTimeDisplay.call(this,this.elements.display.currentTime,_e?this.duration-this.currentTime:this.currentTime,_e),$e&&$e.type==="timeupdate"&&this.media.seeking||controls.updateProgress.call(this,$e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return toggleHidden(this.elements.display.currentTime,!0),void toggleHidden(this.elements.progress,!0);is.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const $e=is.element(this.elements.display.duration);!$e&&this.config.displayDuration&&this.paused&&controls.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),$e&&controls.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&controls.setMarkers.call(this),controls.updateSeekTooltip.call(this)},toggleMenuButton($e,_e){toggleHidden(this.elements.settings.buttons[$e],!_e)},updateSetting($e,_e,Te){const Le=this.elements.settings.panels[$e];let Fe=null,Ae=_e;if($e==="captions")Fe=this.currentTrack;else{if(Fe=is.empty(Te)?this[$e]:Te,is.empty(Fe)&&(Fe=this.config[$e].default),!is.empty(this.options[$e])&&!this.options[$e].includes(Fe))return void this.debug.warn(`Unsupported value of '${Fe}' for ${$e}`);if(!this.config[$e].options.includes(Fe))return void this.debug.warn(`Disabled value of '${Fe}' for ${$e}`)}if(is.element(Ae)||(Ae=Le&&Le.querySelector('[role="menu"]')),!is.element(Ae))return;this.elements.settings.buttons[$e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=controls.getLabel.call(this,$e,Fe);const Be=Ae&&Ae.querySelector(`[value="${Fe}"]`);is.element(Be)&&(Be.checked=!0)},getLabel($e,_e){switch($e){case"speed":return _e===1?i18n.get("normal",this.config):`${_e}&times;`;case"quality":if(is.number(_e)){const Te=i18n.get(`qualityLabel.${_e}`,this.config);return Te.length?Te:`${_e}p`}return toTitleCase(_e);case"captions":return captions.getLabel.call(this);default:return null}},setQualityMenu($e){if(!is.element(this.elements.settings.panels.quality))return;const _e="quality",Te=this.elements.settings.panels.quality.querySelector('[role="menu"]');is.array($e)&&(this.options.quality=dedupe($e).filter(Ae=>this.config.quality.options.includes(Ae)));const Le=!is.empty(this.options.quality)&&this.options.quality.length>1;if(controls.toggleMenuButton.call(this,_e,Le),emptyElement(Te),controls.checkMenu.call(this),!Le)return;const Fe=Ae=>{const Be=i18n.get(`qualityBadge.${Ae}`,this.config);return Be.length?controls.createBadge.call(this,Be):null};this.options.quality.sort((Ae,Be)=>{const Ie=this.config.quality.options;return Ie.indexOf(Ae)>Ie.indexOf(Be)?1:-1}).forEach(Ae=>{controls.createMenuItem.call(this,{value:Ae,list:Te,type:_e,title:controls.getLabel.call(this,"quality",Ae),badge:Fe(Ae)})}),controls.updateSetting.call(this,_e,Te)},setCaptionsMenu(){if(!is.element(this.elements.settings.panels.captions))return;const $e="captions",_e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),Te=captions.getTracks.call(this),Le=!!Te.length;if(controls.toggleMenuButton.call(this,$e,Le),emptyElement(_e),controls.checkMenu.call(this),!Le)return;const Fe=Te.map((Ae,Be)=>({value:Be,checked:this.captions.toggled&&this.currentTrack===Be,title:captions.getLabel.call(this,Ae),badge:Ae.language&&controls.createBadge.call(this,Ae.language.toUpperCase()),list:_e,type:"language"}));Fe.unshift({value:-1,checked:!this.captions.toggled,title:i18n.get("disabled",this.config),list:_e,type:"language"}),Fe.forEach(controls.createMenuItem.bind(this)),controls.updateSetting.call(this,$e,_e)},setSpeedMenu(){if(!is.element(this.elements.settings.panels.speed))return;const $e="speed",_e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(Le=>Le>=this.minimumSpeed&&Le<=this.maximumSpeed);const Te=!is.empty(this.options.speed)&&this.options.speed.length>1;controls.toggleMenuButton.call(this,$e,Te),emptyElement(_e),controls.checkMenu.call(this),Te&&(this.options.speed.forEach(Le=>{controls.createMenuItem.call(this,{value:Le,list:_e,type:$e,title:controls.getLabel.call(this,"speed",Le)})}),controls.updateSetting.call(this,$e,_e))},checkMenu(){const{buttons:$e}=this.elements.settings,_e=!is.empty($e)&&Object.values($e).some(Te=>!Te.hidden);toggleHidden(this.elements.settings.menu,!_e)},focusFirstMenuItem($e,_e=!1){if(this.elements.settings.popup.hidden)return;let Te=$e;is.element(Te)||(Te=Object.values(this.elements.settings.panels).find(Fe=>!Fe.hidden));const Le=Te.querySelector('[role^="menuitem"]');setFocus.call(this,Le,_e)},toggleMenu($e){const{popup:_e}=this.elements.settings,Te=this.elements.buttons.settings;if(!is.element(_e)||!is.element(Te))return;const{hidden:Le}=_e;let Fe=Le;if(is.boolean($e))Fe=$e;else if(is.keyboardEvent($e)&&$e.key==="Escape")Fe=!1;else if(is.event($e)){const Ae=is.function($e.composedPath)?$e.composedPath()[0]:$e.target,Be=_e.contains(Ae);if(Be||!Be&&$e.target!==Te&&Fe)return}Te.setAttribute("aria-expanded",Fe),toggleHidden(_e,!Fe),toggleClass(this.elements.container,this.config.classNames.menu.open,Fe),Fe&&is.keyboardEvent($e)?controls.focusFirstMenuItem.call(this,null,!0):Fe||Le||setFocus.call(this,Te,is.keyboardEvent($e))},getMenuSize($e){const _e=$e.cloneNode(!0);_e.style.position="absolute",_e.style.opacity=0,_e.removeAttribute("hidden"),$e.parentNode.appendChild(_e);const Te=_e.scrollWidth,Le=_e.scrollHeight;return removeElement$1(_e),{width:Te,height:Le}},showMenuPanel($e="",_e=!1){const Te=this.elements.container.querySelector(`#plyr-settings-${this.id}-${$e}`);if(!is.element(Te))return;const Le=Te.parentNode,Fe=Array.from(Le.children).find(Ae=>!Ae.hidden);if(support.transitions&&!support.reducedMotion){Le.style.width=`${Fe.scrollWidth}px`,Le.style.height=`${Fe.scrollHeight}px`;const Ae=controls.getMenuSize.call(this,Te),Be=Ie=>{Ie.target===Le&&["width","height"].includes(Ie.propertyName)&&(Le.style.width="",Le.style.height="",off.call(this,Le,transitionEndEvent,Be))};on.call(this,Le,transitionEndEvent,Be),Le.style.width=`${Ae.width}px`,Le.style.height=`${Ae.height}px`}toggleHidden(Fe,!0),toggleHidden(Te,!1),controls.focusFirstMenuItem.call(this,Te,_e)},setDownloadUrl(){const $e=this.elements.buttons.download;is.element($e)&&$e.setAttribute("href",this.download)},create($e){const{bindMenuItemShortcuts:_e,createButton:Te,createProgress:Le,createRange:Fe,createTime:Ae,setQualityMenu:Be,setSpeedMenu:Ie,showMenuPanel:Ne}=controls;this.elements.controls=null,is.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(Te.call(this,"play-large"));const ze=createElement("div",getAttributesFromSelector(this.config.selectors.controls.wrapper));this.elements.controls=ze;const Ue={class:"plyr__controls__item"};return dedupe(is.array(this.config.controls)?this.config.controls:[]).forEach(je=>{if(je==="restart"&&ze.appendChild(Te.call(this,"restart",Ue)),je==="rewind"&&ze.appendChild(Te.call(this,"rewind",Ue)),je==="play"&&ze.appendChild(Te.call(this,"play",Ue)),je==="fast-forward"&&ze.appendChild(Te.call(this,"fast-forward",Ue)),je==="progress"){const Ve=createElement("div",{class:`${Ue.class} plyr__progress__container`}),Ze=createElement("div",getAttributesFromSelector(this.config.selectors.progress));if(Ze.appendChild(Fe.call(this,"seek",{id:`plyr-seek-${$e.id}`})),Ze.appendChild(Le.call(this,"buffer")),this.config.tooltips.seek){const Ke=createElement("span",{class:this.config.classNames.tooltip},"00:00");Ze.appendChild(Ke),this.elements.display.seekTooltip=Ke}this.elements.progress=Ze,Ve.appendChild(this.elements.progress),ze.appendChild(Ve)}if(je==="current-time"&&ze.appendChild(Ae.call(this,"currentTime",Ue)),je==="duration"&&ze.appendChild(Ae.call(this,"duration",Ue)),je==="mute"||je==="volume"){let{volume:Ve}=this.elements;if(is.element(Ve)&&ze.contains(Ve)||(Ve=createElement("div",extend({},Ue,{class:`${Ue.class} plyr__volume`.trim()})),this.elements.volume=Ve,ze.appendChild(Ve)),je==="mute"&&Ve.appendChild(Te.call(this,"mute")),je==="volume"&&!browser.isIos&&!browser.isIPadOS){const Ze={max:1,step:.05,value:this.config.volume};Ve.appendChild(Fe.call(this,"volume",extend(Ze,{id:`plyr-volume-${$e.id}`})))}}if(je==="captions"&&ze.appendChild(Te.call(this,"captions",Ue)),je==="settings"&&!is.empty(this.config.settings)){const Ve=createElement("div",extend({},Ue,{class:`${Ue.class} plyr__menu`.trim(),hidden:""}));Ve.appendChild(Te.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${$e.id}`,"aria-expanded":!1}));const Ze=createElement("div",{class:"plyr__menu__container",id:`plyr-settings-${$e.id}`,hidden:""}),Ke=createElement("div"),Je=createElement("div",{id:`plyr-settings-${$e.id}-home`}),ei=createElement("div",{role:"menu"});Je.appendChild(ei),Ke.appendChild(Je),this.elements.settings.panels.home=Je,this.config.settings.forEach(ni=>{const Qe=createElement("button",extend(getAttributesFromSelector(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));_e.call(this,Qe,ni),on.call(this,Qe,"click",()=>{Ne.call(this,ni,!1)});const ii=createElement("span",null,i18n.get(ni,this.config)),ai=createElement("span",{class:this.config.classNames.menu.value});ai.innerHTML=$e[ni],ii.appendChild(ai),Qe.appendChild(ii),ei.appendChild(Qe);const di=createElement("div",{id:`plyr-settings-${$e.id}-${ni}`,hidden:""}),vi=createElement("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});vi.appendChild(createElement("span",{"aria-hidden":!0},i18n.get(ni,this.config))),vi.appendChild(createElement("span",{class:this.config.classNames.hidden},i18n.get("menuBack",this.config))),on.call(this,di,"keydown",bi=>{bi.key==="ArrowLeft"&&(bi.preventDefault(),bi.stopPropagation(),Ne.call(this,"home",!0))},!1),on.call(this,vi,"click",()=>{Ne.call(this,"home",!1)}),di.appendChild(vi),di.appendChild(createElement("div",{role:"menu"})),Ke.appendChild(di),this.elements.settings.buttons[ni]=Qe,this.elements.settings.panels[ni]=di}),Ze.appendChild(Ke),Ve.appendChild(Ze),ze.appendChild(Ve),this.elements.settings.popup=Ze,this.elements.settings.menu=Ve}if(je==="pip"&&support.pip&&ze.appendChild(Te.call(this,"pip",Ue)),je==="airplay"&&support.airplay&&ze.appendChild(Te.call(this,"airplay",Ue)),je==="download"){const Ve=extend({},Ue,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(Ve.download="");const{download:Ze}=this.config.urls;!is.url(Ze)&&this.isEmbed&&extend(Ve,{icon:`logo-${this.provider}`,label:this.provider}),ze.appendChild(Te.call(this,"download",Ve))}je==="fullscreen"&&ze.appendChild(Te.call(this,"fullscreen",Ue))}),this.isHTML5&&Be.call(this,html5.getQualityOptions.call(this)),Ie.call(this),ze},inject(){if(this.config.loadSprite){const Fe=controls.getIconUrl.call(this);Fe.cors&&loadSprite(Fe.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let $e=null;this.elements.controls=null;const _e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let Te=!0;is.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,_e)),this.config.controls||(this.config.controls=[]),is.element(this.config.controls)||is.string(this.config.controls)?$e=this.config.controls:($e=controls.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:captions.getLabel.call(this)}),Te=!1);let Le;if(Te&&is.string(this.config.controls)&&($e=(Fe=>{let Ae=Fe;return Object.entries(_e).forEach(([Be,Ie])=>{Ae=replaceAll(Ae,`{${Be}}`,Ie)}),Ae})($e)),is.string(this.config.selectors.controls.container)&&(Le=document.querySelector(this.config.selectors.controls.container)),is.element(Le)||(Le=this.elements.container),Le[is.element($e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",$e),is.element(this.elements.controls)||controls.findElements.call(this),!is.empty(this.elements.buttons)){const Fe=Ae=>{const Be=this.config.classNames.controlPressed;Ae.setAttribute("aria-pressed","false"),Object.defineProperty(Ae,"pressed",{configurable:!0,enumerable:!0,get:()=>hasClass$1(Ae,Be),set(Ie=!1){toggleClass(Ae,Be,Ie),Ae.setAttribute("aria-pressed",Ie?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(Ae=>{is.array(Ae)||is.nodeList(Ae)?Array.from(Ae).filter(Boolean).forEach(Fe):Fe(Ae)})}if(browser.isEdge&&repaint(Le),this.config.tooltips.controls){const{classNames:Fe,selectors:Ae}=this.config,Be=`${Ae.controls.wrapper} ${Ae.labels} .${Fe.hidden}`,Ie=getElements.call(this,Be);Array.from(Ie).forEach(Ne=>{toggleClass(Ne,this.config.classNames.hidden,!1),toggleClass(Ne,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var $e,_e;if(!this.duration||this.elements.markers)return;const Te=($e=this.config.markers)===null||$e===void 0||(_e=$e.points)===null||_e===void 0?void 0:_e.filter(({time:Ne})=>Ne>0&&Ne<this.duration);if(Te==null||!Te.length)return;const Le=document.createDocumentFragment(),Fe=document.createDocumentFragment();let Ae=null;const Be=`${this.config.classNames.tooltip}--visible`,Ie=Ne=>toggleClass(Ae,Be,Ne);Te.forEach(Ne=>{const ze=createElement("span",{class:this.config.classNames.marker},""),Ue=Ne.time/this.duration*100+"%";Ae&&(ze.addEventListener("mouseenter",()=>{Ne.label||(Ae.style.left=Ue,Ae.innerHTML=Ne.label,Ie(!0))}),ze.addEventListener("mouseleave",()=>{Ie(!1)})),ze.addEventListener("click",()=>{this.currentTime=Ne.time}),ze.style.left=Ue,Fe.appendChild(ze)}),Le.appendChild(Fe),this.config.tooltips.seek||(Ae=createElement("span",{class:this.config.classNames.tooltip},""),Le.appendChild(Ae)),this.elements.markers={points:Fe,tip:Ae},this.elements.progress.appendChild(Le)}};function parseUrl($e,_e=!0){let Te=$e;if(_e){const Le=document.createElement("a");Le.href=Te,Te=Le.href}try{return new URL(Te)}catch{return null}}function buildUrlParams($e){const _e=new URLSearchParams;return is.object($e)&&Object.entries($e).forEach(([Te,Le])=>{_e.set(Te,Le)}),_e}const captions={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!support.textTracks)return void(is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&controls.setCaptionsMenu.call(this));if(is.element(this.elements.captions)||(this.elements.captions=createElement("div",getAttributesFromSelector(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),insertAfter(this.elements.captions,this.elements.wrapper)),browser.isIE&&window.URL){const Le=this.media.querySelectorAll("track");Array.from(Le).forEach(Fe=>{const Ae=Fe.getAttribute("src"),Be=parseUrl(Ae);Be!==null&&Be.hostname!==window.location.href.hostname&&["http:","https:"].includes(Be.protocol)&&fetch(Ae,"blob").then(Ie=>{Fe.setAttribute("src",window.URL.createObjectURL(Ie))}).catch(()=>{removeElement$1(Fe)})})}const $e=dedupe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(Le=>Le.split("-")[0]));let _e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();_e==="auto"&&([_e]=$e);let Te=this.storage.get("captions");if(is.boolean(Te)||({active:Te}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:Te,language:_e,languages:$e}),this.isHTML5){const Le=this.config.captions.update?"addtrack removetrack":"removetrack";on.call(this,this.media.textTracks,Le,captions.update.bind(this))}setTimeout(captions.update.bind(this),0)},update(){const $e=captions.getTracks.call(this,!0),{active:_e,language:Te,meta:Le,currentTrackNode:Fe}=this.captions,Ae=!!$e.find(Be=>Be.language===Te);this.isHTML5&&this.isVideo&&$e.filter(Be=>!Le.get(Be)).forEach(Be=>{this.debug.log("Track added",Be),Le.set(Be,{default:Be.mode==="showing"}),Be.mode==="showing"&&(Be.mode="hidden"),on.call(this,Be,"cuechange",()=>captions.updateCues.call(this))}),(Ae&&this.language!==Te||!$e.includes(Fe))&&(captions.setLanguage.call(this,Te),captions.toggle.call(this,_e&&Ae)),this.elements&&toggleClass(this.elements.container,this.config.classNames.captions.enabled,!is.empty($e)),is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&controls.setCaptionsMenu.call(this)},toggle($e,_e=!0){if(!this.supported.ui)return;const{toggled:Te}=this.captions,Le=this.config.classNames.captions.active,Fe=is.nullOrUndefined($e)?!Te:$e;if(Fe!==Te){if(_e||(this.captions.active=Fe,this.storage.set({captions:Fe})),!this.language&&Fe&&!_e){const Ae=captions.getTracks.call(this),Be=captions.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=Be.language,void captions.set.call(this,Ae.indexOf(Be))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=Fe),toggleClass(this.elements.container,Le,Fe),this.captions.toggled=Fe,controls.updateSetting.call(this,"captions"),triggerEvent.call(this,this.media,Fe?"captionsenabled":"captionsdisabled")}setTimeout(()=>{Fe&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set($e,_e=!0){const Te=captions.getTracks.call(this);if($e!==-1)if(is.number($e))if($e in Te){if(this.captions.currentTrack!==$e){this.captions.currentTrack=$e;const Le=Te[$e],{language:Fe}=Le||{};this.captions.currentTrackNode=Le,controls.updateSetting.call(this,"captions"),_e||(this.captions.language=Fe,this.storage.set({language:Fe})),this.isVimeo&&this.embed.enableTextTrack(Fe),triggerEvent.call(this,this.media,"languagechange")}captions.toggle.call(this,!0,_e),this.isHTML5&&this.isVideo&&captions.updateCues.call(this)}else this.debug.warn("Track not found",$e);else this.debug.warn("Invalid caption argument",$e);else captions.toggle.call(this,!1,_e)},setLanguage($e,_e=!0){if(!is.string($e))return void this.debug.warn("Invalid language argument",$e);const Te=$e.toLowerCase();this.captions.language=Te;const Le=captions.getTracks.call(this),Fe=captions.findTrack.call(this,[Te]);captions.set.call(this,Le.indexOf(Fe),_e)},getTracks($e=!1){return Array.from((this.media||{}).textTracks||[]).filter(_e=>!this.isHTML5||$e||this.captions.meta.has(_e)).filter(_e=>["captions","subtitles"].includes(_e.kind))},findTrack($e,_e=!1){const Te=captions.getTracks.call(this),Le=Be=>Number((this.captions.meta.get(Be)||{}).default),Fe=Array.from(Te).sort((Be,Ie)=>Le(Ie)-Le(Be));let Ae;return $e.every(Be=>(Ae=Fe.find(Ie=>Ie.language===Be),!Ae)),Ae||(_e?Fe[0]:void 0)},getCurrentTrack(){return captions.getTracks.call(this)[this.currentTrack]},getLabel($e){let _e=$e;return!is.track(_e)&&support.textTracks&&this.captions.toggled&&(_e=captions.getCurrentTrack.call(this)),is.track(_e)?is.empty(_e.label)?is.empty(_e.language)?i18n.get("enabled",this.config):$e.language.toUpperCase():_e.label:i18n.get("disabled",this.config)},updateCues($e){if(!this.supported.ui)return;if(!is.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!is.nullOrUndefined($e)&&!Array.isArray($e))return void this.debug.warn("updateCues: Invalid input",$e);let _e=$e;if(!_e){const Le=captions.getCurrentTrack.call(this);_e=Array.from((Le||{}).activeCues||[]).map(Fe=>Fe.getCueAsHTML()).map(getHTML)}const Te=_e.map(Le=>Le.trim()).join(`
`);if(Te!==this.elements.captions.innerHTML){emptyElement(this.elements.captions);const Le=createElement("span",getAttributesFromSelector(this.config.selectors.caption));Le.innerHTML=Te,this.elements.captions.appendChild(Le),triggerEvent.call(this,this.media,"cuechange")}}},defaults={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},pip={active:"picture-in-picture",inactive:"inline"},providers={html5:"html5",youtube:"youtube",vimeo:"vimeo"},types={audio:"audio",video:"video"};function getProviderByUrl($e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test($e)?providers.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test($e)?providers.vimeo:null}const noop=()=>{};class Console{constructor(_e=!1){this.enabled=window.console&&_e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):noop}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):noop}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):noop}}class Fullscreen{constructor(_e){_defineProperty$1(this,"onChange",()=>{if(!this.supported)return;const Te=this.player.elements.buttons.fullscreen;is.element(Te)&&(Te.pressed=this.active);const Le=this.target===this.player.media?this.target:this.player.elements.container;triggerEvent.call(this.player,Le,this.active?"enterfullscreen":"exitfullscreen",!0)}),_defineProperty$1(this,"toggleFallback",(Te=!1)=>{if(Te?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=Te?"hidden":"",toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,Te),browser.isIos){let Le=document.head.querySelector('meta[name="viewport"]');const Fe="viewport-fit=cover";Le||(Le=document.createElement("meta"),Le.setAttribute("name","viewport"));const Ae=is.string(Le.content)&&Le.content.includes(Fe);Te?(this.cleanupViewport=!Ae,Ae||(Le.content+=`,${Fe}`)):this.cleanupViewport&&(Le.content=Le.content.split(",").filter(Be=>Be.trim()!==Fe).join(","))}this.onChange()}),_defineProperty$1(this,"trapFocus",Te=>{if(browser.isIos||browser.isIPadOS||!this.active||Te.key!=="Tab")return;const Le=document.activeElement,Fe=getElements.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[Ae]=Fe,Be=Fe[Fe.length-1];Le!==Be||Te.shiftKey?Le===Ae&&Te.shiftKey&&(Be.focus(),Te.preventDefault()):(Ae.focus(),Te.preventDefault())}),_defineProperty$1(this,"update",()=>{if(this.supported){let Te;Te=this.forceFallback?"Fallback (forced)":Fullscreen.nativeSupported?"Native":"Fallback",this.player.debug.log(`${Te} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),_defineProperty$1(this,"enter",()=>{this.supported&&(browser.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Fullscreen.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?is.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),_defineProperty$1(this,"exit",()=>{if(this.supported)if(browser.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),silencePromise(this.player.play());else if(!Fullscreen.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!is.empty(this.prefix)){const Te=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${Te}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),_defineProperty$1(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=_e,this.prefix=Fullscreen.prefix,this.property=Fullscreen.property,this.scrollPosition={x:0,y:0},this.forceFallback=_e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=_e.config.fullscreen.container&&closest$1(this.player.elements.container,_e.config.fullscreen.container),on.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),on.call(this.player,this.player.elements.container,"dblclick",Te=>{is.element(this.player.elements.controls)&&this.player.elements.controls.contains(Te.target)||this.player.listeners.proxy(Te,this.toggle,"fullscreen")}),on.call(this,this.player.elements.container,"keydown",Te=>this.trapFocus(Te)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Fullscreen.nativeSupported&&!this.forceFallback}static get prefix(){if(is.function(document.exitFullscreen))return"";let _e="";return["webkit","moz","ms"].some(Te=>!(!is.function(document[`${Te}ExitFullscreen`])&&!is.function(document[`${Te}CancelFullScreen`]))&&(_e=Te,!0)),_e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Fullscreen.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Fullscreen.nativeSupported||!browser.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Fullscreen.nativeSupported||this.forceFallback)return hasClass$1(this.target,this.player.config.classNames.fullscreen.fallback);const _e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return _e&&_e.shadowRoot?_e===this.target.getRootNode().host:_e===this.target}get target(){return browser.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function loadImage($e,_e=1){return new Promise((Te,Le)=>{const Fe=new Image,Ae=()=>{delete Fe.onload,delete Fe.onerror,(Fe.naturalWidth>=_e?Te:Le)(Fe)};Object.assign(Fe,{onload:Ae,onerror:Ae,src:$e})})}const ui={addStyleHook(){toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls($e=!1){$e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ui.toggleNativeControls.call(this,!0);is.element(this.elements.controls)||(controls.inject.call(this),this.listeners.controls()),ui.toggleNativeControls.call(this),this.isHTML5&&captions.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,controls.updateVolume.call(this),controls.timeUpdate.call(this),controls.durationUpdate.call(this),ui.checkPlaying.call(this),toggleClass(this.elements.container,this.config.classNames.pip.supported,support.pip&&this.isHTML5&&this.isVideo),toggleClass(this.elements.container,this.config.classNames.airplay.supported,support.airplay&&this.isHTML5),toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{triggerEvent.call(this,this.media,"ready")},0),ui.setTitle.call(this),this.poster&&ui.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&controls.durationUpdate.call(this),this.config.mediaMetadata&&controls.setMediaMetadata.call(this)},setTitle(){let $e=i18n.get("play",this.config);if(is.string(this.config.title)&&!is.empty(this.config.title)&&($e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(_e=>{_e.setAttribute("aria-label",$e)}),this.isEmbed){const _e=getElement.call(this,"iframe");if(!is.element(_e))return;const Te=is.empty(this.config.title)?"video":this.config.title,Le=i18n.get("frameTitle",this.config);_e.setAttribute("title",Le.replace("{title}",Te))}},togglePoster($e){toggleClass(this.elements.container,this.config.classNames.posterEnabled,$e)},setPoster($e,_e=!0){return _e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",$e),this.elements.poster.removeAttribute("hidden"),ready.call(this).then(()=>loadImage($e)).catch(Te=>{throw $e===this.poster&&ui.togglePoster.call(this,!1),Te}).then(()=>{if($e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${$e}')`,backgroundSize:""}),ui.togglePoster.call(this,!0),$e)))},checkPlaying($e){toggleClass(this.elements.container,this.config.classNames.playing,this.playing),toggleClass(this.elements.container,this.config.classNames.paused,this.paused),toggleClass(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(_e=>{Object.assign(_e,{pressed:this.playing}),_e.setAttribute("aria-label",i18n.get(this.playing?"pause":"play",this.config))}),is.event($e)&&$e.type==="timeupdate"||ui.toggleControls.call(this)},checkLoading($e){this.loading=["stalled","waiting"].includes($e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{toggleClass(this.elements.container,this.config.classNames.loading,this.loading),ui.toggleControls.call(this)},this.loading?250:0)},toggleControls($e){const{controls:_e}=this.elements;if(_e&&this.config.hideControls){const Te=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!($e||this.loading||this.paused||_e.pressed||_e.hover||Te))}},migrateStyles(){Object.values({...this.media.style}).filter($e=>!is.empty($e)&&is.string($e)&&$e.startsWith("--plyr")).forEach($e=>{this.elements.container.style.setProperty($e,this.media.style.getPropertyValue($e)),this.media.style.removeProperty($e)}),is.empty(this.media.style)&&this.media.removeAttribute("style")}};class Listeners{constructor(_e){_defineProperty$1(this,"firstTouch",()=>{const{player:Te}=this,{elements:Le}=Te;Te.touch=!0,toggleClass(Le.container,Te.config.classNames.isTouch,!0)}),_defineProperty$1(this,"global",(Te=!0)=>{const{player:Le}=this;Le.config.keyboard.global&&toggleListener.call(Le,window,"keydown keyup",this.handleKey,Te,!1),toggleListener.call(Le,document.body,"click",this.toggleMenu,Te),once.call(Le,document.body,"touchstart",this.firstTouch)}),_defineProperty$1(this,"container",()=>{const{player:Te}=this,{config:Le,elements:Fe,timers:Ae}=Te;!Le.keyboard.global&&Le.keyboard.focused&&on.call(Te,Fe.container,"keydown keyup",this.handleKey,!1),on.call(Te,Fe.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",Ne=>{const{controls:ze}=Fe;ze&&Ne.type==="enterfullscreen"&&(ze.pressed=!1,ze.hover=!1);let Ue=0;["touchstart","touchmove","mousemove"].includes(Ne.type)&&(ui.toggleControls.call(Te,!0),Ue=Te.touch?3e3:2e3),clearTimeout(Ae.controls),Ae.controls=setTimeout(()=>ui.toggleControls.call(Te,!1),Ue)});const Be=()=>{if(!Te.isVimeo||Te.config.vimeo.premium)return;const Ne=Fe.wrapper,{active:ze}=Te.fullscreen,[Ue,je]=getAspectRatio.call(Te),Ve=supportsCSS(`aspect-ratio: ${Ue} / ${je}`);if(!ze)return void(Ve?(Ne.style.width=null,Ne.style.height=null):(Ne.style.maxWidth=null,Ne.style.margin=null));const[Ze,Ke]=getViewportSize(),Je=Ze/Ke>Ue/je;Ve?(Ne.style.width=Je?"auto":"100%",Ne.style.height=Je?"100%":"auto"):(Ne.style.maxWidth=Je?Ke/je*Ue+"px":null,Ne.style.margin=Je?"0 auto":null)},Ie=()=>{clearTimeout(Ae.resized),Ae.resized=setTimeout(Be,50)};on.call(Te,Fe.container,"enterfullscreen exitfullscreen",Ne=>{const{target:ze}=Te.fullscreen;ze===Fe.container&&(!Te.isEmbed&&is.empty(Te.config.ratio)||(Be(),(Ne.type==="enterfullscreen"?on:off).call(Te,window,"resize",Ie)))})}),_defineProperty$1(this,"media",()=>{const{player:Te}=this,{elements:Le}=Te;if(on.call(Te,Te.media,"timeupdate seeking seeked",Ae=>controls.timeUpdate.call(Te,Ae)),on.call(Te,Te.media,"durationchange loadeddata loadedmetadata",Ae=>controls.durationUpdate.call(Te,Ae)),on.call(Te,Te.media,"ended",()=>{Te.isHTML5&&Te.isVideo&&Te.config.resetOnEnd&&(Te.restart(),Te.pause())}),on.call(Te,Te.media,"progress playing seeking seeked",Ae=>controls.updateProgress.call(Te,Ae)),on.call(Te,Te.media,"volumechange",Ae=>controls.updateVolume.call(Te,Ae)),on.call(Te,Te.media,"playing play pause ended emptied timeupdate",Ae=>ui.checkPlaying.call(Te,Ae)),on.call(Te,Te.media,"waiting canplay seeked playing",Ae=>ui.checkLoading.call(Te,Ae)),Te.supported.ui&&Te.config.clickToPlay&&!Te.isAudio){const Ae=getElement.call(Te,`.${Te.config.classNames.video}`);if(!is.element(Ae))return;on.call(Te,Le.container,"click",Be=>{([Le.container,Ae].includes(Be.target)||Ae.contains(Be.target))&&(Te.touch&&Te.config.hideControls||(Te.ended?(this.proxy(Be,Te.restart,"restart"),this.proxy(Be,()=>{silencePromise(Te.play())},"play")):this.proxy(Be,()=>{silencePromise(Te.togglePlay())},"play")))})}Te.supported.ui&&Te.config.disableContextMenu&&on.call(Te,Le.wrapper,"contextmenu",Ae=>{Ae.preventDefault()},!1),on.call(Te,Te.media,"volumechange",()=>{Te.storage.set({volume:Te.volume,muted:Te.muted})}),on.call(Te,Te.media,"ratechange",()=>{controls.updateSetting.call(Te,"speed"),Te.storage.set({speed:Te.speed})}),on.call(Te,Te.media,"qualitychange",Ae=>{controls.updateSetting.call(Te,"quality",null,Ae.detail.quality)}),on.call(Te,Te.media,"ready qualitychange",()=>{controls.setDownloadUrl.call(Te)});const Fe=Te.config.events.concat(["keyup","keydown"]).join(" ");on.call(Te,Te.media,Fe,Ae=>{let{detail:Be={}}=Ae;Ae.type==="error"&&(Be=Te.media.error),triggerEvent.call(Te,Le.container,Ae.type,!0,Be)})}),_defineProperty$1(this,"proxy",(Te,Le,Fe)=>{const{player:Ae}=this,Be=Ae.config.listeners[Fe];let Ie=!0;is.function(Be)&&(Ie=Be.call(Ae,Te)),Ie!==!1&&is.function(Le)&&Le.call(Ae,Te)}),_defineProperty$1(this,"bind",(Te,Le,Fe,Ae,Be=!0)=>{const{player:Ie}=this,Ne=Ie.config.listeners[Ae],ze=is.function(Ne);on.call(Ie,Te,Le,Ue=>this.proxy(Ue,Fe,Ae),Be&&!ze)}),_defineProperty$1(this,"controls",()=>{const{player:Te}=this,{elements:Le}=Te,Fe=browser.isIE?"change":"input";if(Le.buttons.play&&Array.from(Le.buttons.play).forEach(Ae=>{this.bind(Ae,"click",()=>{silencePromise(Te.togglePlay())},"play")}),this.bind(Le.buttons.restart,"click",Te.restart,"restart"),this.bind(Le.buttons.rewind,"click",()=>{Te.lastSeekTime=Date.now(),Te.rewind()},"rewind"),this.bind(Le.buttons.fastForward,"click",()=>{Te.lastSeekTime=Date.now(),Te.forward()},"fastForward"),this.bind(Le.buttons.mute,"click",()=>{Te.muted=!Te.muted},"mute"),this.bind(Le.buttons.captions,"click",()=>Te.toggleCaptions()),this.bind(Le.buttons.download,"click",()=>{triggerEvent.call(Te,Te.media,"download")},"download"),this.bind(Le.buttons.fullscreen,"click",()=>{Te.fullscreen.toggle()},"fullscreen"),this.bind(Le.buttons.pip,"click",()=>{Te.pip="toggle"},"pip"),this.bind(Le.buttons.airplay,"click",Te.airplay,"airplay"),this.bind(Le.buttons.settings,"click",Ae=>{Ae.stopPropagation(),Ae.preventDefault(),controls.toggleMenu.call(Te,Ae)},null,!1),this.bind(Le.buttons.settings,"keyup",Ae=>{[" ","Enter"].includes(Ae.key)&&(Ae.key!=="Enter"?(Ae.preventDefault(),Ae.stopPropagation(),controls.toggleMenu.call(Te,Ae)):controls.focusFirstMenuItem.call(Te,null,!0))},null,!1),this.bind(Le.settings.menu,"keydown",Ae=>{Ae.key==="Escape"&&controls.toggleMenu.call(Te,Ae)}),this.bind(Le.inputs.seek,"mousedown mousemove",Ae=>{const Be=Le.progress.getBoundingClientRect(),Ie=100/Be.width*(Ae.pageX-Be.left);Ae.currentTarget.setAttribute("seek-value",Ie)}),this.bind(Le.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",Ae=>{const Be=Ae.currentTarget,Ie="play-on-seeked";if(is.keyboardEvent(Ae)&&!["ArrowLeft","ArrowRight"].includes(Ae.key))return;Te.lastSeekTime=Date.now();const Ne=Be.hasAttribute(Ie),ze=["mouseup","touchend","keyup"].includes(Ae.type);Ne&&ze?(Be.removeAttribute(Ie),silencePromise(Te.play())):!ze&&Te.playing&&(Be.setAttribute(Ie,""),Te.pause())}),browser.isIos){const Ae=getElements.call(Te,'input[type="range"]');Array.from(Ae).forEach(Be=>this.bind(Be,Fe,Ie=>repaint(Ie.target)))}this.bind(Le.inputs.seek,Fe,Ae=>{const Be=Ae.currentTarget;let Ie=Be.getAttribute("seek-value");is.empty(Ie)&&(Ie=Be.value),Be.removeAttribute("seek-value"),Te.currentTime=Ie/Be.max*Te.duration},"seek"),this.bind(Le.progress,"mouseenter mouseleave mousemove",Ae=>controls.updateSeekTooltip.call(Te,Ae)),this.bind(Le.progress,"mousemove touchmove",Ae=>{const{previewThumbnails:Be}=Te;Be&&Be.loaded&&Be.startMove(Ae)}),this.bind(Le.progress,"mouseleave touchend click",()=>{const{previewThumbnails:Ae}=Te;Ae&&Ae.loaded&&Ae.endMove(!1,!0)}),this.bind(Le.progress,"mousedown touchstart",Ae=>{const{previewThumbnails:Be}=Te;Be&&Be.loaded&&Be.startScrubbing(Ae)}),this.bind(Le.progress,"mouseup touchend",Ae=>{const{previewThumbnails:Be}=Te;Be&&Be.loaded&&Be.endScrubbing(Ae)}),browser.isWebKit&&Array.from(getElements.call(Te,'input[type="range"]')).forEach(Ae=>{this.bind(Ae,"input",Be=>controls.updateRangeFill.call(Te,Be.target))}),Te.config.toggleInvert&&!is.element(Le.display.duration)&&this.bind(Le.display.currentTime,"click",()=>{Te.currentTime!==0&&(Te.config.invertTime=!Te.config.invertTime,controls.timeUpdate.call(Te))}),this.bind(Le.inputs.volume,Fe,Ae=>{Te.volume=Ae.target.value},"volume"),this.bind(Le.controls,"mouseenter mouseleave",Ae=>{Le.controls.hover=!Te.touch&&Ae.type==="mouseenter"}),Le.fullscreen&&Array.from(Le.fullscreen.children).filter(Ae=>!Ae.contains(Le.container)).forEach(Ae=>{this.bind(Ae,"mouseenter mouseleave",Be=>{Le.controls&&(Le.controls.hover=!Te.touch&&Be.type==="mouseenter")})}),this.bind(Le.controls,"mousedown mouseup touchstart touchend touchcancel",Ae=>{Le.controls.pressed=["mousedown","touchstart"].includes(Ae.type)}),this.bind(Le.controls,"focusin",()=>{const{config:Ae,timers:Be}=Te;toggleClass(Le.controls,Ae.classNames.noTransition,!0),ui.toggleControls.call(Te,!0),setTimeout(()=>{toggleClass(Le.controls,Ae.classNames.noTransition,!1)},0);const Ie=this.touch?3e3:4e3;clearTimeout(Be.controls),Be.controls=setTimeout(()=>ui.toggleControls.call(Te,!1),Ie)}),this.bind(Le.inputs.volume,"wheel",Ae=>{const Be=Ae.webkitDirectionInvertedFromDevice,[Ie,Ne]=[Ae.deltaX,-Ae.deltaY].map(je=>Be?-je:je),ze=Math.sign(Math.abs(Ie)>Math.abs(Ne)?Ie:Ne);Te.increaseVolume(ze/50);const{volume:Ue}=Te.media;(ze===1&&Ue<1||ze===-1&&Ue>0)&&Ae.preventDefault()},"volume",!1)}),this.player=_e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(_e){const{player:Te}=this,{elements:Le}=Te,{key:Fe,type:Ae,altKey:Be,ctrlKey:Ie,metaKey:Ne,shiftKey:ze}=_e,Ue=Ae==="keydown",je=Ue&&Fe===this.lastKey;if(!(Be||Ie||Ne||ze)&&Fe){if(Ue){const Ze=document.activeElement;if(is.element(Ze)){const{editable:Ke}=Te.config.selectors,{seek:Je}=Le.inputs;if(Ze!==Je&&matches(Ze,Ke)||_e.key===" "&&matches(Ze,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(Fe)&&(_e.preventDefault(),_e.stopPropagation()),Fe){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":je||(Ve=parseInt(Fe,10),Te.currentTime=Te.duration/10*Ve);break;case" ":case"k":je||silencePromise(Te.togglePlay());break;case"ArrowUp":Te.increaseVolume(.1);break;case"ArrowDown":Te.decreaseVolume(.1);break;case"m":je||(Te.muted=!Te.muted);break;case"ArrowRight":Te.forward();break;case"ArrowLeft":Te.rewind();break;case"f":Te.fullscreen.toggle();break;case"c":je||Te.toggleCaptions();break;case"l":Te.loop=!Te.loop}Fe==="Escape"&&!Te.fullscreen.usingNative&&Te.fullscreen.active&&Te.fullscreen.toggle(),this.lastKey=Fe}else this.lastKey=null;var Ve}}toggleMenu(_e){controls.toggleMenu.call(this.player,_e)}}function createCommonjsModule($e,_e){return $e(_e={exports:{}},_e.exports),_e.exports}var loadjs_umd=createCommonjsModule(function($e,_e){$e.exports=function(){var Te=function(){},Le={},Fe={},Ae={};function Be(Ve,Ze){Ve=Ve.push?Ve:[Ve];var Ke,Je,ei,ni=[],Qe=Ve.length,ii=Qe;for(Ke=function(ai,di){di.length&&ni.push(ai),--ii||Ze(ni)};Qe--;)Je=Ve[Qe],(ei=Fe[Je])?Ke(Je,ei):(Ae[Je]=Ae[Je]||[]).push(Ke)}function Ie(Ve,Ze){if(Ve){var Ke=Ae[Ve];if(Fe[Ve]=Ze,Ke)for(;Ke.length;)Ke[0](Ve,Ze),Ke.splice(0,1)}}function Ne(Ve,Ze){Ve.call&&(Ve={success:Ve}),Ze.length?(Ve.error||Te)(Ze):(Ve.success||Te)(Ve)}function ze(Ve,Ze,Ke,Je){var ei,ni,Qe=document,ii=Ke.async,ai=(Ke.numRetries||0)+1,di=Ke.before||Te,vi=Ve.replace(/[\?|#].*$/,""),bi=Ve.replace(/^(css|img)!/,"");Je=Je||0,/(^css!|\.css$)/.test(vi)?((ni=Qe.createElement("link")).rel="stylesheet",ni.href=bi,(ei="hideFocus"in ni)&&ni.relList&&(ei=0,ni.rel="preload",ni.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(vi)?(ni=Qe.createElement("img")).src=bi:((ni=Qe.createElement("script")).src=Ve,ni.async=ii===void 0||ii),ni.onload=ni.onerror=ni.onbeforeload=function(xi){var mi=xi.type[0];if(ei)try{ni.sheet.cssText.length||(mi="e")}catch(li){li.code!=18&&(mi="e")}if(mi=="e"){if((Je+=1)<ai)return ze(Ve,Ze,Ke,Je)}else if(ni.rel=="preload"&&ni.as=="style")return ni.rel="stylesheet";Ze(Ve,mi,xi.defaultPrevented)},di(Ve,ni)!==!1&&Qe.head.appendChild(ni)}function Ue(Ve,Ze,Ke){var Je,ei,ni=(Ve=Ve.push?Ve:[Ve]).length,Qe=ni,ii=[];for(Je=function(ai,di,vi){if(di=="e"&&ii.push(ai),di=="b"){if(!vi)return;ii.push(ai)}--ni||Ze(ii)},ei=0;ei<Qe;ei++)ze(Ve[ei],Je,Ke)}function je(Ve,Ze,Ke){var Je,ei;if(Ze&&Ze.trim&&(Je=Ze),ei=(Je?Ke:Ze)||{},Je){if(Je in Le)throw"LoadJS";Le[Je]=!0}function ni(Qe,ii){Ue(Ve,function(ai){Ne(ei,ai),Qe&&Ne({success:Qe,error:ii},ai),Ie(Je,ai)},ei)}if(ei.returnPromise)return new Promise(ni);ni()}return je.ready=function(Ve,Ze){return Be(Ve,function(Ke){Ne(Ze,Ke)}),je},je.done=function(Ve){Ie(Ve,[])},je.reset=function(){Le={},Fe={},Ae={}},je.isDefined=function(Ve){return Ve in Le},je}()});function loadScript($e){return new Promise((_e,Te)=>{loadjs_umd($e,{success:_e,error:Te})})}function parseId$1($e){return is.empty($e)?null:is.number(Number($e))?$e:$e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:$e}function parseHash($e){const _e=$e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return _e&&_e.length===5?_e[4]:null}function assurePlaybackState$1($e){$e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===$e&&(this.media.paused=!$e,triggerEvent.call(this,this.media,$e?"play":"pause"))}const vimeo={setup(){const $e=this;toggleClass($e.elements.wrapper,$e.config.classNames.embed,!0),$e.options.speed=$e.config.speed.options,setAspectRatio.call($e),is.object(window.Vimeo)?vimeo.ready.call($e):loadScript($e.config.urls.vimeo.sdk).then(()=>{vimeo.ready.call($e)}).catch(_e=>{$e.debug.warn("Vimeo SDK (player.js) failed to load",_e)})},ready(){const $e=this,_e=$e.config.vimeo,{premium:Te,referrerPolicy:Le,...Fe}=_e;let Ae=$e.media.getAttribute("src"),Be="";is.empty(Ae)?(Ae=$e.media.getAttribute($e.config.attributes.embed.id),Be=$e.media.getAttribute($e.config.attributes.embed.hash)):Be=parseHash(Ae);const Ie=Be?{h:Be}:{};Te&&Object.assign(Fe,{controls:!1,sidedock:!1});const Ne=buildUrlParams({loop:$e.config.loop.active,autoplay:$e.autoplay,muted:$e.muted,gesture:"media",playsinline:$e.config.playsinline,...Ie,...Fe}),ze=parseId$1(Ae),Ue=createElement("iframe"),je=format($e.config.urls.vimeo.iframe,ze,Ne);if(Ue.setAttribute("src",je),Ue.setAttribute("allowfullscreen",""),Ue.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),is.empty(Le)||Ue.setAttribute("referrerPolicy",Le),Te||!_e.customControls)Ue.setAttribute("data-poster",$e.poster),$e.media=replaceElement(Ue,$e.media);else{const Qe=createElement("div",{class:$e.config.classNames.embedContainer,"data-poster":$e.poster});Qe.appendChild(Ue),$e.media=replaceElement(Qe,$e.media)}_e.customControls||fetch(format($e.config.urls.vimeo.api,je)).then(Qe=>{!is.empty(Qe)&&Qe.thumbnail_url&&ui.setPoster.call($e,Qe.thumbnail_url).catch(()=>{})}),$e.embed=new window.Vimeo.Player(Ue,{autopause:$e.config.autopause,muted:$e.muted}),$e.media.paused=!0,$e.media.currentTime=0,$e.supported.ui&&$e.embed.disableTextTrack(),$e.media.play=()=>(assurePlaybackState$1.call($e,!0),$e.embed.play()),$e.media.pause=()=>(assurePlaybackState$1.call($e,!1),$e.embed.pause()),$e.media.stop=()=>{$e.pause(),$e.currentTime=0};let{currentTime:Ve}=$e.media;Object.defineProperty($e.media,"currentTime",{get:()=>Ve,set(Qe){const{embed:ii,media:ai,paused:di,volume:vi}=$e,bi=di&&!ii.hasPlayed;ai.seeking=!0,triggerEvent.call($e,ai,"seeking"),Promise.resolve(bi&&ii.setVolume(0)).then(()=>ii.setCurrentTime(Qe)).then(()=>bi&&ii.pause()).then(()=>bi&&ii.setVolume(vi)).catch(()=>{})}});let Ze=$e.config.speed.selected;Object.defineProperty($e.media,"playbackRate",{get:()=>Ze,set(Qe){$e.embed.setPlaybackRate(Qe).then(()=>{Ze=Qe,triggerEvent.call($e,$e.media,"ratechange")}).catch(()=>{$e.options.speed=[1]})}});let{volume:Ke}=$e.config;Object.defineProperty($e.media,"volume",{get:()=>Ke,set(Qe){$e.embed.setVolume(Qe).then(()=>{Ke=Qe,triggerEvent.call($e,$e.media,"volumechange")})}});let{muted:Je}=$e.config;Object.defineProperty($e.media,"muted",{get:()=>Je,set(Qe){const ii=!!is.boolean(Qe)&&Qe;$e.embed.setMuted(!!ii||$e.config.muted).then(()=>{Je=ii,triggerEvent.call($e,$e.media,"volumechange")})}});let ei,{loop:ni}=$e.config;Object.defineProperty($e.media,"loop",{get:()=>ni,set(Qe){const ii=is.boolean(Qe)?Qe:$e.config.loop.active;$e.embed.setLoop(ii).then(()=>{ni=ii})}}),$e.embed.getVideoUrl().then(Qe=>{ei=Qe,controls.setDownloadUrl.call($e)}).catch(Qe=>{this.debug.warn(Qe)}),Object.defineProperty($e.media,"currentSrc",{get:()=>ei}),Object.defineProperty($e.media,"ended",{get:()=>$e.currentTime===$e.duration}),Promise.all([$e.embed.getVideoWidth(),$e.embed.getVideoHeight()]).then(Qe=>{const[ii,ai]=Qe;$e.embed.ratio=roundAspectRatio(ii,ai),setAspectRatio.call(this)}),$e.embed.setAutopause($e.config.autopause).then(Qe=>{$e.config.autopause=Qe}),$e.embed.getVideoTitle().then(Qe=>{$e.config.title=Qe,ui.setTitle.call(this)}),$e.embed.getCurrentTime().then(Qe=>{Ve=Qe,triggerEvent.call($e,$e.media,"timeupdate")}),$e.embed.getDuration().then(Qe=>{$e.media.duration=Qe,triggerEvent.call($e,$e.media,"durationchange")}),$e.embed.getTextTracks().then(Qe=>{$e.media.textTracks=Qe,captions.setup.call($e)}),$e.embed.on("cuechange",({cues:Qe=[]})=>{const ii=Qe.map(ai=>stripHTML(ai.text));captions.updateCues.call($e,ii)}),$e.embed.on("loaded",()=>{$e.embed.getPaused().then(Qe=>{assurePlaybackState$1.call($e,!Qe),Qe||triggerEvent.call($e,$e.media,"playing")}),is.element($e.embed.element)&&$e.supported.ui&&$e.embed.element.setAttribute("tabindex",-1)}),$e.embed.on("bufferstart",()=>{triggerEvent.call($e,$e.media,"waiting")}),$e.embed.on("bufferend",()=>{triggerEvent.call($e,$e.media,"playing")}),$e.embed.on("play",()=>{assurePlaybackState$1.call($e,!0),triggerEvent.call($e,$e.media,"playing")}),$e.embed.on("pause",()=>{assurePlaybackState$1.call($e,!1)}),$e.embed.on("timeupdate",Qe=>{$e.media.seeking=!1,Ve=Qe.seconds,triggerEvent.call($e,$e.media,"timeupdate")}),$e.embed.on("progress",Qe=>{$e.media.buffered=Qe.percent,triggerEvent.call($e,$e.media,"progress"),parseInt(Qe.percent,10)===1&&triggerEvent.call($e,$e.media,"canplaythrough"),$e.embed.getDuration().then(ii=>{ii!==$e.media.duration&&($e.media.duration=ii,triggerEvent.call($e,$e.media,"durationchange"))})}),$e.embed.on("seeked",()=>{$e.media.seeking=!1,triggerEvent.call($e,$e.media,"seeked")}),$e.embed.on("ended",()=>{$e.media.paused=!0,triggerEvent.call($e,$e.media,"ended")}),$e.embed.on("error",Qe=>{$e.media.error=Qe,triggerEvent.call($e,$e.media,"error")}),_e.customControls&&setTimeout(()=>ui.build.call($e),0)}};function parseId($e){return is.empty($e)?null:$e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:$e}function assurePlaybackState($e){$e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===$e&&(this.media.paused=!$e,triggerEvent.call(this,this.media,$e?"play":"pause"))}function getHost($e){return $e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const youtube={setup(){if(toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),is.object(window.YT)&&is.function(window.YT.Player))youtube.ready.call(this);else{const $e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{is.function($e)&&$e(),youtube.ready.call(this)},loadScript(this.config.urls.youtube.sdk).catch(_e=>{this.debug.warn("YouTube API failed to load",_e)})}},getTitle($e){fetch(format(this.config.urls.youtube.api,$e)).then(_e=>{if(is.object(_e)){const{title:Te,height:Le,width:Fe}=_e;this.config.title=Te,ui.setTitle.call(this),this.embed.ratio=roundAspectRatio(Fe,Le)}setAspectRatio.call(this)}).catch(()=>{setAspectRatio.call(this)})},ready(){const $e=this,_e=$e.config.youtube,Te=$e.media&&$e.media.getAttribute("id");if(!is.empty(Te)&&Te.startsWith("youtube-"))return;let Le=$e.media.getAttribute("src");is.empty(Le)&&(Le=$e.media.getAttribute(this.config.attributes.embed.id));const Fe=parseId(Le),Ae=createElement("div",{id:generateId($e.provider),"data-poster":_e.customControls?$e.poster:void 0});if($e.media=replaceElement(Ae,$e.media),_e.customControls){const Be=Ie=>`https://i.ytimg.com/vi/${Fe}/${Ie}default.jpg`;loadImage(Be("maxres"),121).catch(()=>loadImage(Be("sd"),121)).catch(()=>loadImage(Be("hq"))).then(Ie=>ui.setPoster.call($e,Ie.src)).then(Ie=>{Ie.includes("maxres")||($e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}$e.embed=new window.YT.Player($e.media,{videoId:Fe,host:getHost(_e),playerVars:extend({},{autoplay:$e.config.autoplay?1:0,hl:$e.config.hl,controls:$e.supported.ui&&_e.customControls?0:1,disablekb:1,playsinline:$e.config.playsinline&&!$e.config.fullscreen.iosNative?1:0,cc_load_policy:$e.captions.active?1:0,cc_lang_pref:$e.config.captions.language,widget_referrer:window?window.location.href:null},_e),events:{onError(Be){if(!$e.media.error){const Ie=Be.data,Ne={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[Ie]||"An unknown error occurred";$e.media.error={code:Ie,message:Ne},triggerEvent.call($e,$e.media,"error")}},onPlaybackRateChange(Be){const Ie=Be.target;$e.media.playbackRate=Ie.getPlaybackRate(),triggerEvent.call($e,$e.media,"ratechange")},onReady(Be){if(is.function($e.media.play))return;const Ie=Be.target;youtube.getTitle.call($e,Fe),$e.media.play=()=>{assurePlaybackState.call($e,!0),Ie.playVideo()},$e.media.pause=()=>{assurePlaybackState.call($e,!1),Ie.pauseVideo()},$e.media.stop=()=>{Ie.stopVideo()},$e.media.duration=Ie.getDuration(),$e.media.paused=!0,$e.media.currentTime=0,Object.defineProperty($e.media,"currentTime",{get:()=>Number(Ie.getCurrentTime()),set(je){$e.paused&&!$e.embed.hasPlayed&&$e.embed.mute(),$e.media.seeking=!0,triggerEvent.call($e,$e.media,"seeking"),Ie.seekTo(je)}}),Object.defineProperty($e.media,"playbackRate",{get:()=>Ie.getPlaybackRate(),set(je){Ie.setPlaybackRate(je)}});let{volume:Ne}=$e.config;Object.defineProperty($e.media,"volume",{get:()=>Ne,set(je){Ne=je,Ie.setVolume(100*Ne),triggerEvent.call($e,$e.media,"volumechange")}});let{muted:ze}=$e.config;Object.defineProperty($e.media,"muted",{get:()=>ze,set(je){const Ve=is.boolean(je)?je:ze;ze=Ve,Ie[Ve?"mute":"unMute"](),Ie.setVolume(100*Ne),triggerEvent.call($e,$e.media,"volumechange")}}),Object.defineProperty($e.media,"currentSrc",{get:()=>Ie.getVideoUrl()}),Object.defineProperty($e.media,"ended",{get:()=>$e.currentTime===$e.duration});const Ue=Ie.getAvailablePlaybackRates();$e.options.speed=Ue.filter(je=>$e.config.speed.options.includes(je)),$e.supported.ui&&_e.customControls&&$e.media.setAttribute("tabindex",-1),triggerEvent.call($e,$e.media,"timeupdate"),triggerEvent.call($e,$e.media,"durationchange"),clearInterval($e.timers.buffering),$e.timers.buffering=setInterval(()=>{$e.media.buffered=Ie.getVideoLoadedFraction(),($e.media.lastBuffered===null||$e.media.lastBuffered<$e.media.buffered)&&triggerEvent.call($e,$e.media,"progress"),$e.media.lastBuffered=$e.media.buffered,$e.media.buffered===1&&(clearInterval($e.timers.buffering),triggerEvent.call($e,$e.media,"canplaythrough"))},200),_e.customControls&&setTimeout(()=>ui.build.call($e),50)},onStateChange(Be){const Ie=Be.target;switch(clearInterval($e.timers.playing),$e.media.seeking&&[1,2].includes(Be.data)&&($e.media.seeking=!1,triggerEvent.call($e,$e.media,"seeked")),Be.data){case-1:triggerEvent.call($e,$e.media,"timeupdate"),$e.media.buffered=Ie.getVideoLoadedFraction(),triggerEvent.call($e,$e.media,"progress");break;case 0:assurePlaybackState.call($e,!1),$e.media.loop?(Ie.stopVideo(),Ie.playVideo()):triggerEvent.call($e,$e.media,"ended");break;case 1:_e.customControls&&!$e.config.autoplay&&$e.media.paused&&!$e.embed.hasPlayed?$e.media.pause():(assurePlaybackState.call($e,!0),triggerEvent.call($e,$e.media,"playing"),$e.timers.playing=setInterval(()=>{triggerEvent.call($e,$e.media,"timeupdate")},50),$e.media.duration!==Ie.getDuration()&&($e.media.duration=Ie.getDuration(),triggerEvent.call($e,$e.media,"durationchange")));break;case 2:$e.muted||$e.embed.unMute(),assurePlaybackState.call($e,!1);break;case 3:triggerEvent.call($e,$e.media,"waiting")}triggerEvent.call($e,$e.elements.container,"statechange",!1,{code:Be.data})}}})}},media={setup(){this.media?(toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=createElement("div",{class:this.config.classNames.video}),wrap(this.media,this.elements.wrapper),this.elements.poster=createElement("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?html5.setup.call(this):this.isYouTube?youtube.setup.call(this):this.isVimeo&&vimeo.setup.call(this)):this.debug.warn("No media element found!")}};class Ads{constructor(_e){_defineProperty$1(this,"load",()=>{this.enabled&&(is.object(window.google)&&is.object(window.google.ima)?this.ready():loadScript(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),_defineProperty$1(this,"ready",()=>{var Te;this.enabled||((Te=this).manager&&Te.manager.destroy(),Te.elements.displayContainer&&Te.elements.displayContainer.destroy(),Te.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),_defineProperty$1(this,"setupIMA",()=>{this.elements.container=createElement("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Te=>this.onAdsManagerLoaded(Te),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Te=>this.onAdError(Te),!1),this.requestAds()}),_defineProperty$1(this,"requestAds",()=>{const{container:Te}=this.player.elements;try{const Le=new google.ima.AdsRequest;Le.adTagUrl=this.tagUrl,Le.linearAdSlotWidth=Te.offsetWidth,Le.linearAdSlotHeight=Te.offsetHeight,Le.nonLinearAdSlotWidth=Te.offsetWidth,Le.nonLinearAdSlotHeight=Te.offsetHeight,Le.forceNonLinearFullSlot=!1,Le.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(Le)}catch(Le){this.onAdError(Le)}}),_defineProperty$1(this,"pollCountdown",(Te=!1)=>{if(!Te)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const Le=formatTime(Math.max(this.manager.getRemainingTime(),0)),Fe=`${i18n.get("advertisement",this.player.config)} - ${Le}`;this.elements.container.setAttribute("data-badge-text",Fe)},100)}),_defineProperty$1(this,"onAdsManagerLoaded",Te=>{if(!this.enabled)return;const Le=new google.ima.AdsRenderingSettings;Le.restoreCustomPlaybackStateOnAdBreakComplete=!0,Le.enablePreloading=!0,this.manager=Te.getAdsManager(this.player,Le),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Fe=>this.onAdError(Fe)),Object.keys(google.ima.AdEvent.Type).forEach(Fe=>{this.manager.addEventListener(google.ima.AdEvent.Type[Fe],Ae=>this.onAdEvent(Ae))}),this.trigger("loaded")}),_defineProperty$1(this,"addCuePoints",()=>{is.empty(this.cuePoints)||this.cuePoints.forEach(Te=>{if(Te!==0&&Te!==-1&&Te<this.player.duration){const Le=this.player.elements.progress;if(is.element(Le)){const Fe=100/this.player.duration*Te,Ae=createElement("span",{class:this.player.config.classNames.cues});Ae.style.left=`${Fe.toString()}%`,Le.appendChild(Ae)}}})}),_defineProperty$1(this,"onAdEvent",Te=>{const{container:Le}=this.player.elements,Fe=Te.getAd(),Ae=Te.getAdData();switch((Be=>{triggerEvent.call(this.player,this.player.media,`ads${Be.replace(/_/g,"").toLowerCase()}`)})(Te.type),Te.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),Fe.isLinear()||(Fe.width=Le.offsetWidth,Fe.height=Le.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:Ae.adError&&this.player.debug.warn(`Non-fatal ad error: ${Ae.adError.getMessage()}`)}}),_defineProperty$1(this,"onAdError",Te=>{this.cancel(),this.player.debug.warn("Ads error",Te)}),_defineProperty$1(this,"listeners",()=>{const{container:Te}=this.player.elements;let Le;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{Le=this.player.currentTime}),this.player.on("seeked",()=>{const Fe=this.player.currentTime;is.empty(this.cuePoints)||this.cuePoints.forEach((Ae,Be)=>{Le<Ae&&Ae<Fe&&(this.manager.discardAdBreak(),this.cuePoints.splice(Be,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(Te.offsetWidth,Te.offsetHeight,google.ima.ViewMode.NORMAL)})}),_defineProperty$1(this,"play",()=>{const{container:Te}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(Te.offsetWidth,Te.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(Le){this.onAdError(Le)}}).catch(()=>{})}),_defineProperty$1(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,silencePromise(this.player.media.play())}),_defineProperty$1(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),_defineProperty$1(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),_defineProperty$1(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(Te=>{this.on("loaded",Te),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),_defineProperty$1(this,"trigger",(Te,...Le)=>{const Fe=this.events[Te];is.array(Fe)&&Fe.forEach(Ae=>{is.function(Ae)&&Ae.apply(this,Le)})}),_defineProperty$1(this,"on",(Te,Le)=>(is.array(this.events[Te])||(this.events[Te]=[]),this.events[Te].push(Le),this)),_defineProperty$1(this,"startSafetyTimer",(Te,Le)=>{this.player.debug.log(`Safety timer invoked from: ${Le}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},Te)}),_defineProperty$1(this,"clearSafetyTimer",Te=>{is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${Te}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=_e,this.config=_e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((Te,Le)=>{this.on("loaded",Te),this.on("error",Le)}),this.load()}get enabled(){const{config:_e}=this;return this.player.isHTML5&&this.player.isVideo&&_e.enabled&&(!is.empty(_e.publisherId)||is.url(_e.tagUrl))}get tagUrl(){const{config:_e}=this;return is.url(_e.tagUrl)?_e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${buildUrlParams({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:_e.publisherId})}`}}function clamp$1($e=0,_e=0,Te=255){return Math.min(Math.max($e,_e),Te)}const parseVtt=$e=>{const _e=[];return $e.split(/\r\n\r\n|\n\n|\r\r/).forEach(Te=>{const Le={};Te.split(/\r\n|\n|\r/).forEach(Fe=>{if(is.number(Le.startTime)){if(!is.empty(Fe.trim())&&is.empty(Le.text)){const Ae=Fe.trim().split("#xywh=");[Le.text]=Ae,Ae[1]&&([Le.x,Le.y,Le.w,Le.h]=Ae[1].split(","))}}else{const Ae=Fe.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);Ae&&(Le.startTime=60*Number(Ae[1]||0)*60+60*Number(Ae[2])+Number(Ae[3])+ +`0.${Ae[4]}`,Le.endTime=60*Number(Ae[6]||0)*60+60*Number(Ae[7])+Number(Ae[8])+ +`0.${Ae[9]}`)}}),Le.text&&_e.push(Le)}),_e},fitRatio=($e,_e)=>{const Te={};return $e>_e.width/_e.height?(Te.width=_e.width,Te.height=1/$e*_e.width):(Te.height=_e.height,Te.width=$e*_e.height),Te};class PreviewThumbnails{constructor(_e){_defineProperty$1(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),_defineProperty$1(this,"getThumbnails",()=>new Promise(Te=>{const{src:Le}=this.player.config.previewThumbnails;if(is.empty(Le))throw new Error("Missing previewThumbnails.src config attribute");const Fe=()=>{this.thumbnails.sort((Ae,Be)=>Ae.height-Be.height),this.player.debug.log("Preview thumbnails",this.thumbnails),Te()};if(is.function(Le))Le(Ae=>{this.thumbnails=Ae,Fe()});else{const Ae=(is.string(Le)?[Le]:Le).map(Be=>this.getThumbnail(Be));Promise.all(Ae).then(Fe)}})),_defineProperty$1(this,"getThumbnail",Te=>new Promise(Le=>{fetch(Te).then(Fe=>{const Ae={frames:parseVtt(Fe),height:null,urlPrefix:""};Ae.frames[0].text.startsWith("/")||Ae.frames[0].text.startsWith("http://")||Ae.frames[0].text.startsWith("https://")||(Ae.urlPrefix=Te.substring(0,Te.lastIndexOf("/")+1));const Be=new Image;Be.onload=()=>{Ae.height=Be.naturalHeight,Ae.width=Be.naturalWidth,this.thumbnails.push(Ae),Le()},Be.src=Ae.urlPrefix+Ae.frames[0].text})})),_defineProperty$1(this,"startMove",Te=>{if(this.loaded&&is.event(Te)&&["touchmove","mousemove"].includes(Te.type)&&this.player.media.duration){if(Te.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var Le,Fe;const Ae=this.player.elements.progress.getBoundingClientRect(),Be=100/Ae.width*(Te.pageX-Ae.left);this.seekTime=this.player.media.duration*(Be/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=Te.pageX,this.elements.thumb.time.innerText=formatTime(this.seekTime);const Ie=(Le=this.player.config.markers)===null||Le===void 0||(Fe=Le.points)===null||Fe===void 0?void 0:Fe.find(({time:Ne})=>Ne===Math.round(this.seekTime));Ie&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${Ie.label}<br>`)}this.showImageAtCurrentTime()}}),_defineProperty$1(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),_defineProperty$1(this,"startScrubbing",Te=>{(is.nullOrUndefined(Te.button)||Te.button===!1||Te.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),_defineProperty$1(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):once.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),_defineProperty$1(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),_defineProperty$1(this,"render",()=>{this.elements.thumb.container=createElement("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=createElement("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const Te=createElement("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=createElement("span",{},"00:00"),Te.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(Te),is.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=createElement("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),_defineProperty$1(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),_defineProperty$1(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const Te=this.thumbnails[0].frames.findIndex(Ae=>this.seekTime>=Ae.startTime&&this.seekTime<=Ae.endTime),Le=Te>=0;let Fe=0;this.mouseDown||this.toggleThumbContainer(Le),Le&&(this.thumbnails.forEach((Ae,Be)=>{this.loadedImages.includes(Ae.frames[Te].text)&&(Fe=Be)}),Te!==this.showingThumb&&(this.showingThumb=Te,this.loadImage(Fe)))}),_defineProperty$1(this,"loadImage",(Te=0)=>{const Le=this.showingThumb,Fe=this.thumbnails[Te],{urlPrefix:Ae}=Fe,Be=Fe.frames[Le],Ie=Fe.frames[Le].text,Ne=Ae+Ie;if(this.currentImageElement&&this.currentImageElement.dataset.filename===Ie)this.showImage(this.currentImageElement,Be,Te,Le,Ie,!1),this.currentImageElement.dataset.index=Le,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const ze=new Image;ze.src=Ne,ze.dataset.index=Le,ze.dataset.filename=Ie,this.showingThumbFilename=Ie,this.player.debug.log(`Loading image: ${Ne}`),ze.onload=()=>this.showImage(ze,Be,Te,Le,Ie,!0),this.loadingImage=ze,this.removeOldImages(ze)}}),_defineProperty$1(this,"showImage",(Te,Le,Fe,Ae,Be,Ie=!0)=>{this.player.debug.log(`Showing thumb: ${Be}. num: ${Ae}. qual: ${Fe}. newimg: ${Ie}`),this.setImageSizeAndOffset(Te,Le),Ie&&(this.currentImageContainer.appendChild(Te),this.currentImageElement=Te,this.loadedImages.includes(Be)||this.loadedImages.push(Be)),this.preloadNearby(Ae,!0).then(this.preloadNearby(Ae,!1)).then(this.getHigherQuality(Fe,Te,Le,Be))}),_defineProperty$1(this,"removeOldImages",Te=>{Array.from(this.currentImageContainer.children).forEach(Le=>{if(Le.tagName.toLowerCase()!=="img")return;const Fe=this.usingSprites?500:1e3;if(Le.dataset.index!==Te.dataset.index&&!Le.dataset.deleting){Le.dataset.deleting=!0;const{currentImageContainer:Ae}=this;setTimeout(()=>{Ae.removeChild(Le),this.player.debug.log(`Removing thumb: ${Le.dataset.filename}`)},Fe)}})}),_defineProperty$1(this,"preloadNearby",(Te,Le=!0)=>new Promise(Fe=>{setTimeout(()=>{const Ae=this.thumbnails[0].frames[Te].text;if(this.showingThumbFilename===Ae){let Be;Be=Le?this.thumbnails[0].frames.slice(Te):this.thumbnails[0].frames.slice(0,Te).reverse();let Ie=!1;Be.forEach(Ne=>{const ze=Ne.text;if(ze!==Ae&&!this.loadedImages.includes(ze)){Ie=!0,this.player.debug.log(`Preloading thumb filename: ${ze}`);const{urlPrefix:Ue}=this.thumbnails[0],je=Ue+ze,Ve=new Image;Ve.src=je,Ve.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${ze}`),this.loadedImages.includes(ze)||this.loadedImages.push(ze),Fe()}}}),Ie||Fe()}},300)})),_defineProperty$1(this,"getHigherQuality",(Te,Le,Fe,Ae)=>{if(Te<this.thumbnails.length-1){let Be=Le.naturalHeight;this.usingSprites&&(Be=Fe.h),Be<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===Ae&&(this.player.debug.log(`Showing higher quality thumb for: ${Ae}`),this.loadImage(Te+1))},300)}}),_defineProperty$1(this,"toggleThumbContainer",(Te=!1,Le=!1)=>{const Fe=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(Fe,Te),!Te&&Le&&(this.showingThumb=null,this.showingThumbFilename=null)}),_defineProperty$1(this,"toggleScrubbingContainer",(Te=!1)=>{const Le=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(Le,Te),Te||(this.showingThumb=null,this.showingThumbFilename=null)}),_defineProperty$1(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),_defineProperty$1(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:Te}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(Te.clientHeight>20&&Te.clientWidth<20){const Le=Math.floor(Te.clientHeight*this.thumbAspectRatio);Te.style.width=`${Le}px`}else if(Te.clientHeight<20&&Te.clientWidth>20){const Le=Math.floor(Te.clientWidth/this.thumbAspectRatio);Te.style.height=`${Le}px`}}else{const Le=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);Te.style.height=`${this.thumbContainerHeight}px`,Te.style.width=`${Le}px`}this.setThumbContainerPos()}),_defineProperty$1(this,"setThumbContainerPos",()=>{const Te=this.player.elements.progress.getBoundingClientRect(),Le=this.player.elements.container.getBoundingClientRect(),{container:Fe}=this.elements.thumb,Ae=Le.left-Te.left+10,Be=Le.right-Te.left-Fe.clientWidth-10,Ie=this.mousePosX-Te.left-Fe.clientWidth/2,Ne=clamp$1(Ie,Ae,Be);Fe.style.left=`${Ne}px`,Fe.style.setProperty("--preview-arrow-offset",Ie-Ne+"px")}),_defineProperty$1(this,"setScrubbingContainerSize",()=>{const{width:Te,height:Le}=fitRatio(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${Te}px`,this.elements.scrubbing.container.style.height=`${Le}px`}),_defineProperty$1(this,"setImageSizeAndOffset",(Te,Le)=>{if(!this.usingSprites)return;const Fe=this.thumbContainerHeight/Le.h;Te.style.height=Te.naturalHeight*Fe+"px",Te.style.width=Te.naturalWidth*Fe+"px",Te.style.left=`-${Le.x*Fe}px`,Te.style.top=`-${Le.y*Fe}px`}),this.player=_e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:_e}=fitRatio(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return _e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(_e){this.mouseDown?this.currentScrubbingImageElement=_e:this.currentThumbnailImageElement=_e}}const source={insertElements($e,_e){is.string(_e)?insertElement($e,this.media,{src:_e}):is.array(_e)&&_e.forEach(Te=>{insertElement($e,this.media,Te)})},change($e){getDeep($e,"sources.length")?(html5.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],removeElement$1(this.media),this.media=null,is.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:_e,type:Te}=$e,[{provider:Le=providers.html5,src:Fe}]=_e,Ae=Le==="html5"?Te:"div",Be=Le==="html5"?{}:{src:Fe};Object.assign(this,{provider:Le,type:Te,supported:support.check(Te,Le,this.config.playsinline),media:createElement(Ae,Be)}),this.elements.container.appendChild(this.media),is.boolean($e.autoplay)&&(this.config.autoplay=$e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),is.empty($e.poster)||(this.poster=$e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ui.addStyleHook.call(this),this.isHTML5&&source.insertElements.call(this,"source",_e),this.config.title=$e.title,media.setup.call(this),this.isHTML5&&Object.keys($e).includes("tracks")&&source.insertElements.call(this,"track",$e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.isHTML5&&this.media.load(),is.empty($e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,$e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Plyr{constructor(_e,Te){if(_defineProperty$1(this,"play",()=>is.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>silencePromise(this.media.play())),this.media.play()):null),_defineProperty$1(this,"pause",()=>this.playing&&is.function(this.media.pause)?this.media.pause():null),_defineProperty$1(this,"togglePlay",Ie=>(is.boolean(Ie)?Ie:!this.playing)?this.play():this.pause()),_defineProperty$1(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):is.function(this.media.stop)&&this.media.stop()}),_defineProperty$1(this,"restart",()=>{this.currentTime=0}),_defineProperty$1(this,"rewind",Ie=>{this.currentTime-=is.number(Ie)?Ie:this.config.seekTime}),_defineProperty$1(this,"forward",Ie=>{this.currentTime+=is.number(Ie)?Ie:this.config.seekTime}),_defineProperty$1(this,"increaseVolume",Ie=>{const Ne=this.media.muted?0:this.volume;this.volume=Ne+(is.number(Ie)?Ie:0)}),_defineProperty$1(this,"decreaseVolume",Ie=>{this.increaseVolume(-Ie)}),_defineProperty$1(this,"airplay",()=>{support.airplay&&this.media.webkitShowPlaybackTargetPicker()}),_defineProperty$1(this,"toggleControls",Ie=>{if(this.supported.ui&&!this.isAudio){const Ne=hasClass$1(this.elements.container,this.config.classNames.hideControls),ze=Ie===void 0?void 0:!Ie,Ue=toggleClass(this.elements.container,this.config.classNames.hideControls,ze);if(Ue&&is.array(this.config.controls)&&this.config.controls.includes("settings")&&!is.empty(this.config.settings)&&controls.toggleMenu.call(this,!1),Ue!==Ne){const je=Ue?"controlshidden":"controlsshown";triggerEvent.call(this,this.media,je)}return!Ue}return!1}),_defineProperty$1(this,"on",(Ie,Ne)=>{on.call(this,this.elements.container,Ie,Ne)}),_defineProperty$1(this,"once",(Ie,Ne)=>{once.call(this,this.elements.container,Ie,Ne)}),_defineProperty$1(this,"off",(Ie,Ne)=>{off(this.elements.container,Ie,Ne)}),_defineProperty$1(this,"destroy",(Ie,Ne=!1)=>{if(!this.ready)return;const ze=()=>{document.body.style.overflow="",this.embed=null,Ne?(Object.keys(this.elements).length&&(removeElement$1(this.elements.buttons.play),removeElement$1(this.elements.captions),removeElement$1(this.elements.controls),removeElement$1(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),is.function(Ie)&&Ie()):(unbindListeners.call(this),html5.cancelRequests.call(this),replaceElement(this.elements.original,this.elements.container),triggerEvent.call(this,this.elements.original,"destroyed",!0),is.function(Ie)&&Ie.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ui.toggleNativeControls.call(this,!0),ze()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&is.function(this.embed.destroy)&&this.embed.destroy(),ze()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(ze),setTimeout(ze,200))}),_defineProperty$1(this,"supports",Ie=>support.mime.call(this,Ie)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=support.touch,this.media=_e,is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||is.nodeList(this.media)||is.array(this.media))&&(this.media=this.media[0]),this.config=extend({},defaults,Plyr.defaults,Te||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Console(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",support),is.nullOrUndefined(this.media)||!is.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!support.check().api)return void this.debug.error("Setup failed: no support");const Le=this.media.cloneNode(!0);Le.autoplay=!1,this.elements.original=Le;const Fe=this.media.tagName.toLowerCase();let Ae=null,Be=null;switch(Fe){case"div":if(Ae=this.media.querySelector("iframe"),is.element(Ae)){if(Be=parseUrl(Ae.getAttribute("src")),this.provider=getProviderByUrl(Be.toString()),this.elements.container=this.media,this.media=Ae,this.elements.container.className="",Be.search.length){const Ie=["1","true"];Ie.includes(Be.searchParams.get("autoplay"))&&(this.config.autoplay=!0),Ie.includes(Be.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=Ie.includes(Be.searchParams.get("playsinline")),this.config.youtube.hl=Be.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(is.empty(this.provider)||!Object.values(providers).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=types.video;break;case"video":case"audio":this.type=Fe,this.provider=providers.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=support.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Listeners(this),this.storage=new Storage(this),this.media.plyr=this,is.element(this.elements.container)||(this.elements.container=createElement("div"),wrap(this.media,this.elements.container)),ui.migrateStyles.call(this),ui.addStyleHook.call(this),media.setup.call(this),this.config.debug&&on.call(this,this.elements.container,this.config.events.join(" "),Ie=>{this.debug.log(`event: ${Ie.type}`)}),this.fullscreen=new Fullscreen(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ads(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>silencePromise(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===providers.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===providers.youtube}get isVimeo(){return this.provider===providers.vimeo}get isVideo(){return this.type===types.video}get isAudio(){return this.type===types.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(_e){if(!this.duration)return;const Te=is.number(_e)&&_e>0;this.media.currentTime=Te?Math.min(_e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:_e}=this.media;return is.number(_e)?_e:_e&&_e.length&&this.duration>0?_e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const _e=parseFloat(this.config.duration),Te=(this.media||{}).duration,Le=is.number(Te)&&Te!==1/0?Te:0;return _e||Le}set volume(_e){let Te=_e;is.string(Te)&&(Te=Number(Te)),is.number(Te)||(Te=this.storage.get("volume")),is.number(Te)||({volume:Te}=this.config),Te>1&&(Te=1),Te<0&&(Te=0),this.config.volume=Te,this.media.volume=Te,!is.empty(_e)&&this.muted&&Te>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(_e){let Te=_e;is.boolean(Te)||(Te=this.storage.get("muted")),is.boolean(Te)||(Te=this.config.muted),this.config.muted=Te,this.media.muted=Te}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(_e){let Te=null;is.number(_e)&&(Te=_e),is.number(Te)||(Te=this.storage.get("speed")),is.number(Te)||(Te=this.config.speed.selected);const{minimumSpeed:Le,maximumSpeed:Fe}=this;Te=clamp$1(Te,Le,Fe),this.config.speed.selected=Te,setTimeout(()=>{this.media&&(this.media.playbackRate=Te)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(_e){const Te=this.config.quality,Le=this.options.quality;if(!Le.length)return;let Fe=[!is.empty(_e)&&Number(_e),this.storage.get("quality"),Te.selected,Te.default].find(is.number),Ae=!0;if(!Le.includes(Fe)){const Be=closest$2(Le,Fe);this.debug.warn(`Unsupported quality option: ${Fe}, using ${Be} instead`),Fe=Be,Ae=!1}Te.selected=Fe,this.media.quality=Fe,Ae&&this.storage.set({quality:Fe})}get quality(){return this.media.quality}set loop(_e){const Te=is.boolean(_e)?_e:this.config.loop.active;this.config.loop.active=Te,this.media.loop=Te}get loop(){return!!this.media.loop}set source(_e){source.change.call(this,_e)}get source(){return this.media.currentSrc}get download(){const{download:_e}=this.config.urls;return is.url(_e)?_e:this.source}set download(_e){is.url(_e)&&(this.config.urls.download=_e,controls.setDownloadUrl.call(this))}set poster(_e){this.isVideo?ui.setPoster.call(this,_e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const _e=reduceAspectRatio(getAspectRatio.call(this));return is.array(_e)?_e.join(":"):_e}set ratio(_e){this.isVideo?is.string(_e)&&validateAspectRatio(_e)?(this.config.ratio=reduceAspectRatio(_e),setAspectRatio.call(this)):this.debug.error(`Invalid aspect ratio specified (${_e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(_e){this.config.autoplay=is.boolean(_e)?_e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(_e){captions.toggle.call(this,_e,!1)}set currentTrack(_e){captions.set.call(this,_e,!1),captions.setup.call(this)}get currentTrack(){const{toggled:_e,currentTrack:Te}=this.captions;return _e?Te:-1}set language(_e){captions.setLanguage.call(this,_e,!1)}get language(){return(captions.getCurrentTrack.call(this)||{}).language}set pip(_e){if(!support.pip)return;const Te=is.boolean(_e)?_e:!this.pip;is.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(Te?pip.active:pip.inactive),is.function(this.media.requestPictureInPicture)&&(!this.pip&&Te?this.media.requestPictureInPicture():this.pip&&!Te&&document.exitPictureInPicture())}get pip(){return support.pip?is.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===pip.active:null}setPreviewThumbnails(_e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,_e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))}static supported(_e,Te){return support.check(_e,Te)}static loadSprite(_e,Te){return loadSprite(_e,Te)}static setup(_e,Te={}){let Le=null;return is.string(_e)?Le=Array.from(document.querySelectorAll(_e)):is.nodeList(_e)?Le=Array.from(_e):is.array(_e)&&(Le=_e.filter(is.element)),is.empty(Le)?null:Le.map(Fe=>new Plyr(Fe,Te))}}Plyr.defaults=cloneDeep(defaults);const t=($e,_e=1e4)=>($e=parseFloat($e+"")||0,Math.round(($e+Number.EPSILON)*_e)/_e),e=function($e){if(!($e&&$e instanceof Element&&$e.offsetParent))return!1;const _e=$e.scrollHeight>$e.clientHeight,Te=window.getComputedStyle($e).overflowY,Le=Te.indexOf("hidden")!==-1,Fe=Te.indexOf("visible")!==-1;return _e&&!Le&&!Fe},i=function($e,_e=void 0){return!(!$e||$e===document.body||_e&&$e===_e)&&(e($e)?$e:i($e.parentElement,_e))},n=function($e){var _e=new DOMParser().parseFromString($e,"text/html").body;if(_e.childElementCount>1){for(var Te=document.createElement("div");_e.firstChild;)Te.appendChild(_e.firstChild);return Te}return _e.firstChild},s=$e=>`${$e||""}`.split(" ").filter(_e=>!!_e),o=($e,_e,Te)=>{$e&&s(_e).forEach(Le=>{$e.classList.toggle(Le,Te||!1)})};class a{constructor(_e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=_e,this.pageX=_e.pageX,this.pageY=_e.pageY,this.clientX=_e.clientX,this.clientY=_e.clientY,this.id=self.Touch&&_e instanceof Touch?_e.identifier:-1,this.time=Date.now()}}const r={passive:!1};class l{constructor(_e,{start:Te=()=>!0,move:Le=()=>{},end:Fe=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=_e,this.startCallback=Te,this.moveCallback=Le,this.endCallback=Fe;for(const Ae of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[Ae]=this[Ae].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,r),this.element.addEventListener("touchstart",this.onTouchStart,r),this.element.addEventListener("touchmove",this.onMove,r),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(_e){if(!_e.buttons||_e.button!==0)return;const Te=new a(_e);this.currentPointers.some(Le=>Le.id===Te.id)||this.triggerPointerStart(Te,_e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(_e){for(const Te of Array.from(_e.changedTouches||[]))this.triggerPointerStart(new a(Te),_e);window.addEventListener("blur",this.onWindowBlur)}onMove(_e){const Te=this.currentPointers.slice(),Le="changedTouches"in _e?Array.from(_e.changedTouches||[]).map(Ae=>new a(Ae)):[new a(_e)],Fe=[];for(const Ae of Le){const Be=this.currentPointers.findIndex(Ie=>Ie.id===Ae.id);Be<0||(Fe.push(Ae),this.currentPointers[Be]=Ae)}Fe.length&&this.moveCallback(_e,this.currentPointers.slice(),Te)}onPointerEnd(_e){_e.buttons>0&&_e.button!==0||(this.triggerPointerEnd(_e,new a(_e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(_e){for(const Te of Array.from(_e.changedTouches||[]))this.triggerPointerEnd(_e,new a(Te))}triggerPointerStart(_e,Te){return!!this.startCallback(Te,_e,this.currentPointers.slice())&&(this.currentPointers.push(_e),this.startPointers.push(_e),!0)}triggerPointerEnd(_e,Te){const Le=this.currentPointers.findIndex(Fe=>Fe.id===Te.id);Le<0||(this.currentPointers.splice(Le,1),this.startPointers.splice(Le,1),this.endCallback(_e,Te,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const _e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:_e.clientX,clientY:_e.clientY}),_e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,r),this.element.removeEventListener("touchstart",this.onTouchStart,r),this.element.removeEventListener("touchmove",this.onMove,r),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function c($e,_e){return _e?Math.sqrt(Math.pow(_e.clientX-$e.clientX,2)+Math.pow(_e.clientY-$e.clientY,2)):0}function h($e,_e){return _e?{clientX:($e.clientX+_e.clientX)/2,clientY:($e.clientY+_e.clientY)/2}:$e}const d=$e=>typeof $e=="object"&&$e!==null&&$e.constructor===Object&&Object.prototype.toString.call($e)==="[object Object]",u=($e,..._e)=>{const Te=_e.length;for(let Le=0;Le<Te;Le++){const Fe=_e[Le]||{};Object.entries(Fe).forEach(([Ae,Be])=>{const Ie=Array.isArray(Be)?[]:{};$e[Ae]||Object.assign($e,{[Ae]:Ie}),d(Be)?Object.assign($e[Ae],u(Ie,Be)):Array.isArray(Be)?Object.assign($e,{[Ae]:[...Be]}):Object.assign($e,{[Ae]:Be})})}return $e},p=function($e,_e){return $e.split(".").reduce((Te,Le)=>typeof Te=="object"?Te[Le]:void 0,_e)};class f{constructor(_e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:_e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(_e);for(const Te of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))Te.startsWith("on")&&typeof this[Te]=="function"&&(this[Te]=this[Te].bind(this))}setOptions(_e){this.options=_e?u({},this.constructor.defaults,_e):{};for(const[Te,Le]of Object.entries(this.option("on")||{}))this.on(Te,Le)}option(_e,...Te){let Le=p(_e,this.options);return Le&&typeof Le=="function"&&(Le=Le.call(this,this,...Te)),Le}optionFor(_e,Te,Le,...Fe){let Ae=p(Te,_e);var Be;typeof(Be=Ae)!="string"||isNaN(Be)||isNaN(parseFloat(Be))||(Ae=parseFloat(Ae)),Ae==="true"&&(Ae=!0),Ae==="false"&&(Ae=!1),Ae&&typeof Ae=="function"&&(Ae=Ae.call(this,this,_e,...Fe));let Ie=p(Te,this.options);return Ie&&typeof Ie=="function"?Ae=Ie.call(this,this,_e,...Fe,Ae):Ae===void 0&&(Ae=Ie),Ae===void 0?Le:Ae}cn(_e){const Te=this.options.classes;return Te&&Te[_e]||""}localize(_e,Te=[]){_e=String(_e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(Le,Fe,Ae)=>{let Be="";return Ae?Be=this.option(`${Fe[0]+Fe.toLowerCase().substring(1)}.l10n.${Ae}`):Fe&&(Be=this.option(`l10n.${Fe}`)),Be||(Be=Le),Be});for(let Le=0;Le<Te.length;Le++)_e=_e.split(Te[Le][0]).join(Te[Le][1]);return _e=_e.replace(/\{\{(.*?)\}\}/g,(Le,Fe)=>Fe)}on(_e,Te){let Le=[];typeof _e=="string"?Le=_e.split(" "):Array.isArray(_e)&&(Le=_e),this.events||(this.events=new Map),Le.forEach(Fe=>{let Ae=this.events.get(Fe);Ae||(this.events.set(Fe,[]),Ae=[]),Ae.includes(Te)||Ae.push(Te),this.events.set(Fe,Ae)})}off(_e,Te){let Le=[];typeof _e=="string"?Le=_e.split(" "):Array.isArray(_e)&&(Le=_e),Le.forEach(Fe=>{const Ae=this.events.get(Fe);if(Array.isArray(Ae)){const Be=Ae.indexOf(Te);Be>-1&&Ae.splice(Be,1)}})}emit(_e,...Te){[...this.events.get(_e)||[]].forEach(Le=>Le(this,...Te)),_e!=="*"&&this.emit("*",_e,...Te)}}Object.defineProperty(f,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.33"}),Object.defineProperty(f,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class g extends f{constructor(_e={}){super(_e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(_e={}){const Te=new Map;for(const[Le,Fe]of Object.entries(_e)){const Ae=this.option(Le),Be=this.plugins[Le];Be||Ae===!1?Be&&Ae===!1&&(Be.detach(),delete this.plugins[Le]):Te.set(Le,new Fe(this,Ae||{}))}for(const[Le,Fe]of Te)this.plugins[Le]=Fe,Fe.attach()}detachPlugins(_e){_e=_e||Object.keys(this.plugins);for(const Te of _e){const Le=this.plugins[Te];Le&&Le.detach(),delete this.plugins[Te]}return this.emit("detachPlugins"),this}}var m;(function($e){$e[$e.Init=0]="Init",$e[$e.Error=1]="Error",$e[$e.Ready=2]="Ready",$e[$e.Panning=3]="Panning",$e[$e.Mousemove=4]="Mousemove",$e[$e.Destroy=5]="Destroy"})(m||(m={}));const v=["a","b","c","d","e","f"],b={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},y={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:b},w='<circle cx="25" cy="25" r="20"></circle>',x='<div class="f-spinner"><svg viewBox="0 0 50 50">'+w+w+"</svg></div>",E=$e=>$e&&$e!==null&&$e instanceof Element&&"nodeType"in $e,S=($e,_e)=>{$e&&s(_e).forEach(Te=>{$e.classList.remove(Te)})},P=($e,_e)=>{$e&&s(_e).forEach(Te=>{$e.classList.add(Te)})},C={a:1,b:0,c:0,d:1,e:0,f:0},T=1e5,M=1e4,O="mousemove",A="drag",L$1="content";let z=null,R=null;class k extends g{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return R===null&&(R=window.matchMedia("(hover: none)").matches),R}get isMobile(){return z===null&&(z=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),z}get panMode(){return this.options.panMode!==O||this.isTouchDevice?A:O}get panOnlyZoomed(){const _e=this.options.panOnlyZoomed;return _e==="auto"?this.isTouchDevice:_e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:_e,b:Te}=this.current;return Math.sqrt(_e*_e+Te*Te)||1}get targetScale(){const{a:_e,b:Te}=this.target;return Math.sqrt(_e*_e+Te*Te)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:_e}=this;return _e.fullWidth/_e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:_e,contentRect:Te}=this,Le=Math.max(_e.height/Te.fitHeight,_e.width/Te.fitWidth)||1;return Math.min(this.fullScale,Le)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const _e=this.content;return!!(_e&&_e instanceof HTMLImageElement)&&!_e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const _e of v){const Te=_e=="e"||_e==="f"?1e-4:1e-5;if(Math.abs(this.target[_e]-this.current[_e])>Te)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(_e,Te={},Le={}){var Fe;if(super(Te),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:m.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},C)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!_e)throw new Error("Container Element Not Found");this.container=_e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},k.Plugins),Le)),this.emit("attachPlugins"),this.emit("init");const Ae=this.content;if(Ae.addEventListener("load",this.onLoad),Ae.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){_e.classList.add(this.cn("isLoading"));const Be=n(x);!_e.contains(Ae)||Ae.parentElement instanceof HTMLPictureElement?this.spinner=_e.appendChild(Be):this.spinner=((Fe=Ae.parentElement)===null||Fe===void 0?void 0:Fe.insertBefore(Be,Ae))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:_e}=this,Te=this.cn(L$1);let Le=this.option(L$1)||_e.querySelector(`.${Te}`);if(Le||(Le=_e.querySelector("img,picture")||_e.firstElementChild,Le&&P(Le,Te)),Le instanceof HTMLPictureElement&&(Le=Le.querySelector("img")),!Le)throw new Error("No content found");this.content=Le}onLoad(){const{spinner:_e,container:Te,state:Le}=this;_e&&(_e.remove(),this.spinner=null),this.option("spinner")&&Te.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),Le===m.Init?this.enable():this.updateMetrics()}onError(){this.state!==m.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=m.Error,this.emit("error"))}getNextScale(_e){const{fullScale:Te,targetScale:Le,coverScale:Fe,maxScale:Ae,minScale:Be}=this;let Ie=Be;switch(_e){case"toggleMax":Ie=Le-Be<.5*(Ae-Be)?Ae:Be;break;case"toggleCover":Ie=Le-Be<.5*(Fe-Be)?Fe:Be;break;case"toggleZoom":Ie=Le-Be<.5*(Te-Be)?Te:Be;break;case"iterateZoom":let Ne=[1,Te,Ae].sort((Ue,je)=>Ue-je),ze=Ne.findIndex(Ue=>Ue>Le+1e-5);Ie=Ne[ze]||1}return Ie}attachObserver(){var _e;const Te=()=>{const{container:Le,containerRect:Fe}=this;return Math.abs(Fe.width-Le.getBoundingClientRect().width)>.1||Math.abs(Fe.height-Le.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(Te()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{Te()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(_e=this.resizeObserver)===null||_e===void 0||_e.observe(this.container)}detachObserver(){var _e;(_e=this.resizeObserver)===null||_e===void 0||_e.disconnect()}attachEvents(){const{container:_e}=this;_e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new l(_e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(O,this.onMouseMove)}detachEvents(){var _e;const{container:Te}=this;Te.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),Te.removeEventListener("wheel",this.onWheel,{passive:!1}),(_e=this.pointerTracker)===null||_e===void 0||_e.stop(),this.pointerTracker=null,document.removeEventListener(O,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const _e=this.friction,Te=this.option("maxVelocity");for(const Le of v)_e?(this.velocity[Le]*=1-_e,Te&&!this.isScaling&&(this.velocity[Le]=Math.max(Math.min(this.velocity[Le],Te),-1*Te)),this.current[Le]+=this.velocity[Le]):this.current[Le]=this.target[Le];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const _e of v)_e==="e"&&this.isBouncingX||_e==="f"&&this.isBouncingY||(this.velocity[_e]=(1/(1-this.friction)-1)*(this.target[_e]-this.current[_e]))}checkBounds(_e=0,Te=0){const{current:Le}=this,Fe=Le.e+_e,Ae=Le.f+Te,Be=this.getBounds(),{x:Ie,y:Ne}=Be,ze=Ie.min,Ue=Ie.max,je=Ne.min,Ve=Ne.max;let Ze=0,Ke=0;return ze!==1/0&&Fe<ze?Ze=ze-Fe:Ue!==1/0&&Fe>Ue&&(Ze=Ue-Fe),je!==1/0&&Ae<je?Ke=je-Ae:Ve!==1/0&&Ae>Ve&&(Ke=Ve-Ae),Math.abs(Ze)<1e-4&&(Ze=0),Math.abs(Ke)<1e-4&&(Ke=0),Object.assign(Object.assign({},Be),{xDiff:Ze,yDiff:Ke,inBounds:!Ze&&!Ke})}clampTargetBounds(){const{target:_e}=this,{x:Te,y:Le}=this.getBounds();Te.min!==1/0&&(_e.e=Math.max(_e.e,Te.min)),Te.max!==1/0&&(_e.e=Math.min(_e.e,Te.max)),Le.min!==1/0&&(_e.f=Math.max(_e.f,Le.min)),Le.max!==1/0&&(_e.f=Math.min(_e.f,Le.max))}calculateContentDim(_e=this.current){const{content:Te,contentRect:Le}=this,{fitWidth:Fe,fitHeight:Ae,fullWidth:Be,fullHeight:Ie}=Le;let Ne=Be,ze=Ie;if(this.option("zoom")||this.angle!==0){const Ue=!(Te instanceof HTMLImageElement)&&(window.getComputedStyle(Te).maxWidth==="none"||window.getComputedStyle(Te).maxHeight==="none"),je=Ue?Be:Fe,Ve=Ue?Ie:Ae,Ze=this.getMatrix(_e),Ke=new DOMPoint(0,0).matrixTransform(Ze),Je=new DOMPoint(0+je,0).matrixTransform(Ze),ei=new DOMPoint(0+je,0+Ve).matrixTransform(Ze),ni=new DOMPoint(0,0+Ve).matrixTransform(Ze),Qe=Math.abs(ei.x-Ke.x),ii=Math.abs(ei.y-Ke.y),ai=Math.abs(ni.x-Je.x),di=Math.abs(ni.y-Je.y);Ne=Math.max(Qe,ai),ze=Math.max(ii,di)}return{contentWidth:Ne,contentHeight:ze}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===O||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:_e}=this,{x:Te,y:Le,xDiff:Fe,yDiff:Ae}=this.checkBounds(),Be=this.option("maxVelocity");let Ie=this.velocity.e,Ne=this.velocity.f;Fe!==0?(this.isBouncingX=!0,Fe*Ie<=0?Ie+=.14*Fe:(Ie=.14*Fe,Te.min!==1/0&&(this.target.e=Math.max(_e.e,Te.min)),Te.max!==1/0&&(this.target.e=Math.min(_e.e,Te.max))),Be&&(Ie=Math.max(Math.min(Ie,Be),-1*Be))):this.isBouncingX=!1,Ae!==0?(this.isBouncingY=!0,Ae*Ne<=0?Ne+=.14*Ae:(Ne=.14*Ae,Le.min!==1/0&&(this.target.f=Math.max(_e.f,Le.min)),Le.max!==1/0&&(this.target.f=Math.min(_e.f,Le.max))),Be&&(Ne=Math.max(Math.min(Ne,Be),-1*Be))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=Ie),this.isBouncingY&&(this.velocity.f=Ne)}enable(){const{content:_e}=this,Te=new DOMMatrixReadOnly(window.getComputedStyle(_e).transform);for(const Le of v)this.current[Le]=this.target[Le]=Te[Le];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=m.Ready,this.emit("ready")}onClick(_e){var Te;_e.type==="click"&&_e.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((Te=this.pointerTracker)===null||Te===void 0||Te.clear(),this.trackingPoints=[],this.startDecelAnim());const Le=_e.target;if(!Le||_e.defaultPrevented)return;if(Le.hasAttribute("disabled"))return _e.preventDefault(),void _e.stopPropagation();if((()=>{const Ze=window.getSelection();return Ze&&Ze.type==="Range"})()&&!Le.closest("button"))return;const Fe=Le.closest("[data-panzoom-action]"),Ae=Le.closest("[data-panzoom-change]"),Be=Fe||Ae,Ie=Be&&E(Be)?Be.dataset:null;if(Ie){const Ze=Ie.panzoomChange,Ke=Ie.panzoomAction;if((Ze||Ke)&&_e.preventDefault(),Ze){let Je={};try{Je=JSON.parse(Ze)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(Je)}if(Ke)return void(this[Ke]&&this[Ke]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return _e.preventDefault(),void _e.stopPropagation();if(Le.closest("[data-fancybox]"))return;const Ne=this.content.getBoundingClientRect(),ze=this.dragStart;if(ze.time&&!this.canZoomOut()&&(Math.abs(Ne.x-ze.x)>2||Math.abs(Ne.y-ze.y)>2))return;this.dragStart.time=0;const Ue=Ze=>{this.option("zoom",_e)&&Ze&&typeof Ze=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(Ze)&&typeof this[Ze]=="function"&&(_e.preventDefault(),this[Ze]({event:_e}))},je=this.option("click",_e),Ve=this.option("dblClick",_e);Ve?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",_e),!_e.defaultPrevented&&je&&Ue(je)):(this.emit("dblClick",_e),_e.defaultPrevented||Ue(Ve)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",_e),!_e.defaultPrevented&&je&&Ue(je))}addTrackingPoint(_e){const Te=this.trackingPoints.filter(Le=>Le.time>Date.now()-100);Te.push(_e),this.trackingPoints=Te}onPointerDown(_e,Te,Le){var Fe;if(this.option("touch",_e)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const Ae=this.content.getBoundingClientRect();if(this.dragStart={x:Ae.x,y:Ae.y,top:Ae.top,left:Ae.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===O&&this.targetScale>1)return _e.preventDefault(),_e.stopPropagation(),!1;const Be=_e.composedPath()[0];if(!Le.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(Be.nodeName)||Be.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(Fe=window.getSelection())===null||Fe===void 0||Fe.removeAllRanges()}if(_e.type==="mousedown")["A","BUTTON"].includes(Be.nodeName)||_e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(Te),this.emit("touchStart",_e)),!0}onPointerMove(_e,Te,Le){if(this.option("touch",_e)===!1||!this.isDragging||Te.length<2&&this.panOnlyZoomed&&t(this.targetScale)<=t(this.minScale)||(this.emit("touchMove",_e),_e.defaultPrevented))return;this.addTrackingPoint(Te[0]);const{content:Fe}=this,Ae=h(Le[0],Le[1]),Be=h(Te[0],Te[1]);let Ie=0,Ne=0;if(Te.length>1){const ii=Fe.getBoundingClientRect();Ie=Ae.clientX-ii.left-.5*ii.width,Ne=Ae.clientY-ii.top-.5*ii.height}const ze=c(Le[0],Le[1]),Ue=c(Te[0],Te[1]);let je=ze?Ue/ze:1,Ve=Be.clientX-Ae.clientX,Ze=Be.clientY-Ae.clientY;this.dragOffset.x+=Ve,this.dragOffset.y+=Ze,this.dragOffset.time=Date.now()-this.dragStart.time;let Ke=t(this.targetScale)===t(this.minScale)&&this.option("lockAxis");if(Ke&&!this.lockedAxis)if(Ke==="xy"||Ke==="y"||_e.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void _e.preventDefault();const ii=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=ii>45&&ii<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,Ve=0,Ze=0}else this.lockedAxis=Ke;if(i(_e.target,this.content)&&(Ke="x",this.dragOffset.y=0),Ke&&Ke!=="xy"&&this.lockedAxis!==Ke&&t(this.targetScale)===t(this.minScale))return;_e.cancelable&&_e.preventDefault(),this.container.classList.add(this.cn("isDragging"));const Je=this.checkBounds(Ve,Ze);this.option("rubberband")?(this.isInfinite!=="x"&&(Je.xDiff>0&&Ve<0||Je.xDiff<0&&Ve>0)&&(Ve*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*Je.xDiff))),this.isInfinite!=="y"&&(Je.yDiff>0&&Ze<0||Je.yDiff<0&&Ze>0)&&(Ze*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*Je.yDiff)))):(Je.xDiff&&(Ve=0),Je.yDiff&&(Ze=0));const ei=this.targetScale,ni=this.minScale,Qe=this.maxScale;ei<.5*ni&&(je=Math.max(je,ni)),ei>1.5*Qe&&(je=Math.min(je,Qe)),this.lockedAxis==="y"&&t(ei)===t(ni)&&(Ve=0),this.lockedAxis==="x"&&t(ei)===t(ni)&&(Ze=0),this.applyChange({originX:Ie,originY:Ne,panX:Ve,panY:Ze,scale:je,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(_e,Te,Le){if(Le.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(Te),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),i(_e.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",_e),this.isDragging=!1,this.lockedAxis=!1,this.state!==m.Destroy&&(_e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var _e;const Te=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const ii of v)this.velocity[ii]=0;this.target.e=this.current.e,this.target.f=this.current.f,S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:Le}=this,Fe=Le[0],Ae=Le[Le.length-1];let Be=0,Ie=0,Ne=0;Ae&&Fe&&(Be=Ae.clientX-Fe.clientX,Ie=Ae.clientY-Fe.clientY,Ne=Ae.time-Fe.time);const ze=((_e=window.visualViewport)===null||_e===void 0?void 0:_e.scale)||1;ze!==1&&(Be*=ze,Ie*=ze);let Ue=0,je=0,Ve=0,Ze=0,Ke=this.option("decelFriction");const Je=this.targetScale;if(Ne>0){Ve=Math.abs(Be)>3?Be/(Ne/30):0,Ze=Math.abs(Ie)>3?Ie/(Ne/30):0;const ii=this.option("maxVelocity");ii&&(Ve=Math.max(Math.min(Ve,ii),-1*ii),Ze=Math.max(Math.min(Ze,ii),-1*ii))}Ve&&(Ue=Ve/(1/(1-Ke)-1)),Ze&&(je=Ze/(1/(1-Ke)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&t(Je)===this.minScale)&&(Ue=Ve=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&t(Je)===this.minScale)&&(je=Ze=0);const ei=this.dragOffset.x,ni=this.dragOffset.y,Qe=this.option("dragMinThreshold")||0;Math.abs(ei)<Qe&&Math.abs(ni)<Qe&&(Ue=je=0,Ve=Ze=0),(this.option("zoom")&&(Je<this.minScale-1e-5||Je>this.maxScale+1e-5)||Te&&!Ue&&!je)&&(Ke=.35),this.applyChange({panX:Ue,panY:je,friction:Ke}),this.emit("decel",Ve,Ze,ei,ni)}onWheel(_e){var Te=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(Ae,Be){return Math.abs(Be)>Math.abs(Ae)?Be:Ae});const Le=Math.max(-1,Math.min(1,Te));if(this.emit("wheel",_e,Le),this.panMode===O||_e.defaultPrevented)return;const Fe=this.option("wheel");Fe==="pan"?(_e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-_e.deltaX,panY:2*-_e.deltaY,bounce:!1})):Fe==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(_e)}onMouseMove(_e){this.panWithMouse(_e)}onKeydown(_e){_e.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:_e,target:Te,content:Le,contentRect:Fe}=this,Ae=Object.assign({},C);for(const ei of v){const ni=ei=="e"||ei==="f"?M:T;Ae[ei]=t(_e[ei],ni),Math.abs(Te[ei]-_e[ei])<(ei=="e"||ei==="f"?.51:.001)&&(_e[ei]=Te[ei])}let{a:Be,b:Ie,c:Ne,d:ze,e:Ue,f:je}=Ae,Ve=`matrix(${Be}, ${Ie}, ${Ne}, ${ze}, ${Ue}, ${je})`,Ze=Le.parentElement instanceof HTMLPictureElement?Le.parentElement:Le;if(this.option("transformParent")&&(Ze=Ze.parentElement||Ze),Ze.style.transform===Ve)return;Ze.style.transform=Ve;const{contentWidth:Ke,contentHeight:Je}=this.calculateContentDim();Fe.width=Ke,Fe.height=Je,this.emit("afterTransform")}updateMetrics(_e=!1){var Te;if(!this||this.state===m.Destroy||this.isContentLoading)return;const Le=Math.max(1,((Te=window.visualViewport)===null||Te===void 0?void 0:Te.scale)||1),{container:Fe,content:Ae}=this,Be=Ae instanceof HTMLImageElement,Ie=Fe.getBoundingClientRect(),Ne=getComputedStyle(this.container);let ze=Ie.width*Le,Ue=Ie.height*Le;const je=parseFloat(Ne.paddingTop)+parseFloat(Ne.paddingBottom),Ve=ze-(parseFloat(Ne.paddingLeft)+parseFloat(Ne.paddingRight)),Ze=Ue-je;this.containerRect={width:ze,height:Ue,innerWidth:Ve,innerHeight:Ze};let Ke=this.option("width")||"auto",Je=this.option("height")||"auto";Ke==="auto"&&(Ke=parseFloat(Ae.dataset.width||"")||(bi=>{let xi=0;return xi=bi instanceof HTMLImageElement?bi.naturalWidth:bi instanceof SVGElement?bi.width.baseVal.value:Math.max(bi.offsetWidth,bi.scrollWidth),xi||0})(Ae)),Je==="auto"&&(Je=parseFloat(Ae.dataset.height||"")||(bi=>{let xi=0;return xi=bi instanceof HTMLImageElement?bi.naturalHeight:bi instanceof SVGElement?bi.height.baseVal.value:Math.max(bi.offsetHeight,bi.scrollHeight),xi||0})(Ae));let ei=Ae.parentElement instanceof HTMLPictureElement?Ae.parentElement:Ae;this.option("transformParent")&&(ei=ei.parentElement||ei);const ni=ei.getAttribute("style")||"";ei.style.setProperty("transform","none","important"),Be&&(ei.style.width="",ei.style.height=""),ei.offsetHeight;const Qe=Ae.getBoundingClientRect();let ii=Qe.width*Le,ai=Qe.height*Le,di=0,vi=0;Be&&(Math.abs(Ke-ii)>1||Math.abs(Je-ai)>1)&&({width:ii,height:ai,top:di,left:vi}=((bi,xi,mi,li)=>{const wi=mi/li;return wi>bi/xi?(mi=bi,li=bi/wi):(mi=xi*wi,li=xi),{width:mi,height:li,top:.5*(xi-li),left:.5*(bi-mi)}})(ii,ai,Ke,Je)),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:Qe.top-Ie.top+di,bottom:Ie.bottom-Qe.bottom+di,left:Qe.left-Ie.left+vi,right:Ie.right-Qe.right+vi,fitWidth:ii,fitHeight:ai,width:ii,height:ai,fullWidth:Ke,fullHeight:Je}),ei.style.cssText=ni,Be&&(ei.style.width=`${ii}px`,ei.style.height=`${ai}px`),this.setTransform(),_e!==!0&&this.emit("refresh"),this.ignoreBounds||(t(this.targetScale)<t(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===m.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:_e,contentHeight:Te}=this.calculateContentDim(this.target),{targetScale:Le,lockedAxis:Fe}=this,{fitWidth:Ae,fitHeight:Be}=this.contentRect;let Ie=0,Ne=0,ze=0,Ue=0;const je=this.option("infinite");if(je===!0||Fe&&je===Fe)Ie=-1/0,ze=1/0,Ne=-1/0,Ue=1/0;else{let{containerRect:Ve,contentRect:Ze}=this,Ke=t(Ae*Le,M),Je=t(Be*Le,M),{innerWidth:ei,innerHeight:ni}=Ve;if(Ve.width===Ke&&(ei=Ve.width),Ve.width===Je&&(ni=Ve.height),_e>ei){ze=.5*(_e-ei),Ie=-1*ze;let Qe=.5*(Ze.right-Ze.left);Ie+=Qe,ze+=Qe}if(Ae>ei&&_e<ei&&(Ie-=.5*(Ae-ei),ze-=.5*(Ae-ei)),Te>ni){Ue=.5*(Te-ni),Ne=-1*Ue;let Qe=.5*(Ze.bottom-Ze.top);Ne+=Qe,Ue+=Qe}Be>ni&&Te<ni&&(Ie-=.5*(Be-ni),ze-=.5*(Be-ni))}return{x:{min:Ie,max:ze},y:{min:Ne,max:Ue}}}getBounds(){const _e=this.option("bounds");return _e!=="auto"?_e:this.calculateBounds()}updateControls(){const _e=this,Te=_e.container,{panMode:Le,contentRect:Fe,targetScale:Ae,minScale:Be}=_e;let Ie=Be,Ne=_e.option("click")||!1;Ne&&(Ie=_e.getNextScale(Ne));let ze=_e.canZoomIn(),Ue=_e.canZoomOut(),je=Le===A&&!!this.option("touch"),Ve=Ue&&je;if(je&&(t(Ae)<t(Be)&&!this.panOnlyZoomed&&(Ve=!0),(t(Fe.width,1)>t(Fe.fitWidth,1)||t(Fe.height,1)>t(Fe.fitHeight,1))&&(Ve=!0)),t(Fe.width*Ae,1)<t(Fe.fitWidth,1)&&(Ve=!1),Le===O&&(Ve=!1),o(Te,this.cn("isDraggable"),Ve),!this.option("zoom"))return;let Ze=ze&&t(Ie)>t(Ae),Ke=!Ze&&!Ve&&Ue&&t(Ie)<t(Ae);o(Te,this.cn("canZoomIn"),Ze),o(Te,this.cn("canZoomOut"),Ke);for(const Je of Te.querySelectorAll("[data-panzoom-action]")){let ei=!1,ni=!1;switch(Je.dataset.panzoomAction){case"zoomIn":ze?ei=!0:ni=!0;break;case"zoomOut":Ue?ei=!0:ni=!0;break;case"toggleZoom":case"iterateZoom":ze||Ue?ei=!0:ni=!0;const Qe=Je.querySelector("g");Qe&&(Qe.style.display=ze?"":"none")}ei?(Je.removeAttribute("disabled"),Je.removeAttribute("tabindex")):ni&&(Je.setAttribute("disabled",""),Je.setAttribute("tabindex","-1"))}}panTo({x:_e=this.target.e,y:Te=this.target.f,scale:Le=this.targetScale,friction:Fe=this.option("friction"),angle:Ae=0,originX:Be=0,originY:Ie=0,flipX:Ne=!1,flipY:ze=!1,ignoreBounds:Ue=!1}){this.state!==m.Destroy&&this.applyChange({panX:_e-this.target.e,panY:Te-this.target.f,scale:Le/this.targetScale,angle:Ae,originX:Be,originY:Ie,friction:Fe,flipX:Ne,flipY:ze,ignoreBounds:Ue})}applyChange({panX:_e=0,panY:Te=0,scale:Le=1,angle:Fe=0,originX:Ae=-this.current.e,originY:Be=-this.current.f,friction:Ie=this.option("friction"),flipX:Ne=!1,flipY:ze=!1,ignoreBounds:Ue=!1,bounce:je=this.option("bounce")}){const Ve=this.state;if(Ve===m.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=Ie||0,this.ignoreBounds=Ue;const{current:Ze}=this,Ke=Ze.e,Je=Ze.f,ei=this.getMatrix(this.target);let ni=new DOMMatrix().translate(Ke,Je).translate(Ae,Be).translate(_e,Te);if(this.option("zoom")){if(!Ue){const Qe=this.targetScale,ii=this.minScale,ai=this.maxScale;Qe*Le<ii&&(Le=ii/Qe),Qe*Le>ai&&(Le=ai/Qe)}ni=ni.scale(Le)}ni=ni.translate(-Ae,-Be).translate(-Ke,-Je).multiply(ei),Fe&&(ni=ni.rotate(Fe)),Ne&&(ni=ni.scale(-1,1)),ze&&(ni=ni.scale(1,-1));for(const Qe of v)Qe!=="e"&&Qe!=="f"&&(ni[Qe]>this.minScale+1e-5||ni[Qe]<this.minScale-1e-5)?this.target[Qe]=ni[Qe]:this.target[Qe]=t(ni[Qe],M);(this.targetScale<this.scale||Math.abs(Le-1)>.1||this.panMode===O||je===!1)&&!Ue&&this.clampTargetBounds(),Ve===m.Init?this.animate():this.isResting||(this.state=m.Panning,this.requestTick())}stop(_e=!1){if(this.state===m.Init||this.state===m.Destroy)return;const Te=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const Le of v)this.velocity[Le]=0,_e==="current"?this.current[Le]=this.target[Le]:_e==="target"&&(this.target[Le]=this.current[Le]);this.setTransform(),S(this.container,"is-scaling"),S(this.container,"is-animating"),this.isTicking=!1,this.state=m.Ready,Te&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),P(this.container,"is-animating"),this.isScaling&&P(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(_e,Te=this.option("mouseMoveFriction")){if(this.pmme=_e,this.panMode!==O||!_e||t(this.targetScale)<=t(this.minScale))return;this.emit("mouseMove",_e);const{container:Le,containerRect:Fe,contentRect:Ae}=this,Be=Fe.width,Ie=Fe.height,Ne=Le.getBoundingClientRect(),ze=(_e.clientX||0)-Ne.left,Ue=(_e.clientY||0)-Ne.top;let{contentWidth:je,contentHeight:Ve}=this.calculateContentDim(this.target);const Ze=this.option("mouseMoveFactor");Ze>1&&(je!==Be&&(je*=Ze),Ve!==Ie&&(Ve*=Ze));let Ke=.5*(je-Be)-ze/Be*100/100*(je-Be);Ke+=.5*(Ae.right-Ae.left);let Je=.5*(Ve-Ie)-Ue/Ie*100/100*(Ve-Ie);Je+=.5*(Ae.bottom-Ae.top),this.applyChange({panX:Ke-this.target.e,panY:Je-this.target.f,friction:Te})}zoomWithWheel(_e){if(this.state===m.Destroy||this.state===m.Init)return;const Te=Date.now();if(Te-this.pwt<45)return void _e.preventDefault();this.pwt=Te;var Le=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(ze,Ue){return Math.abs(Ue)>Math.abs(ze)?Ue:ze});const Fe=Math.max(-1,Math.min(1,Le)),{targetScale:Ae,maxScale:Be,minScale:Ie}=this;let Ne=Ae*(100+45*Fe)/100;t(Ne)<t(Ie)&&t(Ae)<=t(Ie)?(this.cwd+=Math.abs(Fe),Ne=Ie):t(Ne)>t(Be)&&t(Ae)>=t(Be)?(this.cwd+=Math.abs(Fe),Ne=Be):(this.cwd=0,Ne=Math.max(Math.min(Ne,Be),Ie)),this.cwd>this.option("wheelLimit")||(_e.preventDefault(),t(Ne)!==t(Ae)&&this.zoomTo(Ne,{event:_e}))}canZoomIn(){return this.option("zoom")&&(t(this.contentRect.width,1)<t(this.contentRect.fitWidth,1)||t(this.targetScale)<t(this.maxScale))}canZoomOut(){return this.option("zoom")&&t(this.targetScale)>t(this.minScale)}zoomIn(_e=1.25,Te){this.zoomTo(this.targetScale*_e,Te)}zoomOut(_e=.8,Te){this.zoomTo(this.targetScale*_e,Te)}zoomToFit(_e){this.zoomTo("fit",_e)}zoomToCover(_e){this.zoomTo("cover",_e)}zoomToFull(_e){this.zoomTo("full",_e)}zoomToMax(_e){this.zoomTo("max",_e)}toggleZoom(_e){this.zoomTo(this.getNextScale("toggleZoom"),_e)}toggleMax(_e){this.zoomTo(this.getNextScale("toggleMax"),_e)}toggleCover(_e){this.zoomTo(this.getNextScale("toggleCover"),_e)}iterateZoom(_e){this.zoomTo("next",_e)}zoomTo(_e=1,{friction:Te="auto",originX:Le="auto",originY:Fe="auto",event:Ae}={}){if(this.isContentLoading||this.state===m.Destroy)return;const{targetScale:Be,fullScale:Ie,maxScale:Ne,coverScale:ze}=this;if(this.stop(),this.panMode===O&&(Ae=this.pmme||Ae),Ae||Le==="auto"||Fe==="auto"){const je=this.content.getBoundingClientRect(),Ve=this.container.getBoundingClientRect(),Ze=Ae?Ae.clientX:Ve.left+.5*Ve.width,Ke=Ae?Ae.clientY:Ve.top+.5*Ve.height;Le=Ze-je.left-.5*je.width,Fe=Ke-je.top-.5*je.height}let Ue=1;typeof _e=="number"?Ue=_e:_e==="full"?Ue=Ie:_e==="cover"?Ue=ze:_e==="max"?Ue=Ne:_e==="fit"?Ue=1:_e==="next"&&(Ue=this.getNextScale("iterateZoom")),Ue=Ue/Be||1,Te=Te==="auto"?Ue>1?.15:.25:Te,this.applyChange({scale:Ue,originX:Le,originY:Fe,friction:Te}),Ae&&this.panMode===O&&this.panWithMouse(Ae,Te)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:_e,contentRect:Te,target:Le}=this;this.applyChange({panX:.5*_e.width-(Te.left+.5*Te.fitWidth)-Le.e,panY:.5*_e.height-(Te.top+.5*Te.fitHeight)-Le.f,scale:_e.width/Te.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:_e,contentRect:Te,target:Le}=this;this.applyChange({panX:.5*_e.width-(Te.left+.5*Te.fitWidth)-Le.e,panY:.5*_e.innerHeight-(Te.top+.5*Te.fitHeight)-Le.f,scale:_e.height/Te.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:_e}=this,Te=this.cn("inFullscreen"),Le=this.cn("htmlHasFullscreen");_e.classList.toggle(Te);const Fe=_e.classList.contains(Te);Fe?(document.documentElement.classList.add(Le),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(Le),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(Fe?"enterFS":"exitFS")}getMatrix(_e=this.current){const{a:Te,b:Le,c:Fe,d:Ae,e:Be,f:Ie}=_e;return new DOMMatrix([Te,Le,Fe,Ae,Be,Ie])}reset(_e){if(this.state!==m.Init&&this.state!==m.Destroy){this.stop("current");for(const Te of v)this.target[Te]=C[Te];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=_e===void 0?this.option("friction"):_e,this.state=m.Panning,this.requestTick())}}destroy(){this.stop(),this.state=m.Destroy,this.detachEvents(),this.detachObserver();const{container:_e,content:Te}=this,Le=this.option("classes")||{};for(const Fe of Object.values(Le))_e.classList.remove(Fe+"");Te&&(Te.removeEventListener("load",this.onLoad),Te.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(k,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:y}),Object.defineProperty(k,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const I=function($e,_e){let Te=!0;return(...Le)=>{Te&&(Te=!1,$e(...Le),setTimeout(()=>{Te=!0},_e))}},D=($e,_e)=>{let Te=[];return $e.childNodes.forEach(Le=>{Le.nodeType!==Node.ELEMENT_NODE||_e&&!Le.matches(_e)||Te.push(Le)}),Te},F={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var j;(function($e){$e[$e.Init=0]="Init",$e[$e.Ready=1]="Ready",$e[$e.Destroy=2]="Destroy"})(j||(j={}));const B=$e=>{if(typeof $e=="string"||$e instanceof HTMLElement)$e={html:$e};else{const _e=$e.thumb;_e!==void 0&&(typeof _e=="string"&&($e.thumbSrc=_e),_e instanceof HTMLImageElement&&($e.thumbEl=_e,$e.thumbElSrc=_e.src,$e.thumbSrc=_e.src),delete $e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},$e)},H=($e={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},$e);class N extends f{constructor(_e,Te){super(Te),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:_e})}attach(){}detach(){}}const _={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class $ extends N{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let _e=this.list;if(!_e){_e=document.createElement("ul"),P(_e,this.cn("list")),_e.setAttribute("role","tablist");const Te=this.instance.container;Te.appendChild(_e),P(Te,this.cn("hasDots")),this.list=_e}return _e}refresh(){var _e;const Te=this.instance.pages.length,Le=Math.min(2,this.option("minCount")),Fe=Math.max(2e3,this.option("maxCount")),Ae=this.option("dynamicFrom");if(Te<Le||Te>Fe)return void this.cleanup();const Be=typeof Ae=="number"&&Te>5&&Te>=Ae,Ie=!this.list||this.isDynamic!==Be||this.list.children.length!==Te;Ie&&this.cleanup();const Ne=this.build();if(o(Ne,this.cn("isDynamic"),!!Be),Ie)for(let je=0;je<Te;je++)Ne.append(this.createItem(je));let ze,Ue=0;for(const je of[...Ne.children]){const Ve=Ue===this.instance.page;Ve&&(ze=je),o(je,this.cn("isCurrent"),Ve),(_e=je.children[0])===null||_e===void 0||_e.setAttribute("aria-selected",Ve?"true":"false");for(const Ze of["isBeforePrev","isPrev","isNext","isAfterNext"])S(je,this.cn(Ze));Ue++}if(ze=ze||Ne.firstChild,Be&&ze){const je=ze.previousElementSibling,Ve=je&&je.previousElementSibling;P(je,this.cn("isPrev")),P(Ve,this.cn("isBeforePrev"));const Ze=ze.nextElementSibling,Ke=Ze&&Ze.nextElementSibling;P(Ze,this.cn("isNext")),P(Ke,this.cn("isAfterNext"))}this.isDynamic=Be}createItem(_e=0){var Te;const Le=document.createElement("li");Le.setAttribute("role","presentation");const Fe=n(this.instance.localize(this.option("dotTpl"),[["%d",_e+1]]).replace(/\%i/g,_e+""));return Le.appendChild(Fe),(Te=Le.children[0])===null||Te===void 0||Te.setAttribute("role","tab"),Le}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,S(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty($,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:_});const W="disabled",X="next",q="prev";class Y extends N{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const _e=this.instance,Te=_e.pages.length,Le=_e.page;if(Te<2)return void this.cleanup();this.build();let Fe=this.prev,Ae=this.next;Fe&&Ae&&(Fe.removeAttribute(W),Ae.removeAttribute(W),_e.isInfinite||(Le<=0&&Fe.setAttribute(W,""),Le>=Te-1&&Ae.setAttribute(W,"")))}addBtn(_e){var Te;const Le=this.instance,Fe=document.createElement("button");Fe.setAttribute("tabindex","0"),Fe.setAttribute("title",Le.localize(`{{${_e.toUpperCase()}}}`)),P(Fe,this.cn("button")+" "+this.cn(_e===X?"isNext":"isPrev"));const Ae=Le.isRTL?_e===X?q:X:_e;var Be;return Fe.innerHTML=Le.localize(this.option(`${Ae}Tpl`)),Fe.dataset[`carousel${Be=_e,Be?Be.match("^[a-z]")?Be.charAt(0).toUpperCase()+Be.substring(1):Be:""}`]="true",(Te=this.container)===null||Te===void 0||Te.appendChild(Fe),Fe}build(){const _e=this.instance.container,Te=this.cn("container");let{container:Le,prev:Fe,next:Ae}=this;Le||(Le=_e.querySelector("."+Te),this.isDom=!!Le),Le||(Le=document.createElement("div"),P(Le,Te),_e.appendChild(Le)),this.container=Le,Ae||(Ae=Le.querySelector("[data-carousel-next]")),Ae||(Ae=this.addBtn(X)),this.next=Ae,Fe||(Fe=Le.querySelector("[data-carousel-prev]")),Fe||(Fe=this.addBtn(q)),this.prev=Fe}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(Y,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class V extends N{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(_e){this.target=this.instance,this.nav=_e,this.attachEvents()}addAsNavFor(_e){this.nav=this.instance,this.target=_e,this.attachEvents()}attachEvents(){const{nav:_e,target:Te}=this;_e&&Te&&(_e.options.initialSlide=Te.options.initialPage,_e.state===j.Ready?this.onNavReady(_e):_e.on("ready",this.onNavReady),Te.state===j.Ready?this.onTargetReady(Te):Te.on("ready",this.onTargetReady))}onNavReady(_e){_e.on("createSlide",this.onNavCreateSlide),_e.on("Panzoom.click",this.onNavClick),_e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(_e){_e.on("change",this.onTargetChange),_e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(_e,Te,Le){this.onNavTouch(_e,_e.panzoom,Le)}onNavTouch(_e,Te,Le){var Fe,Ae;if(Math.abs(Te.dragOffset.x)>3||Math.abs(Te.dragOffset.y)>3)return;const Be=Le.target,{nav:Ie,target:Ne}=this;if(!Ie||!Ne||!Be)return;const ze=Be.closest("[data-index]");if(Le.stopPropagation(),Le.preventDefault(),!ze)return;const Ue=parseInt(ze.dataset.index||"",10)||0,je=Ne.getPageForSlide(Ue),Ve=Ie.getPageForSlide(Ue);Ie.slideTo(Ve),Ne.slideTo(je,{friction:((Ae=(Fe=this.nav)===null||Fe===void 0?void 0:Fe.plugins)===null||Ae===void 0?void 0:Ae.Sync.option("friction"))||0}),this.markSelectedSlide(Ue)}onNavCreateSlide(_e,Te){Te.index===this.selectedIndex&&this.markSelectedSlide(Te.index)}onTargetChange(){var _e,Te;const{target:Le,nav:Fe}=this;if(!Le||!Fe||Fe.state!==j.Ready||Le.state!==j.Ready)return;const Ae=(Te=(_e=Le.pages[Le.page])===null||_e===void 0?void 0:_e.slides[0])===null||Te===void 0?void 0:Te.index,Be=Fe.getPageForSlide(Ae);this.markSelectedSlide(Ae),Fe.slideTo(Be,Fe.prevPage===null&&Le.prevPage===null?{friction:0}:void 0)}markSelectedSlide(_e){const Te=this.nav;Te&&Te.state===j.Ready&&(this.selectedIndex=_e,[...Te.slides].map(Le=>{Le.el&&Le.el.classList[Le.index===_e?"add":"remove"]("is-nav-selected")}))}attach(){const _e=this;let Te=_e.options.target,Le=_e.options.nav;Te?_e.addAsNavFor(Te):Le&&_e.addAsTargetFor(Le)}detach(){const _e=this,Te=_e.nav,Le=_e.target;Te&&(Te.off("ready",_e.onNavReady),Te.off("createSlide",_e.onNavCreateSlide),Te.off("Panzoom.click",_e.onNavClick),Te.off("Panzoom.touchEnd",_e.onNavTouch)),_e.nav=null,Le&&(Le.off("ready",_e.onTargetReady),Le.off("refresh",_e.onTargetChange),Le.off("change",_e.onTargetChange)),_e.target=null}}Object.defineProperty(V,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Z={Navigation:Y,Dots:$,Sync:V},U="animationend",G="isSelected",K="slide";class J extends g{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===j.Ready}get isInfinite(){let _e=!1;const{contentDim:Te,viewportDim:Le,pages:Fe,slides:Ae}=this,Be=Ae[0];return Fe.length>=2&&Be&&Te+Be.dim>=Le&&(_e=this.option("infinite")),_e}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(_e,Te={},Le={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:j.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof _e=="string"&&(_e=document.querySelector(_e)),!_e||!E(_e))throw new Error("No Element found");this.container=_e,this.slideNext=I(this.slideNext.bind(this),150),this.slidePrev=I(this.slidePrev.bind(this),150),this.userOptions=Te,this.userPlugins=Le,queueMicrotask(()=>{this.processOptions()})}processOptions(){var _e,Te;const Le=u({},J.defaults,this.userOptions);let Fe="";const Ae=Le.breakpoints;if(Ae&&d(Ae))for(const[Be,Ie]of Object.entries(Ae))window.matchMedia(Be).matches&&d(Ie)&&(Fe+=Be,u(Le,Ie));Fe===this.bp&&this.state!==j.Init||(this.bp=Fe,this.state===j.Ready&&(Le.initialSlide=((Te=(_e=this.pages[this.page])===null||_e===void 0?void 0:_e.slides[0])===null||Te===void 0?void 0:Te.index)||0),this.state!==j.Init&&this.destroy(),super.setOptions(Le),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=j.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},J.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=j.Ready,this.emit("ready")}initLayout(){const{container:_e}=this,Te=this.option("classes");P(_e,this.cn("container")),o(_e,Te.isLTR,!this.isRTL),o(_e,Te.isRTL,this.isRTL),o(_e,Te.isVertical,!this.isHorizontal),o(_e,Te.isHorizontal,this.isHorizontal);let Le=this.option("viewport")||_e.querySelector(`.${Te.viewport}`);Le||(Le=document.createElement("div"),P(Le,Te.viewport),Le.append(...D(_e,`.${Te.slide}`)),_e.prepend(Le)),Le.addEventListener("scroll",this.onScroll);let Fe=this.option("track")||_e.querySelector(`.${Te.track}`);Fe||(Fe=document.createElement("div"),P(Fe,Te.track),Fe.append(...Array.from(Le.childNodes))),Fe.setAttribute("aria-live","polite"),Le.contains(Fe)||Le.prepend(Fe),this.viewport=Le,this.track=Fe,this.emit("initLayout")}initSlides(){const{track:_e}=this;if(!_e)return;const Te=[...this.slides],Le=[];[...D(_e,`.${this.cn(K)}`)].forEach(Fe=>{if(E(Fe)){const Ae=B({el:Fe,isDom:!0,index:this.slides.length});Le.push(Ae)}});for(let Fe of[...this.option("slides",[])||[],...Te])Le.push(B(Fe));this.slides=Le;for(let Fe=0;Fe<this.slides.length;Fe++)this.slides[Fe].index=Fe;for(const Fe of Le)this.emit("beforeInitSlide",Fe,Fe.index),this.emit("initSlide",Fe,Fe.index);this.emit("initSlides")}setInitialPage(){const _e=this.option("initialSlide");this.page=typeof _e=="number"?this.getPageForSlide(_e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:_e,pages:Te,isHorizontal:Le}=this;if(!_e||!Te.length)return;let Fe=this.page;Te[Fe]||(this.page=Fe=0);const Ae=(Te[Fe].pos||0)*(this.isRTL&&Le?1:-1),Be=Le?`${Ae}px`:"0",Ie=Le?"0":`${Ae}px`;_e.style.transform=`translate3d(${Be}, ${Ie}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const _e=this.option("Panzoom")||{};this.panzoom=new k(this.viewport,u({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:Te=>!(this.pages.length<2&&!Te.options.infinite),bounds:()=>this.getBounds(),maxVelocity:Te=>Math.abs(Te.target[this.axis]-Te.current[this.axis])<2*this.viewportDim?100:0},_e)),this.panzoom.on("*",(Te,Le,...Fe)=>{this.emit(`Panzoom.${Le}`,Te,...Fe)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const _e=this.container;_e&&(_e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let _e=[];const{contentDim:Te,viewportDim:Le}=this;let Fe=this.option("slidesPerPage");Fe=(Fe==="auto"||Te<=Le)&&this.option("fill")!==!1?1/0:parseFloat(Fe+"");let Ae=0,Be=0,Ie=0;for(const Ne of this.slides)(!_e.length||Be+Ne.dim-Le>.05||Ie>=Fe)&&(_e.push(H()),Ae=_e.length-1,Be=0,Ie=0),_e[Ae].slides.push(Ne),Be+=Ne.dim+Ne.gap,Ie++;return _e}processPages(){const _e=this.pages,{contentDim:Te,viewportDim:Le,isInfinite:Fe}=this,Ae=this.option("center"),Be=this.option("fill"),Ie=Be&&Ae&&Te>Le&&!Fe;if(_e.forEach((Ue,je)=>{var Ve;Ue.index=je,Ue.pos=((Ve=Ue.slides[0])===null||Ve===void 0?void 0:Ve.pos)||0,Ue.dim=0;for(const[Ze,Ke]of Ue.slides.entries())Ue.dim+=Ke.dim,Ze<Ue.slides.length-1&&(Ue.dim+=Ke.gap);Ie&&Ue.pos+.5*Ue.dim<.5*Le?Ue.pos=0:Ie&&Ue.pos+.5*Ue.dim>=Te-.5*Le?Ue.pos=Te-Le:Ae&&(Ue.pos+=-.5*(Le-Ue.dim))}),_e.forEach(Ue=>{Be&&!Fe&&Te>Le&&(Ue.pos=Math.max(Ue.pos,0),Ue.pos=Math.min(Ue.pos,Te-Le)),Ue.pos=t(Ue.pos,1e3),Ue.dim=t(Ue.dim,1e3),Math.abs(Ue.pos)<=.1&&(Ue.pos=0)}),Fe)return _e;const Ne=[];let ze;return _e.forEach(Ue=>{const je=Object.assign({},Ue);ze&&je.pos===ze.pos?(ze.dim+=je.dim,ze.slides=[...ze.slides,...je.slides]):(je.index=Ne.length,ze=je,Ne.push(je))}),Ne}getPageFromIndex(_e=0){const Te=this.pages.length;let Le;return _e=parseInt((_e||0).toString())||0,Le=this.isInfinite?(_e%Te+Te)%Te:Math.max(Math.min(_e,Te-1),0),Le}getSlideMetrics(_e){var Te,Le;const Fe=this.isHorizontal?"width":"height";let Ae=0,Be=0,Ie=_e.el;const Ne=!(!Ie||Ie.parentNode);if(Ie?Ae=parseFloat(Ie.dataset[Fe]||"")||0:(Ie=document.createElement("div"),Ie.style.visibility="hidden",(this.track||document.body).prepend(Ie)),P(Ie,this.cn(K)+" "+_e.class+" "+_e.customClass),Ae)Ie.style[Fe]=`${Ae}px`,Ie.style[Fe==="width"?"height":"width"]="";else{Ne&&(this.track||document.body).prepend(Ie),Ae=Ie.getBoundingClientRect()[Fe]*Math.max(1,((Te=window.visualViewport)===null||Te===void 0?void 0:Te.scale)||1);let Ue=Ie[this.isHorizontal?"offsetWidth":"offsetHeight"];Ue-1>Ae&&(Ae=Ue)}const ze=getComputedStyle(Ie);return ze.boxSizing==="content-box"&&(this.isHorizontal?(Ae+=parseFloat(ze.paddingLeft)||0,Ae+=parseFloat(ze.paddingRight)||0):(Ae+=parseFloat(ze.paddingTop)||0,Ae+=parseFloat(ze.paddingBottom)||0)),Be=parseFloat(ze[this.isHorizontal?"marginRight":"marginBottom"])||0,Ne?(Le=Ie.parentElement)===null||Le===void 0||Le.removeChild(Ie):_e.el||Ie.remove(),{dim:t(Ae,1e3),gap:t(Be,1e3)}}getBounds(){const{isInfinite:_e,isRTL:Te,isHorizontal:Le,pages:Fe}=this;let Ae={min:0,max:0};if(_e)Ae={min:-1/0,max:1/0};else if(Fe.length){const Be=Fe[0].pos,Ie=Fe[Fe.length-1].pos;Ae=Te&&Le?{min:Be,max:Ie}:{min:-1*Ie,max:-1*Be}}return{x:Le?Ae:{min:0,max:0},y:Le?{min:0,max:0}:Ae}}repositionSlides(){let _e,{isHorizontal:Te,isRTL:Le,isInfinite:Fe,viewport:Ae,viewportDim:Be,contentDim:Ie,page:Ne,pages:ze,slides:Ue,panzoom:je}=this,Ve=0,Ze=0,Ke=0,Je=0;je?Je=-1*je.current[this.axis]:ze[Ne]&&(Je=ze[Ne].pos||0),_e=Te?Le?"right":"left":"top",Le&&Te&&(Je*=-1);for(const ii of Ue){const ai=ii.el;ai?(_e==="top"?(ai.style.right="",ai.style.left=""):ai.style.top="",ii.index!==Ve?ai.style[_e]=Ze===0?"":`${t(Ze,1e3)}px`:ai.style[_e]="",Ke+=ii.dim+ii.gap,Ve++):Ze+=ii.dim+ii.gap}if(Fe&&Ke&&Ae){let ii=getComputedStyle(Ae),ai="padding",di=Te?"Right":"Bottom",vi=parseFloat(ii[ai+(Te?"Left":"Top")]);Je-=vi,Be+=vi,Be+=parseFloat(ii[ai+di]);for(const bi of Ue)bi.el&&(t(bi.pos)<t(Be)&&t(bi.pos+bi.dim+bi.gap)<t(Je)&&t(Je)>t(Ie-Be)&&(bi.el.style[_e]=`${t(Ze+Ke,1e3)}px`),t(bi.pos+bi.gap)>=t(Ie-Be)&&t(bi.pos)>t(Je+Be)&&t(Je)<t(Be)&&(bi.el.style[_e]=`-${t(Ke,1e3)}px`))}let ei,ni,Qe=[...this.inTransition];if(Qe.length>1&&(ei=ze[Qe[0]],ni=ze[Qe[1]]),ei&&ni){let ii=0;for(const ai of Ue)ai.el?this.inTransition.has(ai.index)&&ei.slides.indexOf(ai)<0&&(ai.el.style[_e]=`${t(ii+(ei.pos-ni.pos),1e3)}px`):ii+=ai.dim+ai.gap}}createSlideEl(_e){const{track:Te,slides:Le}=this;if(!Te||!_e||_e.el&&_e.el.parentNode)return;const Fe=_e.el||document.createElement("div");P(Fe,this.cn(K)),P(Fe,_e.class),P(Fe,_e.customClass);const Ae=_e.html;Ae&&(Ae instanceof HTMLElement?Fe.appendChild(Ae):Fe.innerHTML=_e.html+"");const Be=[];Le.forEach((Ue,je)=>{Ue.el&&Be.push(je)});const Ie=_e.index;let Ne=null;Be.length&&(Ne=Le[Be.reduce((Ue,je)=>Math.abs(je-Ie)<Math.abs(Ue-Ie)?je:Ue)]);const ze=Ne&&Ne.el&&Ne.el.parentNode?Ne.index<_e.index?Ne.el.nextSibling:Ne.el:null;Te.insertBefore(Fe,Te.contains(ze)?ze:null),_e.el=Fe,this.emit("createSlide",_e)}removeSlideEl(_e,Te=!1){const Le=_e==null?void 0:_e.el;if(!Le||!Le.parentNode)return;const Fe=this.cn(G);if(Le.classList.contains(Fe)&&(S(Le,Fe),this.emit("unselectSlide",_e)),_e.isDom&&!Te)return Le.removeAttribute("aria-hidden"),Le.removeAttribute("data-index"),void(Le.style.left="");this.emit("removeSlide",_e);const Ae=new CustomEvent(U);Le.dispatchEvent(Ae),_e.el&&(_e.el.remove(),_e.el=null)}transitionTo(_e=0,Te=this.option("transition")){var Le,Fe,Ae,Be;if(!Te)return!1;const Ie=this.page,{pages:Ne,panzoom:ze}=this;_e=parseInt((_e||0).toString())||0;const Ue=this.getPageFromIndex(_e);if(!ze||!Ne[Ue]||Ne.length<2||Math.abs((((Fe=(Le=Ne[Ie])===null||Le===void 0?void 0:Le.slides[0])===null||Fe===void 0?void 0:Fe.dim)||0)-this.viewportDim)>1)return!1;const je=_e>Ie?1:-1,Ve=Ne[Ue].pos*(this.isRTL?1:-1);if(Ie===Ue&&Math.abs(Ve-ze.target[this.axis])<1)return!1;this.clearTransitions();const Ze=ze.isResting;P(this.container,this.cn("inTransition"));const Ke=((Ae=Ne[Ie])===null||Ae===void 0?void 0:Ae.slides[0])||null,Je=((Be=Ne[Ue])===null||Be===void 0?void 0:Be.slides[0])||null;this.inTransition.add(Je.index),this.createSlideEl(Je);let ei=Ke.el,ni=Je.el;Ze||Te===K||(Te="fadeFast",ei=null);const Qe=this.isRTL?"next":"prev",ii=this.isRTL?"prev":"next";return ei&&(this.inTransition.add(Ke.index),Ke.transition=Te,ei.addEventListener(U,this.onAnimationEnd),ei.classList.add(`f-${Te}Out`,`to-${je>0?ii:Qe}`)),ni&&(Je.transition=Te,ni.addEventListener(U,this.onAnimationEnd),ni.classList.add(`f-${Te}In`,`from-${je>0?Qe:ii}`)),ze.current[this.axis]=Ve,ze.target[this.axis]=Ve,ze.requestTick(),this.onChange(Ue),!0}manageSlideVisiblity(){const _e=new Set,Te=new Set,Le=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const Fe of this.slides)Le.has(Fe)?_e.add(Fe):Te.add(Fe);for(const Fe of this.inTransition)_e.add(this.slides[Fe]);for(const Fe of _e)this.createSlideEl(Fe),this.lazyLoadSlide(Fe);for(const Fe of Te)_e.has(Fe)||this.removeSlideEl(Fe);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const _e="aria-hidden";let Te=this.cn(G);if(Te)for(const Le of this.slides){const Fe=Le.el;Fe&&(Fe.dataset.index=`${Le.index}`,Fe.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(Le)?Fe.removeAttribute(_e):Fe.setAttribute(_e,"true"):this.pages[this.page].slides.includes(Le)?(Fe.classList.contains(Te)||(P(Fe,Te),this.emit("selectSlide",Le)),Fe.removeAttribute(_e)):(Fe.classList.contains(Te)&&(S(Fe,Te),this.emit("unselectSlide",Le)),Fe.setAttribute(_e,"true")))}}flipInfiniteTrack(){const{axis:_e,isHorizontal:Te,isInfinite:Le,isRTL:Fe,viewportDim:Ae,contentDim:Be}=this,Ie=this.panzoom;if(!Ie||!Le)return;let Ne=Ie.current[_e],ze=Ie.target[_e]-Ne,Ue=0,je=.5*Ae;Fe&&Te?(Ne<-je&&(Ue=-1,Ne+=Be),Ne>Be-je&&(Ue=1,Ne-=Be)):(Ne>je&&(Ue=1,Ne-=Be),Ne<-Be+je&&(Ue=-1,Ne+=Be)),Ue&&(Ie.current[_e]=Ne,Ie.target[_e]=Ne+ze)}lazyLoadImg(_e,Te){const Le=this,Fe="f-fadeIn",Ae="is-preloading";let Be=!1,Ie=null;const Ne=()=>{Be||(Be=!0,Ie&&(Ie.remove(),Ie=null),S(Te,Ae),Te.complete&&(P(Te,Fe),setTimeout(()=>{S(Te,Fe)},350)),this.option("adaptiveHeight")&&_e.el&&this.pages[this.page].slides.indexOf(_e)>-1&&(Le.updateMetrics(),Le.setViewportHeight()),this.emit("load",_e))};P(Te,Ae),Te.src=Te.dataset.lazySrcset||Te.dataset.lazySrc||"",delete Te.dataset.lazySrc,delete Te.dataset.lazySrcset,Te.addEventListener("error",()=>{Ne()}),Te.addEventListener("load",()=>{Ne()}),setTimeout(()=>{const ze=Te.parentNode;ze&&_e.el&&(Te.complete?Ne():Be||(Ie=n(x),ze.insertBefore(Ie,Te)))},300)}lazyLoadSlide(_e){const Te=_e&&_e.el;if(!Te)return;const Le=new Set;let Fe=Array.from(Te.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));Te.dataset.lazySrc&&Fe.push(Te),Fe.map(Ae=>{Ae instanceof HTMLImageElement?Le.add(Ae):Ae instanceof HTMLElement&&Ae.dataset.lazySrc&&(Ae.style.backgroundImage=`url('${Ae.dataset.lazySrc}')`,delete Ae.dataset.lazySrc)});for(const Ae of Le)this.lazyLoadImg(_e,Ae)}onAnimationEnd(_e){var Te;const Le=_e.target,Fe=Le?parseInt(Le.dataset.index||"",10)||0:-1,Ae=this.slides[Fe],Be=_e.animationName;if(!Le||!Ae||!Be)return;const Ie=!!this.inTransition.has(Fe)&&Ae.transition;Ie&&Be.substring(0,Ie.length+2)===`f-${Ie}`&&this.inTransition.delete(Fe),this.inTransition.size||this.clearTransitions(),Fe===this.page&&(!((Te=this.panzoom)===null||Te===void 0)&&Te.isResting)&&this.emit("settle")}onDecel(_e,Te=0,Le=0,Fe=0,Ae=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:Be,isHorizontal:Ie,axis:Ne,pages:ze}=this,Ue=ze.length,je=Math.abs(Math.atan2(Le,Te)/(Math.PI/180));let Ve=0;if(Ve=je>45&&je<135?Ie?0:Le:Ie?Te:0,!Ue)return;let Ze=this.page,Ke=Be&&Ie?1:-1;const Je=_e.current[Ne]*Ke;let{pageIndex:ei}=this.getPageFromPosition(Je);Math.abs(Ve)>5?(ze[Ze].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(Ze=ei),Ze=Be&&Ie?Ve<0?Ze-1:Ze+1:Ve<0?Ze+1:Ze-1):Ze=Fe===0&&Ae===0?Ze:ei,this.slideTo(Ze,{transition:!1,friction:_e.option("decelFriction")})}onClick(_e){const Te=_e.target,Le=Te&&E(Te)?Te.dataset:null;let Fe,Ae;Le&&(Le.carouselPage!==void 0?(Ae="slideTo",Fe=Le.carouselPage):Le.carouselNext!==void 0?Ae="slideNext":Le.carouselPrev!==void 0&&(Ae="slidePrev")),Ae?(_e.preventDefault(),_e.stopPropagation(),Te&&!Te.hasAttribute("disabled")&&this[Ae](Fe)):this.emit("click",_e)}onSlideTo(_e){const Te=_e.detail||0;this.slideTo(this.getPageForSlide(Te),{friction:0})}onChange(_e,Te=0){const Le=this.page;this.prevPage=Le,this.page=_e,this.option("adaptiveHeight")&&this.setViewportHeight(),_e!==Le&&(this.markSelectedSlides(),this.emit("change",_e,Le,Te))}onRefresh(){let _e=this.contentDim,Te=this.viewportDim;this.updateMetrics(),this.contentDim===_e&&this.viewportDim===Te||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var _e;(_e=this.viewport)===null||_e===void 0||_e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(_e){this.lp!==_e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=_e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(_e=null,Te=null){this.destroy(),this.state=j.Init,this.prevPage=null,this.userOptions=_e||this.userOptions,this.userPlugins=Te||this.userPlugins,this.processOptions()}slideTo(_e=0,{friction:Te=this.option("friction"),transition:Le=this.option("transition")}={}){if(this.state===j.Destroy)return;_e=parseInt((_e||0).toString())||0;const Fe=this.getPageFromIndex(_e),{axis:Ae,isHorizontal:Be,isRTL:Ie,pages:Ne,panzoom:ze}=this,Ue=Ne.length,je=Ie&&Be?1:-1;if(!ze||!Ue)return;if(this.page!==Fe){const Ze=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",Ze,_e),Ze.defaultPrevented)return}if(this.transitionTo(_e,Le))return;let Ve=Ne[Fe].pos;if(this.isInfinite){const Ze=this.contentDim,Ke=ze.target[Ae]*je;Ue===2?Ve+=Ze*Math.floor(parseFloat(_e+"")/2):Ve=[Ve,Ve-Ze,Ve+Ze].reduce(function(Je,ei){return Math.abs(ei-Ke)<Math.abs(Je-Ke)?ei:Je})}Ve*=je,Math.abs(ze.target[Ae]-Ve)<1||(ze.panTo({x:Be?Ve:0,y:Be?0:Ve,friction:Te}),this.onChange(Fe))}slideToClosest(_e){if(this.panzoom){const{pageIndex:Te}=this.getPageFromPosition();this.slideTo(Te,_e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),S(this.container,this.cn("inTransition"));const _e=["to-prev","to-next","from-prev","from-next"];for(const Te of this.slides){const Le=Te.el;if(Le){Le.removeEventListener(U,this.onAnimationEnd),Le.classList.remove(..._e);const Fe=Te.transition;Fe&&Le.classList.remove(`f-${Fe}Out`,`f-${Fe}In`)}}this.manageSlideVisiblity()}addSlide(_e,Te){var Le,Fe,Ae,Be;const Ie=this.panzoom,Ne=((Le=this.pages[this.page])===null||Le===void 0?void 0:Le.pos)||0,ze=((Fe=this.pages[this.page])===null||Fe===void 0?void 0:Fe.dim)||0,Ue=this.contentDim<this.viewportDim;let je=Array.isArray(Te)?Te:[Te];const Ve=[];for(const Ze of je)Ve.push(B(Ze));this.slides.splice(_e,0,...Ve);for(let Ze=0;Ze<this.slides.length;Ze++)this.slides[Ze].index=Ze;for(const Ze of Ve)this.emit("beforeInitSlide",Ze,Ze.index);if(this.page>=_e&&(this.page+=Ve.length),this.updateMetrics(),Ie){const Ze=((Ae=this.pages[this.page])===null||Ae===void 0?void 0:Ae.pos)||0,Ke=((Be=this.pages[this.page])===null||Be===void 0?void 0:Be.dim)||0,Je=this.pages.length||1,ei=this.isRTL?ze-Ke:Ke-ze,ni=this.isRTL?Ne-Ze:Ze-Ne;Ue&&Je===1?(_e<=this.page&&(Ie.current[this.axis]-=ei,Ie.target[this.axis]-=ei),Ie.panTo({[this.isHorizontal?"x":"y"]:-1*Ze})):ni&&_e<=this.page&&(Ie.target[this.axis]-=ni,Ie.current[this.axis]-=ni,Ie.requestTick())}for(const Ze of Ve)this.emit("initSlide",Ze,Ze.index)}prependSlide(_e){this.addSlide(0,_e)}appendSlide(_e){this.addSlide(this.slides.length,_e)}removeSlide(_e){const Te=this.slides.length;_e=(_e%Te+Te)%Te;const Le=this.slides[_e];if(Le){this.removeSlideEl(Le,!0),this.slides.splice(_e,1);for(let Fe=0;Fe<this.slides.length;Fe++)this.slides[Fe].index=Fe;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",Le)}}updateMetrics(){const{panzoom:_e,viewport:Te,track:Le,slides:Fe,isHorizontal:Ae,isInfinite:Be}=this;if(!Le)return;const Ie=Ae?"width":"height",Ne=Ae?"offsetWidth":"offsetHeight";if(Te){let je=Math.max(Te[Ne],t(Te.getBoundingClientRect()[Ie],1e3)),Ve=getComputedStyle(Te),Ze="padding",Ke=Ae?"Right":"Bottom";je-=parseFloat(Ve[Ze+(Ae?"Left":"Top")])+parseFloat(Ve[Ze+Ke]),this.viewportDim=je}let ze,Ue=0;for(const[je,Ve]of Fe.entries()){let Ze=0,Ke=0;!Ve.el&&ze?(Ze=ze.dim,Ke=ze.gap):({dim:Ze,gap:Ke}=this.getSlideMetrics(Ve),ze=Ve),Ze=t(Ze,1e3),Ke=t(Ke,1e3),Ve.dim=Ze,Ve.gap=Ke,Ve.pos=Ue,Ue+=Ze,(Be||je<Fe.length-1)&&(Ue+=Ke)}Ue=t(Ue,1e3),this.contentDim=Ue,_e&&(_e.contentRect[Ie]=Ue,_e.contentRect[Ae?"fullWidth":"fullHeight"]=Ue),this.pages=this.createPages(),this.pages=this.processPages(),this.state===j.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(_e,Te=!1,Le=!1){_e===void 0&&(_e=this.page);const Fe=this,Ae=Fe.panzoom,Be=Fe.contentDim,Ie=Fe.pages[_e]||0;if(!Ie||!Ae)return _e>this.page?-1:1;let Ne=-1*Ae.current.e,ze=t((Ne-Ie.pos)/(1*Ie.dim),1e3),Ue=ze,je=ze;this.isInfinite&&Le!==!0&&(Ue=t((Ne-Ie.pos+Be)/(1*Ie.dim),1e3),je=t((Ne-Ie.pos-Be)/(1*Ie.dim),1e3));let Ve=[ze,Ue,je].reduce(function(Ze,Ke){return Math.abs(Ke)<Math.abs(Ze)?Ke:Ze});return Te?Ve:Ve>1?1:Ve<-1?-1:Ve}setViewportHeight(){const{page:_e,pages:Te,viewport:Le,isHorizontal:Fe}=this;if(!Le||!Te[_e])return;let Ae=0;Fe&&this.track&&(this.track.style.height="auto",Te[_e].slides.forEach(Be=>{Be.el&&(Ae=Math.max(Ae,Be.el.offsetHeight))})),Le.style.height=Ae?`${Ae}px`:""}getPageForSlide(_e){for(const Te of this.pages)for(const Le of Te.slides)if(Le.index===_e)return Te.index;return-1}getVisibleSlides(_e=0){var Te;const Le=new Set;let{panzoom:Fe,contentDim:Ae,viewportDim:Be,pages:Ie,page:Ne}=this;if(Be){Ae=Ae+((Te=this.slides[this.slides.length-1])===null||Te===void 0?void 0:Te.gap)||0;let ze=0;ze=Fe&&Fe.state!==m.Init&&Fe.state!==m.Destroy?-1*Fe.current[this.axis]:Ie[Ne]&&Ie[Ne].pos||0,this.isInfinite&&(ze-=Math.floor(ze/Ae)*Ae),this.isRTL&&this.isHorizontal&&(ze*=-1);const Ue=ze-Be*_e,je=ze+Be*(_e+1),Ve=this.isInfinite?[-1,0,1]:[0];for(const Ze of this.slides)for(const Ke of Ve){const Je=Ze.pos+Ke*Ae,ei=Je+Ze.dim+Ze.gap;Je<je&&ei>Ue&&Le.add(Ze)}}return Le}getPageFromPosition(_e){const{viewportDim:Te,contentDim:Le,slides:Fe,pages:Ae,panzoom:Be}=this,Ie=Ae.length,Ne=Fe.length,ze=Fe[0],Ue=Fe[Ne-1],je=this.option("center");let Ve=0,Ze=0,Ke=0,Je=_e===void 0?-1*((Be==null?void 0:Be.target[this.axis])||0):_e;je&&(Je+=.5*Te),this.isInfinite?(Je<ze.pos-.5*Ue.gap&&(Je-=Le,Ke=-1),Je>Ue.pos+Ue.dim+.5*Ue.gap&&(Je-=Le,Ke=1)):Je=Math.max(ze.pos||0,Math.min(Je,Ue.pos));let ei=Ue,ni=Fe.find(Qe=>{const ii=Qe.pos-.5*ei.gap,ai=Qe.pos+Qe.dim+.5*Qe.gap;return ei=Qe,Je>=ii&&Je<ai});return ni||(ni=Ue),Ze=this.getPageForSlide(ni.index),Ve=Ze+Ke*Ie,{page:Ve,pageIndex:Ze}}setPageFromPosition(){const{pageIndex:_e}=this.getPageFromPosition();this.onChange(_e)}destroy(){if([j.Destroy].includes(this.state))return;this.state=j.Destroy;const{container:_e,viewport:Te,track:Le,slides:Fe,panzoom:Ae}=this,Be=this.option("classes");_e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),_e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),Ae&&(Ae.destroy(),this.panzoom=null),Fe&&Fe.forEach(Ne=>{this.removeSlideEl(Ne)}),this.detachPlugins(),Te&&(Te.removeEventListener("scroll",this.onScroll),Te.offsetParent&&Le&&Le.offsetParent&&Te.replaceWith(...Le.childNodes));for(const[Ne,ze]of Object.entries(Be))Ne!=="container"&&ze&&_e.classList.remove(ze);this.track=null,this.viewport=null,this.page=0,this.slides=[];const Ie=this.events.get("ready");this.events=new Map,Ie&&this.events.set("ready",Ie)}}Object.defineProperty(J,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:k}),Object.defineProperty(J,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:F}),Object.defineProperty(J,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Z});const Q=function($e){if(!E($e))return 0;const _e=window.scrollY,Te=window.innerHeight,Le=_e+Te,Fe=$e.getBoundingClientRect(),Ae=Fe.y+_e,Be=Fe.height,Ie=Ae+Be;if(_e>Ie||Le<Ae)return 0;if(_e<Ae&&Le>Ie||Ae<_e&&Ie>Le)return 100;let Ne=Be;Ae<_e&&(Ne-=_e-Ae),Ie>Le&&(Ne-=Ie-Le);const ze=Ne/Te*100;return Math.round(ze)},tt=!(typeof window>"u"||!window.document||!window.document.createElement);let et;const it=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),nt=$e=>{if($e&&tt){et===void 0&&document.createElement("div").focus({get preventScroll(){return et=!0,!1}});try{if(et)$e.focus({preventScroll:!0});else{const _e=window.scrollY||document.body.scrollTop,Te=window.scrollX||document.body.scrollLeft;$e.focus(),document.body.scrollTo({top:_e,left:Te,behavior:"auto"})}}catch{}}},st=()=>{const $e=document;let _e,Te="",Le="",Fe="";return $e.fullscreenEnabled?(Te="requestFullscreen",Le="exitFullscreen",Fe="fullscreenElement"):$e.webkitFullscreenEnabled&&(Te="webkitRequestFullscreen",Le="webkitExitFullscreen",Fe="webkitFullscreenElement"),Te&&(_e={request:function(Ae=$e.documentElement){return Te==="webkitRequestFullscreen"?Ae[Te](Element.ALLOW_KEYBOARD_INPUT):Ae[Te]()},exit:function(){return $e[Fe]&&$e[Le]()},isFullscreen:function(){return $e[Fe]}}),_e},ot={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},b),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,wheel:"zoom"};var at,rt;(function($e){$e[$e.Init=0]="Init",$e[$e.Ready=1]="Ready",$e[$e.Closing=2]="Closing",$e[$e.CustomClosing=3]="CustomClosing",$e[$e.Destroy=4]="Destroy"})(at||(at={})),function($e){$e[$e.Loading=0]="Loading",$e[$e.Opening=1]="Opening",$e[$e.Ready=2]="Ready",$e[$e.Closing=3]="Closing"}(rt||(rt={}));let lt="",ct=!1,ht=!1,dt=null;const ut=()=>{let $e="",_e="";const Te=Ce.getInstance();if(Te){const Le=Te.carousel,Fe=Te.getSlide();if(Le&&Fe){let Ae=Fe.slug||void 0,Be=Fe.triggerEl||void 0;_e=Ae||Te.option("slug")||"",!_e&&Be&&Be.dataset&&(_e=Be.dataset.fancybox||""),_e&&_e!=="true"&&($e="#"+_e+(!Ae&&Le.slides.length>1?"-"+(Fe.index+1):""))}}return{hash:$e,slug:_e,index:1}},pt=()=>{const $e=new URL(document.URL).hash,_e=$e.slice(1).split("-"),Te=_e[_e.length-1],Le=Te&&/^\+?\d+$/.test(Te)&&parseInt(_e.pop()||"1",10)||1;return{hash:$e,slug:_e.join("-"),index:Le}},ft=()=>{const{slug:$e,index:_e}=pt();if(!$e)return;let Te=document.querySelector(`[data-slug="${$e}"]`);if(Te&&Te.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Ce.getInstance())return;const Le=document.querySelectorAll(`[data-fancybox="${$e}"]`);Le.length&&(Te=Le[_e-1],Te&&Te.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},gt=()=>{if(Ce.defaults.Hash===!1)return;const $e=Ce.getInstance();if(($e==null?void 0:$e.options.Hash)===!1)return;const{slug:_e,index:Te}=pt(),{slug:Le}=ut();$e&&(_e===Le?$e.jumpTo(Te-1):(ct=!0,$e.close())),ft()},mt=()=>{dt&&clearTimeout(dt),queueMicrotask(()=>{gt()})},vt=()=>{window.addEventListener("hashchange",mt,!1),setTimeout(()=>{gt()},500)};tt&&(/complete|interactive|loaded/.test(document.readyState)?vt():document.addEventListener("DOMContentLoaded",vt));const bt="is-zooming-in";class yt extends N{onCreateSlide(_e,Te,Le){const Fe=this.instance.optionFor(Le,"src")||"";Le.el&&Le.type==="image"&&typeof Fe=="string"&&this.setImage(Le,Fe)}onRemoveSlide(_e,Te,Le){Le.panzoom&&Le.panzoom.destroy(),Le.panzoom=void 0,Le.imageEl=void 0}onChange(_e,Te,Le,Fe){S(this.instance.container,bt);for(const Ae of Te.slides){const Be=Ae.panzoom;Be&&Ae.index!==Le&&Be.reset(.35)}}onClose(){var _e;const Te=this.instance,Le=Te.container,Fe=Te.getSlide();if(!Le||!Le.parentElement||!Fe)return;const{el:Ae,contentEl:Be,panzoom:Ie,thumbElSrc:Ne}=Fe;if(!Ae||!Ne||!Be||!Ie||Ie.isContentLoading||Ie.state===m.Init||Ie.state===m.Destroy)return;Ie.updateMetrics();let ze=this.getZoomInfo(Fe);if(!ze)return;this.instance.state=at.CustomClosing,Le.classList.remove(bt),Le.classList.add("is-zooming-out"),Be.style.backgroundImage=`url('${Ne}')`;const Ue=Le.getBoundingClientRect();(((_e=window.visualViewport)===null||_e===void 0?void 0:_e.scale)||1)===1&&Object.assign(Le.style,{position:"absolute",top:`${Le.offsetTop+window.scrollY}px`,left:`${Le.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${Ue.width}px`,height:`${Ue.height}px`,overflow:"hidden"});const{x:je,y:Ve,scale:Ze,opacity:Ke}=ze;if(Ke){const Je=((ei,ni,Qe,ii)=>{const ai=ni-ei,di=ii-Qe;return vi=>Qe+((vi-ei)/ai*di||0)})(Ie.scale,Ze,1,0);Ie.on("afterTransform",()=>{Be.style.opacity=Je(Ie.scale)+""})}Ie.on("endAnimation",()=>{Te.destroy()}),Ie.target.a=Ze,Ie.target.b=0,Ie.target.c=0,Ie.target.d=Ze,Ie.panTo({x:je,y:Ve,scale:Ze,friction:Ke?.2:.33,ignoreBounds:!0}),Ie.isResting&&Te.destroy()}setImage(_e,Te){const Le=this.instance;_e.src=Te,this.process(_e,Te).then(Fe=>{const{contentEl:Ae,imageEl:Be,thumbElSrc:Ie,el:Ne}=_e;if(Le.isClosing()||!Ae||!Be)return;Ae.offsetHeight;const ze=!!Le.isOpeningSlide(_e)&&this.getZoomInfo(_e);if(this.option("protected")&&Ne){Ne.addEventListener("contextmenu",Ve=>{Ve.preventDefault()});const je=document.createElement("div");P(je,"fancybox-protected"),Ae.appendChild(je)}if(Ie&&ze){const je=Fe.contentRect,Ve=Math.max(je.fullWidth,je.fullHeight);let Ze=null;!ze.opacity&&Ve>1200&&(Ze=document.createElement("img"),P(Ze,"fancybox-ghost"),Ze.src=Ie,Ae.appendChild(Ze));const Ke=()=>{Ze&&(P(Ze,"f-fadeFastOut"),setTimeout(()=>{Ze&&(Ze.remove(),Ze=null)},200))};(Ue=Ie,new Promise((Je,ei)=>{const ni=new Image;ni.onload=Je,ni.onerror=ei,ni.src=Ue})).then(()=>{Le.hideLoading(_e),_e.state=rt.Opening,this.instance.emit("reveal",_e),this.zoomIn(_e).then(()=>{Ke(),this.instance.done(_e)},()=>{}),Ze&&setTimeout(()=>{Ke()},Ve>2500?800:200)},()=>{Le.hideLoading(_e),Le.revealContent(_e)})}else{const je=this.optionFor(_e,"initialSize"),Ve=this.optionFor(_e,"zoom"),Ze={event:Le.prevMouseMoveEvent||Le.options.event,friction:Ve?.12:0};let Ke=Le.optionFor(_e,"showClass")||void 0,Je=!0;Le.isOpeningSlide(_e)&&(je==="full"?Fe.zoomToFull(Ze):je==="cover"?Fe.zoomToCover(Ze):je==="max"?Fe.zoomToMax(Ze):Je=!1,Fe.stop("current")),Je&&Ke&&(Ke=Fe.isDragging?"f-fadeIn":""),Le.hideLoading(_e),Le.revealContent(_e,Ke)}var Ue},()=>{Le.setError(_e,"{{IMAGE_ERROR}}")})}process(_e,Te){return new Promise((Le,Fe)=>{var Ae;const Be=this.instance,Ie=_e.el;Be.clearContent(_e),Be.showLoading(_e);let Ne=this.optionFor(_e,"content");if(typeof Ne=="string"&&(Ne=n(Ne)),!Ne||!E(Ne)){if(Ne=document.createElement("img"),Ne instanceof HTMLImageElement){let ze="",Ue=_e.caption;ze=typeof Ue=="string"&&Ue?Ue.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${_e.index+1} of ${((Ae=Be.carousel)===null||Ae===void 0?void 0:Ae.pages.length)||1}`,Ne.src=Te||"",Ne.alt=ze,Ne.draggable=!1,_e.srcset&&Ne.setAttribute("srcset",_e.srcset),this.instance.isOpeningSlide(_e)&&(Ne.fetchPriority="high")}_e.sizes&&Ne.setAttribute("sizes",_e.sizes)}P(Ne,"fancybox-image"),_e.imageEl=Ne,Be.setContent(_e,Ne,!1),_e.panzoom=new k(Ie,u({transformParent:!0},this.option("Panzoom")||{},{content:Ne,width:Be.optionFor(_e,"width","auto"),height:Be.optionFor(_e,"height","auto"),wheel:()=>{const ze=Be.option("wheel");return(ze==="zoom"||ze=="pan")&&ze},click:(ze,Ue)=>{var je,Ve;if(Be.isCompact||Be.isClosing()||_e.index!==((je=Be.getSlide())===null||je===void 0?void 0:je.index))return!1;if(Ue){const Ke=Ue.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(Ke.nodeName))return!1}let Ze=!Ue||Ue.target&&((Ve=_e.contentEl)===null||Ve===void 0?void 0:Ve.contains(Ue.target));return Be.option(Ze?"contentClick":"backdropClick")||!1},dblClick:()=>Be.isCompact?"toggleZoom":Be.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:ze=>{Le(ze)},error:()=>{Fe()},destroy:()=>{Fe()}}}))})}zoomIn(_e){return new Promise((Te,Le)=>{const Fe=this.instance,Ae=Fe.container,{panzoom:Be,contentEl:Ie,el:Ne}=_e;Be&&Be.updateMetrics();const ze=this.getZoomInfo(_e);if(!(ze&&Ne&&Ie&&Be&&Ae))return void Le();const{x:Ue,y:je,scale:Ve,opacity:Ze}=ze,Ke=()=>{_e.state!==rt.Closing&&(Ze&&(Ie.style.opacity=Math.max(Math.min(1,1-(1-Be.scale)/(1-Ve)),0)+""),Be.scale>=1&&Be.scale>Be.targetScale-.1&&Te(Be))},Je=Qe=>{(Qe.scale<.99||Qe.scale>1.01)&&!Qe.isDragging||(S(Ae,bt),Ie.style.opacity="",Qe.off("endAnimation",Je),Qe.off("touchStart",Je),Qe.off("afterTransform",Ke),Te(Qe))};Be.on("endAnimation",Je),Be.on("touchStart",Je),Be.on("afterTransform",Ke),Be.on(["error","destroy"],()=>{Le()}),Be.panTo({x:Ue,y:je,scale:Ve,friction:0,ignoreBounds:!0}),Be.stop("current");const ei={event:Be.panMode==="mousemove"?Fe.prevMouseMoveEvent||Fe.options.event:void 0},ni=this.optionFor(_e,"initialSize");P(Ae,bt),Fe.hideLoading(_e),ni==="full"?Be.zoomToFull(ei):ni==="cover"?Be.zoomToCover(ei):ni==="max"?Be.zoomToMax(ei):Be.reset(.172)})}getZoomInfo(_e){const{el:Te,imageEl:Le,thumbEl:Fe,panzoom:Ae}=_e,Be=this.instance,Ie=Be.container;if(!Te||!Le||!Fe||!Ae||Q(Fe)<3||!this.optionFor(_e,"zoom")||!Ie||Be.state===at.Destroy||getComputedStyle(Ie).getPropertyValue("--f-images-zoom")==="0")return!1;const Ne=window.visualViewport||null;if((Ne?Ne.scale:1)!==1)return!1;let{top:ze,left:Ue,width:je,height:Ve}=Fe.getBoundingClientRect(),{top:Ze,left:Ke,fitWidth:Je,fitHeight:ei}=Ae.contentRect;if(!(je&&Ve&&Je&&ei))return!1;const ni=Ae.container.getBoundingClientRect();Ke+=ni.left,Ze+=ni.top;const Qe=-1*(Ke+.5*Je-(Ue+.5*je)),ii=-1*(Ze+.5*ei-(ze+.5*Ve)),ai=je/Je;let di=this.option("zoomOpacity")||!1;return di==="auto"&&(di=Math.abs(je/Ve-Je/ei)>.1),{x:Qe,y:ii,scale:ai,opacity:di}}attach(){const _e=this,Te=_e.instance;Te.on("Carousel.change",_e.onChange),Te.on("Carousel.createSlide",_e.onCreateSlide),Te.on("Carousel.removeSlide",_e.onRemoveSlide),Te.on("close",_e.onClose)}detach(){const _e=this,Te=_e.instance;Te.off("Carousel.change",_e.onChange),Te.off("Carousel.createSlide",_e.onCreateSlide),Te.off("Carousel.removeSlide",_e.onRemoveSlide),Te.off("close",_e.onClose)}}Object.defineProperty(yt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;const wt="html",xt="image",Et="map",St="youtube",Pt="vimeo",Ct="html5video",Tt=($e,_e={})=>{const Te=new URL($e),Le=new URLSearchParams(Te.search),Fe=new URLSearchParams;for(const[Ie,Ne]of[...Le,...Object.entries(_e)]){let ze=Ne+"";if(Ie==="t"){let Ue=ze.match(/((\d*)m)?(\d*)s?/);Ue&&Fe.set("start",60*parseInt(Ue[2]||"0")+parseInt(Ue[3]||"0")+"")}else Fe.set(Ie,ze)}let Ae=Fe+"",Be=$e.match(/#t=((.*)?\d+s)/);return Be&&(Ae+=`#t=${Be[1]}`),Ae},Mt={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Ot=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class At extends N{onBeforeInitSlide(_e,Te,Le){this.processType(Le)}onCreateSlide(_e,Te,Le){this.setContent(Le)}onClearContent(_e,Te){Te.xhr&&(Te.xhr.abort(),Te.xhr=null);const Le=Te.iframeEl;Le&&(Le.onload=Le.onerror=null,Le.src="//about:blank",Te.iframeEl=null);const Fe=Te.contentEl,Ae=Te.placeholderEl;if(Te.type==="inline"&&Fe&&Ae)Fe.classList.remove("fancybox__content"),Fe.style.display!=="none"&&(Fe.style.display="none"),Ae.parentNode&&Ae.parentNode.insertBefore(Fe,Ae),Ae.remove(),Te.contentEl=void 0,Te.placeholderEl=void 0;else for(;Te.el&&Te.el.firstChild;)Te.el.removeChild(Te.el.firstChild)}onSelectSlide(_e,Te,Le){Le.state===rt.Ready&&this.playVideo()}onUnselectSlide(_e,Te,Le){var Fe,Ae;if(Le.type===Ct){try{(Ae=(Fe=Le.el)===null||Fe===void 0?void 0:Fe.querySelector("video"))===null||Ae===void 0||Ae.pause()}catch{}return}let Be;Le.type===Pt?Be={method:"pause",value:"true"}:Le.type===St&&(Be={event:"command",func:"pauseVideo"}),Be&&Le.iframeEl&&Le.iframeEl.contentWindow&&Le.iframeEl.contentWindow.postMessage(JSON.stringify(Be),"*"),Le.poller&&clearTimeout(Le.poller)}onDone(_e,Te){_e.isCurrentSlide(Te)&&!_e.isClosing()&&this.playVideo()}onRefresh(_e,Te){Te.slides.forEach(Le=>{Le.el&&(this.resizeIframe(Le),this.setAspectRatio(Le))})}onMessage(_e){try{let Te=JSON.parse(_e.data);if(_e.origin==="https://player.vimeo.com"){if(Te.event==="ready")for(let Le of Array.from(document.getElementsByClassName("fancybox__iframe")))Le instanceof HTMLIFrameElement&&Le.contentWindow===_e.source&&(Le.dataset.ready="true")}else if(_e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&Te.event==="onReady"){const Le=document.getElementById(Te.id);Le&&(Le.dataset.ready="true")}}catch{}}loadAjaxContent(_e){const Te=this.instance.optionFor(_e,"src")||"";this.instance.showLoading(_e);const Le=this.instance,Fe=new XMLHttpRequest;Le.showLoading(_e),Fe.onreadystatechange=function(){Fe.readyState===XMLHttpRequest.DONE&&Le.state===at.Ready&&(Le.hideLoading(_e),Fe.status===200?Le.setContent(_e,Fe.responseText):Le.setError(_e,Fe.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const Ae=_e.ajax||null;Fe.open(Ae?"POST":"GET",Te+""),Fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Fe.setRequestHeader("X-Requested-With","XMLHttpRequest"),Fe.send(Ae),_e.xhr=Fe}setInlineContent(_e){let Te=null;if(E(_e.src))Te=_e.src;else if(typeof _e.src=="string"){const Le=_e.src.split("#",2).pop();Te=Le?document.getElementById(Le):null}if(Te){if(_e.type==="clone"||Te.closest(".fancybox__slide")){Te=Te.cloneNode(!0);const Le=Te.dataset.animationName;Le&&(Te.classList.remove(Le),delete Te.dataset.animationName);let Fe=Te.getAttribute("id");Fe=Fe?`${Fe}--clone`:`clone-${this.instance.id}-${_e.index}`,Te.setAttribute("id",Fe)}else if(Te.parentNode){const Le=document.createElement("div");Le.classList.add("fancybox-placeholder"),Te.parentNode.insertBefore(Le,Te),_e.placeholderEl=Le}this.instance.setContent(_e,Te)}else this.instance.setError(_e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(_e){const{src:Te,el:Le}=_e;if(!Te||typeof Te!="string"||!Le)return;Le.classList.add("is-loading");const Fe=this.instance,Ae=document.createElement("iframe");Ae.className="fancybox__iframe",Ae.setAttribute("id",`fancybox__iframe_${Fe.id}_${_e.index}`);for(const[Ie,Ne]of Object.entries(this.optionFor(_e,"iframeAttr")||{}))Ae.setAttribute(Ie,Ne);Ae.onerror=()=>{Fe.setError(_e,"{{IFRAME_ERROR}}")},_e.iframeEl=Ae;const Be=this.optionFor(_e,"preload");if(_e.type!=="iframe"||Be===!1)return Ae.setAttribute("src",_e.src+""),Fe.setContent(_e,Ae,!1),this.resizeIframe(_e),void Fe.revealContent(_e);Fe.showLoading(_e),Ae.onload=()=>{if(!Ae.src.length)return;const Ie=Ae.dataset.ready!=="true";Ae.dataset.ready="true",this.resizeIframe(_e),Ie?Fe.revealContent(_e):Fe.hideLoading(_e)},Ae.setAttribute("src",Te),Fe.setContent(_e,Ae,!1)}resizeIframe(_e){const{type:Te,iframeEl:Le}=_e;if(Te===St||Te===Pt)return;const Fe=Le==null?void 0:Le.parentElement;if(!Le||!Fe)return;let Ae=_e.autoSize;Ae===void 0&&(Ae=this.optionFor(_e,"autoSize"));let Be=_e.width||0,Ie=_e.height||0;Be&&Ie&&(Ae=!1);const Ne=Fe&&Fe.style;if(_e.preload!==!1&&Ae!==!1&&Ne)try{const ze=window.getComputedStyle(Fe),Ue=parseFloat(ze.paddingLeft)+parseFloat(ze.paddingRight),je=parseFloat(ze.paddingTop)+parseFloat(ze.paddingBottom),Ve=Le.contentWindow;if(Ve){const Ze=Ve.document,Ke=Ze.getElementsByTagName(wt)[0],Je=Ze.body;Ne.width="",Je.style.overflow="hidden",Be=Be||Ke.scrollWidth+Ue,Ne.width=`${Be}px`,Je.style.overflow="",Ne.flex="0 0 auto",Ne.height=`${Je.scrollHeight}px`,Ie=Ke.scrollHeight+je}}catch{}if(Be||Ie){const ze={flex:"0 1 auto",width:"",height:""};Be&&Be!=="auto"&&(ze.width=`${Be}px`),Ie&&Ie!=="auto"&&(ze.height=`${Ie}px`),Object.assign(Ne,ze)}}playVideo(){const _e=this.instance.getSlide();if(!_e)return;const{el:Te}=_e;if(!Te||!Te.offsetParent||!this.optionFor(_e,"videoAutoplay"))return;if(_e.type===Ct)try{const Fe=Te.querySelector("video");if(Fe){const Ae=Fe.play();Ae!==void 0&&Ae.then(()=>{}).catch(Be=>{Fe.muted=!0,Fe.play()})}}catch{}if(_e.type!==St&&_e.type!==Pt)return;const Le=()=>{if(_e.iframeEl&&_e.iframeEl.contentWindow){let Fe;if(_e.iframeEl.dataset.ready==="true")return Fe=_e.type===St?{event:"command",func:"playVideo"}:{method:"play",value:"true"},Fe&&_e.iframeEl.contentWindow.postMessage(JSON.stringify(Fe),"*"),void(_e.poller=void 0);_e.type===St&&(Fe={event:"listening",id:_e.iframeEl.getAttribute("id")},_e.iframeEl.contentWindow.postMessage(JSON.stringify(Fe),"*"))}_e.poller=setTimeout(Le,250)};Le()}processType(_e){if(_e.html)return _e.type=wt,_e.src=_e.html,void(_e.html="");const Te=this.instance.optionFor(_e,"src","");if(!Te||typeof Te!="string")return;let Le=_e.type,Fe=null;if(Fe=Te.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const Ae=this.optionFor(_e,St),{nocookie:Be}=Ae,Ie=function(je,Ve){var Ze={};for(var Ke in je)Object.prototype.hasOwnProperty.call(je,Ke)&&Ve.indexOf(Ke)<0&&(Ze[Ke]=je[Ke]);if(je!=null&&typeof Object.getOwnPropertySymbols=="function"){var Je=0;for(Ke=Object.getOwnPropertySymbols(je);Je<Ke.length;Je++)Ve.indexOf(Ke[Je])<0&&Object.prototype.propertyIsEnumerable.call(je,Ke[Je])&&(Ze[Ke[Je]]=je[Ke[Je]])}return Ze}(Ae,["nocookie"]),Ne=`www.youtube${Be?"-nocookie":""}.com`,ze=Tt(Te,Ie),Ue=encodeURIComponent(Fe[2]);_e.videoId=Ue,_e.src=`https://${Ne}/embed/${Ue}?${ze}`,_e.thumbSrc=_e.thumbSrc||`https://i.ytimg.com/vi/${Ue}/mqdefault.jpg`,Le=St}else if(Fe=Te.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const Ae=Tt(Te,this.optionFor(_e,Pt)),Be=encodeURIComponent(Fe[1]),Ie=Fe[4]||"";_e.videoId=Be,_e.src=`https://player.vimeo.com/video/${Be}?${Ie?`h=${Ie}${Ae?"&":""}`:""}${Ae}`,Le=Pt}if(!Le&&_e.triggerEl){const Ae=_e.triggerEl.dataset.type;Ot.includes(Ae)&&(Le=Ae)}Le||typeof Te=="string"&&(Te.charAt(0)==="#"?Le="inline":(Fe=Te.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(Le=Ct,_e.videoFormat=_e.videoFormat||"video/"+(Fe[1]==="ogv"?"ogg":Fe[1])):Te.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?Le=xt:Te.match(/\.(pdf)((\?|#).*)?$/i)&&(Le="pdf")),(Fe=Te.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(_e.src=`https://maps.google.${Fe[1]}/?ll=${(Fe[2]?Fe[2]+"&z="+Math.floor(parseFloat(Fe[3]))+(Fe[4]?Fe[4].replace(/^\//,"&"):""):Fe[4]+"").replace(/\?/,"&")}&output=${Fe[4]&&Fe[4].indexOf("layer=c")>0?"svembed":"embed"}`,Le=Et):(Fe=Te.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(_e.src=`https://maps.google.${Fe[1]}/maps?q=${Fe[2].replace("query=","q=").replace("api=1","")}&output=embed`,Le=Et),Le=Le||this.instance.option("defaultType"),_e.type=Le,Le===xt&&(_e.thumbSrc=_e.thumbSrc||_e.src)}setContent(_e){const Te=this.instance.optionFor(_e,"src")||"";if(_e&&_e.type&&Te){switch(_e.type){case wt:this.instance.setContent(_e,Te);break;case Ct:const Le=this.option("videoTpl");Le&&this.instance.setContent(_e,Le.replace(/\{\{src\}\}/gi,Te+"").replace(/\{\{format\}\}/gi,this.optionFor(_e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,_e.poster||_e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(_e);break;case"ajax":this.loadAjaxContent(_e);break;case"pdf":case Et:case St:case Pt:_e.preload=!1;case"iframe":this.setIframeContent(_e)}this.setAspectRatio(_e)}}setAspectRatio(_e){const Te=_e.contentEl;if(!(_e.el&&Te&&_e.type&&[St,Pt,Ct].includes(_e.type)))return;let Le,Fe=_e.width||"auto",Ae=_e.height||"auto";if(Fe==="auto"||Ae==="auto"){Le=this.optionFor(_e,"videoRatio");const ze=(Le+"").match(/(\d+)\s*\/\s?(\d+)/);Le=ze&&ze.length>2?parseFloat(ze[1])/parseFloat(ze[2]):parseFloat(Le+"")}else Fe&&Ae&&(Le=Fe/Ae);if(!Le)return;Te.style.aspectRatio="",Te.style.width="",Te.style.height="",Te.offsetHeight;const Be=Te.getBoundingClientRect(),Ie=Be.width||1,Ne=Be.height||1;Te.style.aspectRatio=Le+"",Le<Ie/Ne?(Ae=Ae==="auto"?Ne:Math.min(Ne,Ae),Te.style.width="auto",Te.style.height=`${Ae}px`):(Fe=Fe==="auto"?Ie:Math.min(Ie,Fe),Te.style.width=`${Fe}px`,Te.style.height="auto")}attach(){const _e=this,Te=_e.instance;Te.on("Carousel.beforeInitSlide",_e.onBeforeInitSlide),Te.on("Carousel.createSlide",_e.onCreateSlide),Te.on("Carousel.selectSlide",_e.onSelectSlide),Te.on("Carousel.unselectSlide",_e.onUnselectSlide),Te.on("Carousel.Panzoom.refresh",_e.onRefresh),Te.on("done",_e.onDone),Te.on("clearContent",_e.onClearContent),window.addEventListener("message",_e.onMessage)}detach(){const _e=this,Te=_e.instance;Te.off("Carousel.beforeInitSlide",_e.onBeforeInitSlide),Te.off("Carousel.createSlide",_e.onCreateSlide),Te.off("Carousel.selectSlide",_e.onSelectSlide),Te.off("Carousel.unselectSlide",_e.onUnselectSlide),Te.off("Carousel.Panzoom.refresh",_e.onRefresh),Te.off("done",_e.onDone),Te.off("clearContent",_e.onClearContent),window.removeEventListener("message",_e.onMessage)}}Object.defineProperty(At,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Mt});const Lt="play",zt="pause",Rt="ready";class kt extends N{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Rt}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Rt}onReady(_e){this.option("autoStart")&&(_e.isInfinite||_e.page<_e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var _e;this.inHover=!1,!((_e=this.instance.panzoom)===null||_e===void 0)&&_e.isResting&&this.resume()}onTimerEnd(){const _e=this.instance;this.state==="play"&&(_e.isInfinite||_e.page!==_e.pages.length-1?_e.slideNext():_e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var _e;if(!this.option("showProgress"))return null;this.removeProgressBar();const Te=this.instance,Le=((_e=Te.pages[Te.page])===null||_e===void 0?void 0:_e.slides)||[];let Fe=this.option("progressParentEl");if(Fe||(Fe=(Le.length===1?Le[0].el:null)||Te.viewport),!Fe)return null;const Ae=document.createElement("div");return P(Ae,"f-progress"),Fe.prepend(Ae),this.progressBar=Ae,Ae.offsetHeight,Ae}set(){const _e=this,Te=_e.instance;if(Te.pages.length<2||_e.timer)return;const Le=_e.option("timeout");_e.state=Lt,P(Te.container,"has-autoplay");let Fe=_e.createProgressBar();Fe&&(Fe.style.transitionDuration=`${Le}ms`,Fe.style.transform="scaleX(1)"),_e.timer=setTimeout(()=>{_e.timer=null,_e.inHover||_e.onTimerEnd()},Le),_e.emit("set")}clear(){const _e=this;_e.timer&&(clearTimeout(_e.timer),_e.timer=null),_e.removeProgressBar()}start(){const _e=this;if(_e.set(),_e.state!==Rt){if(_e.option("pauseOnHover")){const Te=_e.instance.container;Te.addEventListener("mouseenter",_e.onMouseEnter,!1),Te.addEventListener("mouseleave",_e.onMouseLeave,!1)}document.addEventListener("visibilitychange",_e.onVisibilityChange,!1),_e.emit("start")}}stop(){const _e=this,Te=_e.state,Le=_e.instance.container;_e.clear(),_e.state=Rt,Le.removeEventListener("mouseenter",_e.onMouseEnter,!1),Le.removeEventListener("mouseleave",_e.onMouseLeave,!1),document.removeEventListener("visibilitychange",_e.onVisibilityChange,!1),S(Le,"has-autoplay"),Te!==Rt&&_e.emit("stop")}pause(){const _e=this;_e.state===Lt&&(_e.state=zt,_e.clear(),_e.emit(zt))}resume(){const _e=this,Te=_e.instance;if(Te.isInfinite||Te.page!==Te.pages.length-1)if(_e.state!==Lt){if(_e.state===zt&&!_e.inHover){const Le=new Event("resume",{bubbles:!0,cancelable:!0});_e.emit("resume",Le),Le.defaultPrevented||_e.set()}}else _e.set();else _e.stop()}toggle(){this.state===Lt||this.state===zt?this.stop():this.start()}attach(){const _e=this,Te=_e.instance;Te.on("ready",_e.onReady),Te.on("Panzoom.startAnimation",_e.onChange),Te.on("Panzoom.endAnimation",_e.onSettle),Te.on("Panzoom.touchMove",_e.onChange)}detach(){const _e=this,Te=_e.instance;Te.off("ready",_e.onReady),Te.off("Panzoom.startAnimation",_e.onChange),Te.off("Panzoom.endAnimation",_e.onSettle),Te.off("Panzoom.touchMove",_e.onChange),_e.stop()}}Object.defineProperty(kt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class It extends N{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(_e){const Te=_e.carousel;if(!Te)return;const Le=_e.container;Le&&(Te.options.Autoplay=u({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{_e.emit("startSlideshow")},set:Fe=>{var Ae;Le.classList.add("has-slideshow"),((Ae=_e.getSlide())===null||Ae===void 0?void 0:Ae.state)!==rt.Ready&&Fe.pause()},stop:()=>{Le.classList.remove("has-slideshow"),_e.isCompact||_e.endIdle(),_e.emit("endSlideshow")},resume:(Fe,Ae)=>{var Be,Ie,Ne;!Ae||!Ae.cancelable||((Be=_e.getSlide())===null||Be===void 0?void 0:Be.state)===rt.Ready&&(!((Ne=(Ie=_e.carousel)===null||Ie===void 0?void 0:Ie.panzoom)===null||Ne===void 0)&&Ne.isResting)||Ae.preventDefault()}}}),Te.attachPlugins({Autoplay:kt}),this.ref=Te.plugins.Autoplay)}onReady(_e){const Te=_e.carousel,Le=this.ref;Le&&Te&&this.option("playOnStart")&&(Te.isInfinite||Te.page<Te.pages.length-1)&&Le.start()}onDone(_e,Te){const Le=this.ref,Fe=_e.carousel;if(!Le||!Fe)return;const Ae=Te.panzoom;Ae&&Ae.on("startAnimation",()=>{_e.isCurrentSlide(Te)&&Le.stop()}),_e.isCurrentSlide(Te)&&Le.resume()}onKeydown(_e,Te){var Le;const Fe=this.ref;Fe&&Te===this.option("key")&&((Le=document.activeElement)===null||Le===void 0?void 0:Le.nodeName)!=="BUTTON"&&Fe.toggle()}attach(){const _e=this,Te=_e.instance;Te.on("Carousel.init",_e.onPrepare),Te.on("Carousel.ready",_e.onReady),Te.on("done",_e.onDone),Te.on("keydown",_e.onKeydown)}detach(){const _e=this,Te=_e.instance;Te.off("Carousel.init",_e.onPrepare),Te.off("Carousel.ready",_e.onReady),Te.off("done",_e.onDone),Te.off("keydown",_e.onKeydown)}}Object.defineProperty(It,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:$e=>{var _e;return((_e=$e.instance.container)===null||_e===void 0?void 0:_e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||$e.instance.container},timeout:3e3}});const Dt={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Ft;(function($e){$e[$e.Init=0]="Init",$e[$e.Ready=1]="Ready",$e[$e.Hidden=2]="Hidden"})(Ft||(Ft={}));const jt="isResting",Bt="thumbWidth",Ht="thumbHeight",Nt="thumbClipWidth";let _t=class extends N{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ft.Init})}get isModern(){return this.type==="modern"}onInitSlide($e,_e){const Te=_e.el?_e.el.dataset:void 0;Te&&(_e.thumbSrc=Te.thumbSrc||_e.thumbSrc||"",_e[Nt]=parseFloat(Te[Nt]||"")||_e[Nt]||0,_e[Ht]=parseFloat(Te.thumbHeight||"")||_e[Ht]||0),this.addSlide(_e)}onInitSlides(){this.build()}onChange(){var $e;if(!this.isModern)return;const _e=this.container,Te=this.instance,Le=Te.panzoom,Fe=this.carousel,Ae=Fe?Fe.panzoom:null,Be=Te.page;if(Le&&Fe&&Ae){if(Le.isDragging){S(_e,this.cn(jt));let Ie=(($e=Fe.pages[Be])===null||$e===void 0?void 0:$e.pos)||0;Ie+=Te.getProgress(Be)*(this[Nt]+this.thumbGap);let Ne=Ae.getBounds();-1*Ie>Ne.x.min&&-1*Ie<Ne.x.max&&Ae.panTo({x:-1*Ie,friction:.12})}else o(_e,this.cn(jt),Le.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const $e of this.instance.slides||[])this.resizeModernSlide($e);this.shiftModern()}isDisabled(){const $e=this.option("minCount")||0;if($e){const Te=this.instance;let Le=0;for(const Fe of Te.slides||[])Fe.thumbSrc&&Le++;if(Le<$e)return!0}const _e=this.option("type");return["modern","classic"].indexOf(_e)<0}getThumb($e){const _e=this.option("thumbTpl")||"";return{html:this.instance.localize(_e,[["%i",$e.index],["%d",$e.index+1],["%s",$e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide($e){const _e=this.carousel;_e&&_e.addSlide($e.index,this.getThumb($e))}getSlides(){const $e=[];for(const _e of this.instance.slides||[])$e.push(this.getThumb(_e));return $e}resizeModernSlide($e){this.isModern&&($e[Bt]=$e[Nt]&&$e[Ht]?Math.round(this[Ht]*($e[Nt]/$e[Ht])):this[Bt])}updateProps(){const $e=this.container;if(!$e)return;const _e=Te=>parseFloat(getComputedStyle($e).getPropertyValue("--f-thumb-"+Te))||0;this.thumbGap=_e("gap"),this.thumbExtraGap=_e("extra-gap"),this[Bt]=_e("width")||40,this[Nt]=_e("clip-width")||40,this[Ht]=_e("height")||40}build(){const $e=this;if($e.state!==Ft.Init)return;if($e.isDisabled())return void $e.emit("disabled");const _e=$e.instance,Te=_e.container,Le=$e.getSlides(),Fe=$e.option("type");$e.type=Fe;const Ae=$e.option("parentEl"),Be=$e.cn("container"),Ie=$e.cn("track");let Ne=Ae==null?void 0:Ae.querySelector("."+Be);Ne||(Ne=document.createElement("div"),P(Ne,Be),Ae?Ae.appendChild(Ne):Te.after(Ne)),P(Ne,`is-${Fe}`),P(Te,$e.cn("hasThumbs")),$e.container=Ne,$e.updateProps();let ze=Ne.querySelector("."+Ie);ze||(ze=document.createElement("div"),P(ze,$e.cn("track")),Ne.appendChild(ze)),$e.track=ze;const Ue=u({},{track:ze,infinite:!1,center:!0,fill:Fe==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},$e.option("Carousel")||{},{Sync:{target:_e},slides:Le}),je=new _e.constructor(Ne,Ue);je.on("createSlide",(Ve,Ze)=>{$e.setProps(Ze.index),$e.emit("createSlide",Ze,Ze.el)}),je.on("ready",()=>{$e.shiftModern(),$e.emit("ready")}),je.on("refresh",()=>{$e.shiftModern()}),je.on("Panzoom.click",(Ve,Ze,Ke)=>{$e.onClick(Ke)}),$e.carousel=je,$e.state=Ft.Ready}onClick($e){$e.preventDefault(),$e.stopPropagation();const _e=this.instance,{pages:Te,page:Le}=_e,Fe=Je=>{if(Je){const ei=Je.closest("[data-carousel-index]");if(ei)return[parseInt(ei.dataset.carouselIndex||"",10)||0,ei]}return[-1,void 0]},Ae=(Je,ei)=>{const ni=document.elementFromPoint(Je,ei);return ni?Fe(ni):[-1,void 0]};let[Be,Ie]=Fe($e.target);if(Be>-1)return;const Ne=this[Nt],ze=$e.clientX,Ue=$e.clientY;let[je,Ve]=Ae(ze-Ne,Ue),[Ze,Ke]=Ae(ze+Ne,Ue);Ve&&Ke?(Be=Math.abs(ze-Ve.getBoundingClientRect().right)<Math.abs(ze-Ke.getBoundingClientRect().left)?je:Ze,Be===Le&&(Be=Be===je?Ze:je)):Ve?Be=je:Ke&&(Be=Ze),Be>-1&&Te[Be]&&_e.slideTo(Be)}getShift($e){var _e;const Te=this,{instance:Le}=Te,Fe=Te.carousel;if(!Le||!Fe)return 0;const Ae=Te[Bt],Be=Te[Nt],Ie=Te.thumbGap,Ne=Te.thumbExtraGap;if(!(!((_e=Fe.slides[$e])===null||_e===void 0)&&_e.el))return 0;const ze=.5*(Ae-Be),Ue=Le.pages.length-1;let je=Le.getProgress(0),Ve=Le.getProgress(Ue),Ze=Le.getProgress($e,!1,!0),Ke=0,Je=ze+Ne+Ie;const ei=je<0&&je>-1,ni=Ve>0&&Ve<1;return $e===0?(Ke=Je*Math.abs(je),ni&&je===1&&(Ke-=Je*Math.abs(Ve))):$e===Ue?(Ke=Je*Math.abs(Ve)*-1,ei&&Ve===-1&&(Ke+=Je*Math.abs(je))):ei||ni?(Ke=-1*Je,Ke+=Je*Math.abs(je),Ke+=Je*(1-Math.abs(Ve))):Ke=Je*Ze,Ke}setProps($e){var _e;const Te=this;if(!Te.isModern)return;const{instance:Le}=Te,Fe=Te.carousel;if(Le&&Fe){const Ae=(_e=Fe.slides[$e])===null||_e===void 0?void 0:_e.el;if(Ae&&Ae.childNodes.length){let Be=t(1-Math.abs(Le.getProgress($e))),Ie=t(Te.getShift($e));Ae.style.setProperty("--progress",Be?Be+"":""),Ae.style.setProperty("--shift",Ie+"")}}}shiftModern(){const $e=this;if(!$e.isModern)return;const{instance:_e,track:Te}=$e,Le=_e.panzoom,Fe=$e.carousel;if(!(_e&&Te&&Le&&Fe)||Le.state===m.Init||Le.state===m.Destroy)return;for(const Be of _e.slides)$e.setProps(Be.index);let Ae=($e[Nt]+$e.thumbGap)*(Fe.slides.length||0);Te.style.setProperty("--width",Ae+"")}cleanup(){const $e=this;$e.carousel&&$e.carousel.destroy(),$e.carousel=null,$e.container&&$e.container.remove(),$e.container=null,$e.track&&$e.track.remove(),$e.track=null,$e.state=Ft.Init,S($e.instance.container,$e.cn("hasThumbs"))}attach(){const $e=this,_e=$e.instance;_e.on("initSlide",$e.onInitSlide),_e.state===j.Init?_e.on("initSlides",$e.onInitSlides):$e.onInitSlides(),_e.on(["change","Panzoom.afterTransform"],$e.onChange),_e.on("Panzoom.refresh",$e.onRefresh)}detach(){const $e=this,_e=$e.instance;_e.off("initSlide",$e.onInitSlide),_e.off("initSlides",$e.onInitSlides),_e.off(["change","Panzoom.afterTransform"],$e.onChange),_e.off("Panzoom.refresh",$e.onRefresh),$e.cleanup()}};Object.defineProperty(_t,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Dt});const $t=Object.assign(Object.assign({},Dt),{key:"t",showOnStart:!0,parentEl:null}),Wt="is-masked",Xt="aria-hidden";class qt extends N{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const _e=this.ref;return _e&&!_e.isDisabled()}get isHidden(){return this.hidden}onClick(_e,Te){Te.stopPropagation()}onCreateSlide(_e,Te){var Le,Fe,Ae;const Be=((Ae=(Fe=(Le=this.instance)===null||Le===void 0?void 0:Le.carousel)===null||Fe===void 0?void 0:Fe.slides[Te.index])===null||Ae===void 0?void 0:Ae.type)||"",Ie=Te.el;if(Ie&&Be){let Ne=`for-${Be}`;["video","youtube","vimeo","html5video"].includes(Be)&&(Ne+=" for-video"),P(Ie,Ne)}}onInit(){var _e;const Te=this,Le=Te.instance,Fe=Le.carousel;if(Te.ref||!Fe)return;const Ae=Te.option("parentEl")||Le.footer||Le.container;if(!Ae)return;const Be=u({},Te.options,{parentEl:Ae,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:Le.option("Carousel.friction")||0}},on:{ready:Ie=>{const Ne=Ie.container;Ne&&this.hidden&&(Te.refresh(),Ne.style.transition="none",Te.hide(),Ne.offsetHeight,queueMicrotask(()=>{Ne.style.transition="",Te.show()}))}}});Be.Carousel=Be.Carousel||{},Be.Carousel.on=u(((_e=Te.options.Carousel)===null||_e===void 0?void 0:_e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),Fe.options.Thumbs=Be,Fe.attachPlugins({Thumbs:_t}),Te.ref=Fe.plugins.Thumbs,Te.option("showOnStart")||(Te.ref.state=Ft.Hidden,Te.hidden=!0)}onResize(){var _e;const Te=(_e=this.ref)===null||_e===void 0?void 0:_e.container;Te&&(Te.style.maxHeight="")}onKeydown(_e,Te){const Le=this.option("key");Le&&Le===Te&&this.toggle()}toggle(){const _e=this.ref;if(_e&&!_e.isDisabled())return _e.state===Ft.Hidden?(_e.state=Ft.Init,void _e.build()):void(this.hidden?this.show():this.hide())}show(){const _e=this.ref;if(!_e||_e.isDisabled())return;const Te=_e.container;Te&&(this.refresh(),Te.offsetHeight,Te.removeAttribute(Xt),Te.classList.remove(Wt),this.hidden=!1)}hide(){const _e=this.ref,Te=_e&&_e.container;Te&&(this.refresh(),Te.offsetHeight,Te.classList.add(Wt),Te.setAttribute(Xt,"true")),this.hidden=!0}refresh(){const _e=this.ref;if(!_e||!_e.state)return;const Te=_e.container,Le=(Te==null?void 0:Te.firstChild)||null;Te&&Le&&Le.childNodes.length&&(Te.style.maxHeight=`${Le.getBoundingClientRect().height}px`)}attach(){const _e=this,Te=_e.instance;Te.state===at.Init?Te.on("Carousel.init",_e.onInit):_e.onInit(),Te.on("resize",_e.onResize),Te.on("keydown",_e.onKeydown)}detach(){var _e;const Te=this,Le=Te.instance;Le.off("Carousel.init",Te.onInit),Le.off("resize",Te.onResize),Le.off("keydown",Te.onKeydown),(_e=Le.carousel)===null||_e===void 0||_e.detachPlugins(["Thumbs"]),Te.ref=null}}Object.defineProperty(qt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:$t});const Yt={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var Vt;(function($e){$e[$e.Init=0]="Init",$e[$e.Ready=1]="Ready",$e[$e.Disabled=2]="Disabled"})(Vt||(Vt={}));const Zt={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},Ut={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Gt="has-toolbar",Kt="fancybox__toolbar";class Jt extends N{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Vt.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(_e){var Te;if(!_e.carousel)return;let Le=this.option("display"),Fe=this.option("absolute"),Ae=this.option("enabled");if(Ae==="auto"){const ze=this.instance.carousel;let Ue=0;if(ze)for(const je of ze.slides)(je.panzoom||je.type==="image")&&Ue++;Ue||(Ae=!1)}Ae||(Le=void 0);let Be=0;const Ie={left:[],middle:[],right:[]};if(Le)for(const ze of["left","middle","right"])for(const Ue of Le[ze]){const je=this.createEl(Ue);je&&((Te=Ie[ze])===null||Te===void 0||Te.push(je),Be++)}let Ne=null;if(Be&&(Ne=this.createContainer()),Ne){for(const[ze,Ue]of Object.entries(Ie)){const je=document.createElement("div");P(je,Kt+"__column is-"+ze);for(const Ve of Ue)je.appendChild(Ve);Fe!=="auto"||ze!=="middle"||Ue.length||(Fe=!0),Ne.appendChild(je)}Fe===!0&&P(Ne,"is-absolute"),this.state=Vt.Ready,this.onRefresh()}else this.state=Vt.Disabled}onClick(_e){var Te,Le;const Fe=this.instance,Ae=Fe.getSlide(),Be=Ae==null?void 0:Ae.panzoom,Ie=_e.target,Ne=Ie&&E(Ie)?Ie.dataset:null;if(!Ne)return;if(Ne.fancyboxToggleThumbs!==void 0)return _e.preventDefault(),_e.stopPropagation(),void((Te=Fe.plugins.Thumbs)===null||Te===void 0||Te.toggle());if(Ne.fancyboxToggleFullscreen!==void 0)return _e.preventDefault(),_e.stopPropagation(),void this.instance.toggleFullscreen();if(Ne.fancyboxToggleSlideshow!==void 0){_e.preventDefault(),_e.stopPropagation();const je=(Le=Fe.carousel)===null||Le===void 0?void 0:Le.plugins.Autoplay;let Ve=je.isActive;return Be&&Be.panMode==="mousemove"&&!Ve&&Be.reset(),void(Ve?je.stop():je.start())}const ze=Ne.panzoomAction,Ue=Ne.panzoomChange;if((Ue||ze)&&(_e.preventDefault(),_e.stopPropagation()),Ue){let je={};try{je=JSON.parse(Ue)}catch{}Be&&Be.applyChange(je)}else ze&&Be&&Be[ze]&&Be[ze]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const _e=this.container;if(!_e)return;const Te=this.instance.getSlide();if(!Te||Te.state!==rt.Ready)return;const Le=Te&&!Te.error&&Te.panzoom;for(const Be of _e.querySelectorAll("[data-panzoom-action]"))Le?(Be.removeAttribute("disabled"),Be.removeAttribute("tabindex")):(Be.setAttribute("disabled",""),Be.setAttribute("tabindex","-1"));let Fe=Le&&Le.canZoomIn(),Ae=Le&&Le.canZoomOut();for(const Be of _e.querySelectorAll('[data-panzoom-action="zoomIn"]'))Fe?(Be.removeAttribute("disabled"),Be.removeAttribute("tabindex")):(Be.setAttribute("disabled",""),Be.setAttribute("tabindex","-1"));for(const Be of _e.querySelectorAll('[data-panzoom-action="zoomOut"]'))Ae?(Be.removeAttribute("disabled"),Be.removeAttribute("tabindex")):(Be.setAttribute("disabled",""),Be.setAttribute("tabindex","-1"));for(const Be of _e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){Ae||Fe?(Be.removeAttribute("disabled"),Be.removeAttribute("tabindex")):(Be.setAttribute("disabled",""),Be.setAttribute("tabindex","-1"));const Ie=Be.querySelector("g");Ie&&(Ie.style.display=Fe?"":"none")}}onDone(_e,Te){var Le;(Le=Te.panzoom)===null||Le===void 0||Le.on("afterTransform",()=>{this.instance.isCurrentSlide(Te)&&this.onRefresh()}),this.instance.isCurrentSlide(Te)&&this.onRefresh()}createContainer(){const _e=this.instance.container;if(!_e)return null;const Te=this.option("parentEl")||_e;let Le=Te.querySelector("."+Kt);return Le||(Le=document.createElement("div"),P(Le,Kt),Te.prepend(Le)),Le.addEventListener("click",this.onClick,{passive:!1,capture:!0}),_e&&P(_e,Gt),this.container=Le,Le}createEl(_e){const Te=this.instance,Le=Te.carousel;if(!Le||_e==="toggleFS"||_e==="fullscreen"&&!st())return null;let Fe=null;const Ae=Le.slides.length||0;let Be=0,Ie=0;for(const ze of Le.slides)(ze.panzoom||ze.type==="image")&&Be++,(ze.type==="image"||ze.downloadSrc)&&Ie++;if(Ae<2&&["infobar","prev","next"].includes(_e))return Fe;if(Yt[_e]!==void 0&&!Be||_e==="download"&&!Ie)return null;if(_e==="thumbs"){const ze=Te.plugins.Thumbs;if(!ze||!ze.isEnabled)return null}if(_e==="slideshow"&&(!Le.plugins.Autoplay||Ae<2))return null;if(Yt[_e]!==void 0){const ze=Yt[_e];Fe=document.createElement("button"),Fe.setAttribute("title",this.instance.localize(`{{${_e.toUpperCase()}}}`)),P(Fe,"f-button"),ze.action&&(Fe.dataset.panzoomAction=ze.action),ze.change&&(Fe.dataset.panzoomChange=JSON.stringify(ze.change)),Fe.appendChild(n(this.instance.localize(ze.icon)))}else{const ze=(this.option("items")||[])[_e];ze&&(Fe=n(this.instance.localize(ze.tpl)),typeof ze.click=="function"&&Fe.addEventListener("click",Ue=>{Ue.preventDefault(),Ue.stopPropagation(),typeof ze.click=="function"&&ze.click.call(this,this,Ue)}))}const Ne=Fe==null?void 0:Fe.querySelector("svg");if(Ne)for(const[ze,Ue]of Object.entries(Ut))Ne.getAttribute(ze)||Ne.setAttribute(ze,String(Ue));return Fe}removeContainer(){const _e=this.container;_e&&_e.remove(),this.container=null,this.state=Vt.Disabled;const Te=this.instance.container;Te&&S(Te,Gt)}attach(){const _e=this,Te=_e.instance;Te.on("Carousel.initSlides",_e.onReady),Te.on("done",_e.onDone),Te.on(["reveal","Carousel.change"],_e.onChange),_e.onReady(_e.instance)}detach(){const _e=this,Te=_e.instance;Te.off("Carousel.initSlides",_e.onReady),Te.off("done",_e.onDone),Te.off(["reveal","Carousel.change"],_e.onChange),_e.removeContainer()}}Object.defineProperty(Jt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Zt});const Qt={Hash:class extends N{onReady(){ct=!1}onChange($e){dt&&clearTimeout(dt);const{hash:_e}=ut(),{hash:Te}=pt(),Le=$e.isOpeningSlide($e.getSlide());Le&&(lt=Te===_e?"":Te),_e&&_e!==Te&&(dt=setTimeout(()=>{try{if($e.state===at.Ready){let Fe="replaceState";Le&&!ht&&(Fe="pushState",ht=!0),window.history[Fe]({},document.title,window.location.pathname+window.location.search+_e)}}catch{}},300))}onClose($e){if(dt&&clearTimeout(dt),!ct&&ht)return ht=!1,ct=!1,void window.history.back();if(!ct)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(lt||""))}catch{}}attach(){const $e=this.instance;$e.on("ready",this.onReady),$e.on(["Carousel.ready","Carousel.change"],this.onChange),$e.on("close",this.onClose)}detach(){const $e=this.instance;$e.off("ready",this.onReady),$e.off(["Carousel.ready","Carousel.change"],this.onChange),$e.off("close",this.onClose)}static parseURL(){return pt()}static startFromUrl(){ft()}static destroy(){window.removeEventListener("hashchange",mt,!1)}},Html:At,Images:yt,Slideshow:It,Thumbs:qt,Toolbar:Jt},te="with-fancybox",ee="hide-scrollbar",ie="--fancybox-scrollbar-compensate",ne="--fancybox-body-margin",se="aria-hidden",oe="is-using-tab",ae="is-animated",re="is-compact",le="is-loading",ce="is-opening",he="has-caption",de="disabled",ue="tabindex",pe="download",fe="href",ge="src",me=$e=>typeof $e=="string",ve=function(){var $e=window.getSelection();return!!$e&&$e.type==="Range"};let be,ye=null,we=null,xe=0,Ee=0;const Se=new Map;let Pe=0;class Ce extends g{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(_e=[],Te={},Le={}){super(Te),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:at.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),be||(be=st()),this.id=Te.id||++Pe,Se.set(this.id,this),this.userSlides=_e,this.userPlugins=Le,queueMicrotask(()=>{this.init()})}init(){if(this.state===at.Destroy)return;this.state=at.Init,this.attachPlugins(Object.assign(Object.assign({},Ce.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!tt)return;const Te=document,Le=Te.body,Fe=Te.documentElement;if(Le.classList.contains(ee))return;let Ae=window.innerWidth-Fe.getBoundingClientRect().width;const Be=parseFloat(window.getComputedStyle(Le).marginRight);Ae<0&&(Ae=0),Fe.style.setProperty(ie,`${Ae}px`),Be&&Le.style.setProperty(ne,`${Be}px`),Le.classList.add(ee)})(),this.initLayout(),this.scale();const _e=()=>{this.initCarousel(this.userSlides),this.state=at.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(se,"false")},16)};this.option("Fullscreen.autoStart")&&be&&!be.isFullscreen()?be.request().then(()=>{this.startedFs=!0,_e()}).catch(()=>_e()):_e()}initLayout(){var _e,Te;const Le=this.option("parentEl")||document.body,Fe=n(this.localize(this.option("tpl.main")||""));Fe&&(Fe.setAttribute("id",`fancybox-${this.id}`),Fe.setAttribute("aria-label",this.localize("{{MODAL}}")),Fe.classList.toggle(re,this.isCompact),P(Fe,this.option("mainClass")||""),P(Fe,ce),this.container=Fe,this.footer=Fe.querySelector(".fancybox__footer"),Le.appendChild(Fe),P(document.documentElement,te),ye&&we||(ye=document.createElement("span"),P(ye,"fancybox-focus-guard"),ye.setAttribute(ue,"0"),ye.setAttribute(se,"true"),ye.setAttribute("aria-label","Focus guard"),we=ye.cloneNode(),(_e=Fe.parentElement)===null||_e===void 0||_e.insertBefore(ye,Fe),(Te=Fe.parentElement)===null||Te===void 0||Te.append(we)),Fe.addEventListener("mousedown",Ae=>{xe=Ae.pageX,Ee=Ae.pageY,S(Fe,oe)}),this.option("animated")&&(P(Fe,ae),setTimeout(()=>{this.isClosing()||S(Fe,ae)},350)),this.emit("initLayout"))}initCarousel(_e){const Te=this.container;if(!Te)return;const Le=Te.querySelector(".fancybox__carousel");if(!Le)return;const Fe=this.carousel=new J(Le,u({},{slides:_e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));Fe.on("*",(Ae,Be,...Ie)=>{this.emit(`Carousel.${Be}`,Ae,...Ie)}),Fe.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(Ae,Be,Ie)=>{this.clearContent(Ie),Ie.state=void 0}),Fe.on("Panzoom.touchStart",()=>{var Ae,Be;this.isCompact||this.endIdle(),!((Ae=document.activeElement)===null||Ae===void 0)&&Ae.closest(".f-thumbs")&&((Be=this.container)===null||Be===void 0||Be.focus())}),Fe.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(Fe.on("Panzoom.afterTransform",(Ae,Be)=>{const Ie=this.getSlide();if(Ie&&e(Ie.el))return;const Ne=this.container;if(Ne){const ze=Math.abs(Be.current.f),Ue=ze<1?"":Math.max(.5,Math.min(1,1-ze/Be.contentRect.fitHeight*1.5));Ne.style.setProperty("--fancybox-ts",Ue?"0s":""),Ne.style.setProperty("--fancybox-opacity",Ue+"")}}),Fe.on("Panzoom.touchEnd",(Ae,Be,Ie)=>{var Ne;const ze=this.getSlide();if(ze&&e(ze.el)||Be.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((Ne=document.activeElement)===null||Ne===void 0?void 0:Ne.nodeName)!==-1)return;const Ue=Math.abs(Be.dragOffset.y);Be.lockedAxis==="y"&&(Ue>=200||Ue>=50&&Be.dragOffset.time<300)&&(Ie&&Ie.cancelable&&Ie.preventDefault(),this.close(Ie,"f-throwOut"+(Be.current.f<0?"Up":"Down")))})),Fe.on("change",Ae=>{var Be;let Ie=(Be=this.getSlide())===null||Be===void 0?void 0:Be.triggerEl;if(Ie){const Ne=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:Ae.page});Ie.dispatchEvent(Ne)}}),Fe.on(["refresh","change"],Ae=>{const Be=this.container;if(!Be)return;for(const ze of Be.querySelectorAll("[data-fancybox-current-index]"))ze.innerHTML=Ae.page+1;for(const ze of Be.querySelectorAll("[data-fancybox-count]"))ze.innerHTML=Ae.pages.length;if(!Ae.isInfinite){for(const ze of Be.querySelectorAll("[data-fancybox-next]"))Ae.page<Ae.pages.length-1?(ze.removeAttribute(de),ze.removeAttribute(ue)):(ze.setAttribute(de,""),ze.setAttribute(ue,"-1"));for(const ze of Be.querySelectorAll("[data-fancybox-prev]"))Ae.page>0?(ze.removeAttribute(de),ze.removeAttribute(ue)):(ze.setAttribute(de,""),ze.setAttribute(ue,"-1"))}const Ie=this.getSlide();if(!Ie)return;let Ne=Ie.downloadSrc||"";Ne||Ie.type!=="image"||Ie.error||!me(Ie[ge])||(Ne=Ie[ge]);for(const ze of Be.querySelectorAll("[data-fancybox-download]")){const Ue=Ie.downloadFilename;Ne?(ze.removeAttribute(de),ze.removeAttribute(ue),ze.setAttribute(fe,Ne),ze.setAttribute(pe,Ue||Ne),ze.setAttribute("target","_blank")):(ze.setAttribute(de,""),ze.setAttribute(ue,"-1"),ze.removeAttribute(fe),ze.removeAttribute(pe))}}),this.emit("initCarousel")}attachEvents(){const _e=this,Te=_e.container;if(!Te)return;Te.addEventListener("click",_e.onClick,{passive:!1,capture:!1}),Te.addEventListener("wheel",_e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",_e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",_e.onVisibilityChange,!1),document.addEventListener("mousemove",_e.onMousemove),_e.option("trapFocus")&&document.addEventListener("focus",_e.onFocus,!0),window.addEventListener("resize",_e.onResize);const Le=window.visualViewport;Le&&(Le.addEventListener("scroll",_e.onResize),Le.addEventListener("resize",_e.onResize))}detachEvents(){const _e=this,Te=_e.container;if(!Te)return;document.removeEventListener("keydown",_e.onKeydown,{passive:!1,capture:!0}),Te.removeEventListener("wheel",_e.onWheel,{passive:!1,capture:!1}),Te.removeEventListener("click",_e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",_e.onMousemove),window.removeEventListener("resize",_e.onResize);const Le=window.visualViewport;Le&&(Le.removeEventListener("resize",_e.onResize),Le.removeEventListener("scroll",_e.onResize)),document.removeEventListener("visibilitychange",_e.onVisibilityChange,!1),document.removeEventListener("focus",_e.onFocus,!0)}scale(){const _e=this.container;if(!_e)return;const Te=window.visualViewport,Le=Math.max(1,(Te==null?void 0:Te.scale)||1);let Fe="",Ae="",Be="";if(Te&&Le>1){let Ie=`${Te.offsetLeft}px`,Ne=`${Te.offsetTop}px`;Fe=Te.width*Le+"px",Ae=Te.height*Le+"px",Be=`translate3d(${Ie}, ${Ne}, 0) scale(${1/Le})`}_e.style.transform=Be,_e.style.width=Fe,_e.style.height=Ae}onClick(_e){var Te;const{container:Le,isCompact:Fe}=this;if(!Le||this.isClosing())return;!Fe&&this.option("idle")&&this.resetIdle();const Ae=_e.composedPath()[0];if(Ae.closest(".fancybox-spinner")||Ae.closest("[data-fancybox-close]"))return _e.preventDefault(),void this.close(_e);if(Ae.closest("[data-fancybox-prev]"))return _e.preventDefault(),void this.prev();if(Ae.closest("[data-fancybox-next]"))return _e.preventDefault(),void this.next();if(_e.type==="click"&&_e.detail===0||Math.abs(_e.pageX-xe)>30||Math.abs(_e.pageY-Ee)>30)return;const Be=document.activeElement;if(ve()&&Be&&Le.contains(Be))return;if(Fe&&((Te=this.getSlide())===null||Te===void 0?void 0:Te.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",_e),_e.defaultPrevented)return;let Ie=!1;if(Ae.closest(".fancybox__content")){if(Be){if(Be.closest("[contenteditable]"))return;Ae.matches(it)||Be.blur()}if(ve())return;Ie=this.option("contentClick")}else Ae.closest(".fancybox__carousel")&&!Ae.matches(it)&&(Ie=this.option("backdropClick"));Ie==="close"?(_e.preventDefault(),this.close(_e)):Ie==="next"?(_e.preventDefault(),this.next()):Ie==="prev"&&(_e.preventDefault(),this.prev())}onWheel(_e){const Te=_e.target;let Le=this.option("wheel",_e);Te.closest(".fancybox__thumbs")&&(Le="slide");const Fe=Le==="slide",Ae=[-_e.deltaX||0,-_e.deltaY||0,-_e.detail||0].reduce(function(Ne,ze){return Math.abs(ze)>Math.abs(Ne)?ze:Ne}),Be=Math.max(-1,Math.min(1,Ae)),Ie=Date.now();this.pwt&&Ie-this.pwt<300?Fe&&_e.preventDefault():(this.pwt=Ie,this.emit("wheel",_e,Be),_e.defaultPrevented||(Le==="close"?(_e.preventDefault(),this.close(_e)):Le==="slide"&&(i(Te)||(_e.preventDefault(),this[Be>0?"prev":"next"]()))))}onKeydown(_e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const Te=_e.key,Le=this.option("keyboard");if(!Le)return;const Fe=_e.composedPath()[0],Ae=document.activeElement&&document.activeElement.classList,Be=Ae&&Ae.contains("f-button")||Fe.dataset.carouselPage||Fe.dataset.carouselIndex;if(Te!=="Escape"&&!Be&&E(Fe)&&(Fe.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(Fe.nodeName)!==-1)||(_e.key==="Tab"?P(this.container,oe):S(this.container,oe),_e.ctrlKey||_e.altKey||_e.shiftKey))return;this.emit("keydown",Te,_e);const Ie=Le[Te];Ie&&typeof this[Ie]=="function"&&(_e.preventDefault(),this[Ie]())}onResize(){const _e=this.container;if(!_e)return;const Te=this.isCompact;_e.classList.toggle(re,Te),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(_e){this.isTopmost()&&this.checkFocus(_e)}onMousemove(_e){this.prevMouseMoveEvent=_e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(_e){const Te=this.optionFor(_e,"closeButton")||!1;if(Te==="auto"){const Fe=this.plugins.Toolbar;if(Fe&&Fe.state===Vt.Ready)return}if(!Te||!_e.contentEl||_e.closeBtnEl)return;const Le=this.option("tpl.closeButton");if(Le){const Fe=n(this.localize(Le));_e.closeBtnEl=_e.contentEl.appendChild(Fe),_e.el&&P(_e.el,"has-close-btn")}}manageCaption(_e=void 0){var Te,Le;const Fe="fancybox__caption",Ae=this.container;if(!Ae)return;S(Ae,he);const Be=this.isCompact||this.option("commonCaption"),Ie=!Be;if(this.caption&&this.stop(this.caption),Ie&&this.caption&&(this.caption.remove(),this.caption=null),Be&&!this.caption)for(const je of((Te=this.carousel)===null||Te===void 0?void 0:Te.slides)||[])je.captionEl&&(je.captionEl.remove(),je.captionEl=void 0,S(je.el,he),(Le=je.el)===null||Le===void 0||Le.removeAttribute("aria-labelledby"));if(_e||(_e=this.getSlide()),!_e||Be&&!this.isCurrentSlide(_e))return;const Ne=_e.el;let ze=this.optionFor(_e,"caption","");if(!ze)return void(Be&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let Ue=null;if(Ie){if(Ue=_e.captionEl||null,Ne&&!Ue){const je=Fe+`_${this.id}_${_e.index}`;Ue=document.createElement("div"),P(Ue,Fe),Ue.setAttribute("id",je),_e.captionEl=Ne.appendChild(Ue),P(Ne,he),Ne.setAttribute("aria-labelledby",je)}}else Ue=this.caption,Ue||(Ue=Ae.querySelector("."+Fe)),!Ue&&(Ue=document.createElement("div"),Ue.dataset.fancyboxCaption="",P(Ue,Fe),(this.footer||Ae).prepend(Ue)),P(Ae,he),this.caption=Ue;Ue&&(Ue.innerHTML="",me(ze)||typeof ze=="number"?Ue.innerHTML=ze+"":ze instanceof HTMLElement&&Ue.appendChild(ze))}checkFocus(_e){this.focus(_e)}focus(_e){var Te;if(this.ignoreFocusChange)return;const Le=document.activeElement||null,Fe=(_e==null?void 0:_e.target)||null,Ae=this.container,Be=(Te=this.carousel)===null||Te===void 0?void 0:Te.viewport;if(!Ae||!Be||!_e&&Le&&Ae.contains(Le))return;const Ie=this.getSlide(),Ne=Ie&&Ie.state===rt.Ready?Ie.el:null;if(!Ne||Ne.contains(Le)||Ae===Le)return;_e&&_e.cancelable&&_e.preventDefault(),this.ignoreFocusChange=!0;const ze=Array.from(Ae.querySelectorAll(it));let Ue=[],je=null;for(let Ze of ze){const Ke=!Ze.offsetParent||!!Ze.closest('[aria-hidden="true"]'),Je=Ne&&Ne.contains(Ze),ei=!Be.contains(Ze);if(Ze===Ae||(Je||ei)&&!Ke){Ue.push(Ze);const ni=Ze.dataset.origTabindex;ni!==void 0&&ni&&(Ze.tabIndex=parseFloat(ni)),Ze.removeAttribute("data-orig-tabindex"),!Ze.hasAttribute("autoFocus")&&je||(je=Ze)}else{const ni=Ze.dataset.origTabindex===void 0?Ze.getAttribute("tabindex")||"":Ze.dataset.origTabindex;ni&&(Ze.dataset.origTabindex=ni),Ze.tabIndex=-1}}let Ve=null;_e?(!Fe||Ue.indexOf(Fe)<0)&&(Ve=je||Ae,Ue.length&&(Le===we?Ve=Ue[0]:this.lastFocus!==Ae&&Le!==ye||(Ve=Ue[Ue.length-1]))):Ve=Ie&&Ie.type==="image"?Ae:je||Ae,Ve&&nt(Ve),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const _e=this.carousel;_e&&_e.pages.length>1&&_e.slideNext()}prev(){const _e=this.carousel;_e&&_e.pages.length>1&&_e.slidePrev()}jumpTo(..._e){this.carousel&&this.carousel.slideTo(..._e)}isTopmost(){var _e;return((_e=Ce.getInstance())===null||_e===void 0?void 0:_e.id)==this.id}animate(_e=null,Te="",Le){if(!_e||!Te)return void(Le&&Le());this.stop(_e);const Fe=Ae=>{Ae.target===_e&&_e.dataset.animationName&&(_e.removeEventListener("animationend",Fe),delete _e.dataset.animationName,Le&&Le(),S(_e,Te))};_e.dataset.animationName=Te,_e.addEventListener("animationend",Fe),P(_e,Te)}stop(_e){_e&&_e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:_e}))}setContent(_e,Te="",Le=!0){if(this.isClosing())return;const Fe=_e.el;if(!Fe)return;let Ae=null;if(E(Te)?Ae=Te:(Ae=n(Te+""),E(Ae)||(Ae=document.createElement("div"),Ae.innerHTML=Te+"")),["img","picture","iframe","video","audio"].includes(Ae.nodeName.toLowerCase())){const Be=document.createElement("div");Be.appendChild(Ae),Ae=Be}E(Ae)&&_e.filter&&!_e.error&&(Ae=Ae.querySelector(_e.filter)),Ae&&E(Ae)?(P(Ae,"fancybox__content"),_e.id&&Ae.setAttribute("id",_e.id),Ae.style.display!=="none"&&getComputedStyle(Ae).getPropertyValue("display")!=="none"||(Ae.style.display=_e.display||this.option("defaultDisplay")||"flex"),Fe.classList.add(`has-${_e.error?"error":_e.type||"unknown"}`),Fe.prepend(Ae),_e.contentEl=Ae,Le&&this.revealContent(_e),this.manageCloseBtn(_e),this.manageCaption(_e)):this.setError(_e,"{{ELEMENT_NOT_FOUND}}")}revealContent(_e,Te){const Le=_e.el,Fe=_e.contentEl;Le&&Fe&&(this.emit("reveal",_e),this.hideLoading(_e),_e.state=rt.Opening,(Te=this.isOpeningSlide(_e)?Te===void 0?this.optionFor(_e,"showClass"):Te:"f-fadeIn")?this.animate(Fe,Te,()=>{this.done(_e)}):this.done(_e))}done(_e){this.isClosing()||(_e.state=rt.Ready,this.emit("done",_e),P(_e.el,"is-done"),this.isCurrentSlide(_e)&&this.option("autoFocus")&&queueMicrotask(()=>{var Te;(Te=_e.panzoom)===null||Te===void 0||Te.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(_e)&&(S(this.container,ce),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(_e){const Te=this.getSlide();return!(!_e||!Te)&&Te.index===_e.index}isOpeningSlide(_e){var Te,Le;return((Te=this.carousel)===null||Te===void 0?void 0:Te.prevPage)===null&&_e&&_e.index===((Le=this.getSlide())===null||Le===void 0?void 0:Le.index)}showLoading(_e){_e.state=rt.Loading;const Te=_e.el;Te&&(P(Te,le),this.emit("loading",_e),_e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!_e.spinnerEl&&_e.state===rt.Loading){let Le=n(x);P(Le,"fancybox-spinner"),_e.spinnerEl=Le,Te.prepend(Le),this.animate(Le,"f-fadeIn")}},250))}hideLoading(_e){const Te=_e.el;if(!Te)return;const Le=_e.spinnerEl;this.isClosing()?Le==null||Le.remove():(S(Te,le),Le&&this.animate(Le,"f-fadeOut",()=>{Le.remove()}),_e.state===rt.Loading&&(this.emit("loaded",_e),_e.state=rt.Ready))}setError(_e,Te){if(this.isClosing())return;const Le=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",Le,_e),Le.defaultPrevented)return;_e.error=Te,this.hideLoading(_e),this.clearContent(_e);const Fe=document.createElement("div");Fe.classList.add("fancybox-error"),Fe.innerHTML=this.localize(Te||"<p>{{ERROR}}</p>"),this.setContent(_e,Fe)}clearContent(_e){if(_e.state===void 0)return;this.emit("clearContent",_e),_e.contentEl&&(_e.contentEl.remove(),_e.contentEl=void 0);const Te=_e.el;Te&&(S(Te,"has-error"),S(Te,"has-unknown"),S(Te,`has-${_e.type||"unknown"}`)),_e.closeBtnEl&&_e.closeBtnEl.remove(),_e.closeBtnEl=void 0,_e.captionEl&&_e.captionEl.remove(),_e.captionEl=void 0,_e.spinnerEl&&_e.spinnerEl.remove(),_e.spinnerEl=void 0}getSlide(){var _e;const Te=this.carousel;return((_e=Te==null?void 0:Te.pages[Te==null?void 0:Te.page])===null||_e===void 0?void 0:_e.slides[0])||void 0}close(_e,Te){if(this.isClosing())return;const Le=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",Le,_e),Le.defaultPrevented)return;_e&&_e.cancelable&&(_e.preventDefault(),_e.stopPropagation());const Fe=()=>{this.proceedClose(_e,Te)};this.startedFs&&be&&be.isFullscreen()?Promise.resolve(be.exit()).then(()=>Fe()):Fe()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(_e=!1){const Te=()=>{this.clearIdle(),this.idle=!0,P(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(_e)Te();else{const Le=this.option("idle");Le&&(this.idleTimer=setTimeout(Te,Le))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,S(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){be&&(be.isFullscreen()?be.exit():be.request().then(()=>{this.startedFs=!0}))}isClosing(){return[at.Closing,at.CustomClosing,at.Destroy].includes(this.state)}proceedClose(_e,Te){var Le,Fe;this.state=at.Closing,this.clearIdle(),this.detachEvents();const Ae=this.container,Be=this.carousel,Ie=this.getSlide(),Ne=Ie&&this.option("placeFocusBack")?Ie.triggerEl||this.option("triggerEl"):null;if(Ne&&(Q(Ne)?nt(Ne):Ne.focus()),Ae&&(S(Ae,ce),P(Ae,"is-closing"),Ae.setAttribute(se,"true"),this.option("animated")&&P(Ae,ae),Ae.style.pointerEvents="none"),Be){Be.clearTransitions(),(Le=Be.panzoom)===null||Le===void 0||Le.destroy(),(Fe=Be.plugins.Navigation)===null||Fe===void 0||Fe.detach();for(const ze of Be.slides){ze.state=rt.Closing,this.hideLoading(ze);const Ue=ze.contentEl;Ue&&this.stop(Ue);const je=ze==null?void 0:ze.panzoom;je&&(je.stop(),je.detachEvents(),je.detachObserver()),this.isCurrentSlide(ze)||Be.emit("removeSlide",ze)}}this.emit("close",_e),this.state!==at.CustomClosing?(Te===void 0&&Ie&&(Te=this.optionFor(Ie,"hideClass")),Te&&Ie?(this.animate(Ie.contentEl,Te,()=>{Be&&Be.emit("removeSlide",Ie)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var _e;if(this.state===at.Destroy)return;this.state=at.Destroy,(_e=this.carousel)===null||_e===void 0||_e.destroy();const Te=this.container;Te&&Te.remove(),Se.delete(this.id);const Le=Ce.getInstance();Le?Le.focus():(ye&&(ye.remove(),ye=null),we&&(we.remove(),we=null),S(document.documentElement,te),(()=>{if(!tt)return;const Fe=document,Ae=Fe.body;Ae.classList.remove(ee),Ae.style.setProperty(ne,""),Fe.documentElement.style.setProperty(ie,"")})(),this.emit("destroy"))}static bind(_e,Te,Le){if(!tt)return;let Fe,Ae="",Be={};if(_e===void 0?Fe=document.body:me(_e)?(Fe=document.body,Ae=_e,typeof Te=="object"&&(Be=Te||{})):(Fe=_e,me(Te)&&(Ae=Te),typeof Le=="object"&&(Be=Le||{})),!Fe||!E(Fe))return;Ae=Ae||"[data-fancybox]";const Ie=Ce.openers.get(Fe)||new Map;Ie.set(Ae,Be),Ce.openers.set(Fe,Ie),Ie.size===1&&Fe.addEventListener("click",Ce.fromEvent)}static unbind(_e,Te){let Le,Fe="";if(me(_e)?(Le=document.body,Fe=_e):(Le=_e,me(Te)&&(Fe=Te)),!Le)return;const Ae=Ce.openers.get(Le);Ae&&Fe&&Ae.delete(Fe),Fe&&Ae||(Ce.openers.delete(Le),Le.removeEventListener("click",Ce.fromEvent))}static destroy(){let _e;for(;_e=Ce.getInstance();)_e.destroy();for(const Te of Ce.openers.keys())Te.removeEventListener("click",Ce.fromEvent);Ce.openers=new Map}static fromEvent(_e){if(_e.defaultPrevented||_e.button&&_e.button!==0||_e.ctrlKey||_e.metaKey||_e.shiftKey)return;let Te=_e.composedPath()[0];const Le=Te.closest("[data-fancybox-trigger]");if(Le){const Ke=Le.dataset.fancyboxTrigger||"",Je=document.querySelectorAll(`[data-fancybox="${Ke}"]`),ei=parseInt(Le.dataset.fancyboxIndex||"",10)||0;Te=Je[ei]||Te}if(!(Te&&Te instanceof Element))return;let Fe,Ae,Be,Ie;if([...Ce.openers].reverse().find(([Ke,Je])=>!(!Ke.contains(Te)||![...Je].reverse().find(([ei,ni])=>{let Qe=Te.closest(ei);return!!Qe&&(Fe=Ke,Ae=ei,Be=Qe,Ie=ni,!0)}))),!Fe||!Ae||!Be)return;Ie=Ie||{},_e.preventDefault(),Te=Be;let Ne=[],ze=u({},ot,Ie);ze.event=_e,ze.triggerEl=Te,ze.delegate=Le;const Ue=ze.groupAll,je=ze.groupAttr,Ve=je&&Te?Te.getAttribute(`${je}`):"";if((!Te||Ve||Ue)&&(Ne=[].slice.call(Fe.querySelectorAll(Ae))),Te&&!Ue&&(Ne=Ve?Ne.filter(Ke=>Ke.getAttribute(`${je}`)===Ve):[Te]),!Ne.length)return;const Ze=Ce.getInstance();return Ze&&Ze.options.triggerEl&&Ne.indexOf(Ze.options.triggerEl)>-1?void 0:(Te&&(ze.startIndex=Ne.indexOf(Te)),Ce.fromNodes(Ne,ze))}static fromSelector(_e,Te,Le){let Fe=null,Ae="",Be={};if(me(_e)?(Fe=document.body,Ae=_e,typeof Te=="object"&&(Be=Te||{})):_e instanceof HTMLElement&&me(Te)&&(Fe=_e,Ae=Te,typeof Le=="object"&&(Be=Le||{})),!Fe||!Ae)return!1;const Ie=Ce.openers.get(Fe);return!!Ie&&(Be=u({},Ie.get(Ae)||{},Be),!!Be&&Ce.fromNodes(Array.from(Fe.querySelectorAll(Ae)),Be))}static fromNodes(_e,Te){Te=u({},ot,Te||{});const Le=[];for(const Fe of _e){const Ae=Fe.dataset||{},Be=Ae[ge]||Fe.getAttribute(fe)||Fe.getAttribute("currentSrc")||Fe.getAttribute(ge)||void 0;let Ie;const Ne=Te.delegate;let ze;Ne&&Le.length===Te.startIndex&&(Ie=Ne instanceof HTMLImageElement?Ne:Ne.querySelector("img:not([aria-hidden])")),Ie||(Ie=Fe instanceof HTMLImageElement?Fe:Fe.querySelector("img:not([aria-hidden])")),Ie&&(ze=Ie.currentSrc||Ie[ge]||void 0,!ze&&Ie.dataset&&(ze=Ie.dataset.lazySrc||Ie.dataset[ge]||void 0));const Ue={src:Be,triggerEl:Fe,thumbEl:Ie,thumbElSrc:ze,thumbSrc:ze};for(const je in Ae){let Ve=Ae[je]+"";Ve=Ve!=="false"&&(Ve==="true"||Ve),Ue[je]=Ve}Le.push(Ue)}return new Ce(Le,Te)}static getInstance(_e){return _e?Se.get(_e):Array.from(Se.values()).reverse().find(Te=>!Te.isClosing()&&Te)||null}static getSlide(){var _e;return((_e=Ce.getInstance())===null||_e===void 0?void 0:_e.getSlide())||null}static show(_e=[],Te={}){return new Ce(_e,Te)}static next(){const _e=Ce.getInstance();_e&&_e.next()}static prev(){const _e=Ce.getInstance();_e&&_e.prev()}static close(_e=!0,...Te){if(_e)for(const Le of Se.values())Le.close(...Te);else{const Le=Ce.getInstance();Le&&Le.close(...Te)}}}Object.defineProperty(Ce,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.33"}),Object.defineProperty(Ce,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ot}),Object.defineProperty(Ce,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Qt}),Object.defineProperty(Ce,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});/*!
	Zoom 1.7.21
	license: MIT
	http://www.jacklmoore.com/zoom
*/(function($e){var _e={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};$e.zoom=function(Te,Le,Fe,Ae){var Be,Ie,Ne,ze,Ue,je,Ve,Ze=$e(Te),Ke=Ze.css("position"),Je=$e(Le);return Te.style.position=/(absolute|fixed)/.test(Ke)?Ke:"relative",Te.style.overflow="hidden",Fe.style.width=Fe.style.height="",$e(Fe).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:Fe.width*Ae,height:Fe.height*Ae,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(Te),{init:function(){Ie=Ze.outerWidth(),Be=Ze.outerHeight(),Le===Te?(ze=Ie,Ne=Be):(ze=Je.outerWidth(),Ne=Je.outerHeight()),Ue=(Fe.width-Ie)/ze,je=(Fe.height-Be)/Ne,Ve=Je.offset()},move:function(ei){var ni=ei.pageX-Ve.left,Qe=ei.pageY-Ve.top;Qe=Math.max(Math.min(Qe,Ne),0),ni=Math.max(Math.min(ni,ze),0),Fe.style.left=ni*-Ue+"px",Fe.style.top=Qe*-je+"px"}}},$e.fn.zoom=function(Te){return this.each(function(){var Le=$e.extend({},_e,Te||{}),Fe=Le.target&&$e(Le.target)[0]||this,Ae=this,Be=$e(Ae),Ie=document.createElement("img"),Ne=$e(Ie),ze="mousemove.zoom",Ue=!1,je=!1;if(!Le.url){var Ve=Ae.querySelector("img");if(Ve&&(Le.url=Ve.getAttribute("data-src")||Ve.currentSrc||Ve.src),!Le.url)return}Be.one("zoom.destroy",(function(Ze,Ke){Be.off(".zoom"),Fe.style.position=Ze,Fe.style.overflow=Ke,Ie.onload=null,Ne.remove()}).bind(this,Fe.style.position,Fe.style.overflow)),Ie.onload=function(){var Ze=$e.zoom(Fe,Ae,Ie,Le.magnify);function Ke(ei){Ze.init(),Ze.move(ei),Ne.stop().fadeTo($e.support.opacity?Le.duration:0,1,$e.isFunction(Le.onZoomIn)?Le.onZoomIn.call(Ie):!1)}function Je(){Ne.stop().fadeTo(Le.duration,0,$e.isFunction(Le.onZoomOut)?Le.onZoomOut.call(Ie):!1)}Le.on==="grab"?Be.on("mousedown.zoom",function(ei){ei.which===1&&($e(document).one("mouseup.zoom",function(){Je(),$e(document).off(ze,Ze.move)}),Ke(ei),$e(document).on(ze,Ze.move),ei.preventDefault())}):Le.on==="click"?Be.on("click.zoom",function(ei){if(!Ue)return Ue=!0,Ke(ei),$e(document).on(ze,Ze.move),$e(document).one("click.zoom",function(){Je(),Ue=!1,$e(document).off(ze,Ze.move)}),!1}):Le.on==="toggle"?Be.on("click.zoom",function(ei){Ue?Je():Ke(ei),Ue=!Ue}):Le.on==="mouseover"&&(Ze.init(),Be.on("mouseenter.zoom",Ke).on("mouseleave.zoom",Je).on(ze,Ze.move)),Le.touch&&Be.on("touchstart.zoom",function(ei){ei.preventDefault(),je?(je=!1,Je()):(je=!0,Ke(ei.originalEvent.touches[0]||ei.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(ei){ei.preventDefault(),Ze.move(ei.originalEvent.touches[0]||ei.originalEvent.changedTouches[0])}).on("touchend.zoom",function(ei){ei.preventDefault(),je&&(je=!1,Je())}),$e.isFunction(Le.callback)&&Le.callback.call(Ie)},Ie.setAttribute("role","presentation"),Ie.alt="",Ie.src=Le.url})},$e.fn.zoom.defaults=_e})($$4);let inputs=$$4("#product-options input:not([name='_token'])"),block$2=new KTBlockUI(document.body,{overlayClass:"bigLoading blockui"});inputs.filter(function(){return $$4(this).data("real")===!0}).on("change",function(){let $e=$$4("#product-options").serializeArray();$$4.ajax({type:"POST",url:"/api/product",data:$e,beforeSend:function(){block$2.block()},success:function(_e){if(block$2.release(),!_e.regular_price)console.log(_e.unavailable_options===!0),_e.unavailable_options===!0?($$4("#main-cart-price-details").html(""),$$4(".sticky-price-time").html("<span class='tw-text-sm tw-text-[var(--primary)]'>این ترکیب موجود نیست</span>"),$$4(".sticky-add-to-cart-btn").html(""),$$4("#main-cart-price-details").html("<div><div class='mb-3 text-danger'><b>این ترکیب موجود نیست</b></div><div class='tw-text-sm text-muted'>لطفا ترکیب ویژگی های انتخاب شده را تغییر دهید</div></div>")):($$4("#main-cart-price-details").html(""),$$4("#main-cart-price-details").html(B$4(y$2(BellProduct,{}),document.getElementById("main-cart-price-details"))),$$4(".sticky-price-time").html("<span class='tw-text-sm tw-text-[var(--primary)]'>ناموجود</span>"),$$4(".sticky-add-to-cart-btn").html(""),$$4(".sticky-add-to-cart-btn").append('<button class="btn custom-btn-primary btn-sm btn-block tw-rounded-xl tw-w-full mt-3 tw-px-3 let-me-know"> <i class="fa-solid fa-bell tw-ml-2"></i> خبرم کن </button>'),letmeknow()),$$4("#product-sticky-thumbnail").attr("src",_e.images[0]),$$4(".productImage .swiper-wrapper .swiper-slide").remove(),$$4(".productImages .swiper-wrapper .swiper-slide").remove(),_e==null||_e.images.forEach(Te=>{$$4(".productImage .swiper-wrapper").append($$4("<div>").addClass("swiper-slide").append($$4("<img>").addClass("tw-block tw-relative tw-w-full tw-h-full tw-object-cover tw-rounded-2xl").attr("src",Te))),$$4(".productImages .swiper-wrapper").append($$4("<div>").addClass("swiper-slide").append($$4("<img>").addClass("tw-block tw-relative tw-w-full tw-h-full tw-object-cover tw-rounded-xl").attr("src",Te)))}),productImage.update(),productImages.update(),productImage.slides.forEach(function(Te){$$4(Te).find("img").addClass("zoom"),zoomElm(Te.querySelector("img.zoom"))});else{$$4("#main-cart-price-details").html(""),$$4("#main-cart-price-details").html(B$4(y$2(PriceProduct,_e),document.getElementById("main-cart-price-details"))),$$4(".sticky-price-time").html('<div class="tw-text-sm md:tw-text-base"> <span class="tw-text-gray-600 tw-font-semibold"> <i class="fa-solid fa-tag"></i> قیمت : </span> <span class="tw-font-semibold tw-text-gray-700 price-sticky-tag" ></span > </div> <div class="tw-text-sm md:tw-text-base"> <span class="tw-text-gray-600 tw-font-semibold"> <i class="fa-solid fa-truck-clock"></i> زمان تحویل: </span> <span class="tw-font-semibold tw-text-gray-700 time_delivery_sticky_tag" > </span> </div>'),$$4(".price-sticky-tag").text(_e.regular_price),$$4(".time_delivery_sticky_tag").text(_e.time_delivery),$$4(".sticky-add-to-cart-btn").html("").html('<button class="btn custom-btn-primary tw-rounded-xl tw-py-2 btn-sm add-to-cart-main-btn"> <i class="fa-solid fa-basket-shopping tw-ml-2"></i> افزودن به سبد خرید </button>');const Te=$$4("<div>").addClass("tw-w-full tw-pt-4 border-top tw-flex-row tw-flex tw-items-center tw-justify-between").append($$4("<button>").addClass("btn tw-bg-emerald-400 hover:tw-bg-emerald-500 hover:tw-text-white tw-text-white tw-rounded-xl tw-text-sm tw-w-max wishlist-btn").attr("data-bs-toggle","tooltip").attr("data-bs-title","This top tooltip is themed via CSS variables.").append($$4("<i>").addClass("fa-regular fa-heart"))).append($$4("<button>").addClass("btn custom-btn-primary tw-rounded-xl tw-py-2 btn-sm add-to-cart-main-btn").append($$4("<i>").addClass("fa-solid fa-basket-shopping")).text("افزودن به سبد خرید"));$$4("#main-cart-price-details").append(Te),addToCart(),wishlist(),$$4("#product-sticky-thumbnail").attr("src",_e.images[0]),$$4(".productImage .swiper-wrapper .swiper-slide").remove(),$$4(".productImages .swiper-wrapper .swiper-slide").remove(),_e==null||_e.images.forEach(Le=>{$$4(".productImage .swiper-wrapper").append($$4("<div>").addClass("swiper-slide").append($$4("<img>").addClass("tw-block tw-relative tw-w-full tw-h-full tw-object-cover tw-rounded-2xl").attr("src",Le))),$$4(".productImages .swiper-wrapper").append($$4("<div>").addClass("swiper-slide").append($$4("<img>").addClass("tw-block tw-relative tw-w-full tw-h-full tw-object-cover tw-rounded-xl").attr("src",Le)))}),productImage.update(),productImages.update(),productImage.slides.forEach(function(Le){$$4(Le).find("img").addClass("zoom"),zoomElm(Le.querySelector("img.zoom"))})}},error:function(_e,Te,Le){block$2.release(),toastr.error("مشکلی پیش آمده است")}})});function addToCart(){$$4(".add-to-cart-main-btn").on("click",function(){let $e=$$4("#product-options").serializeArray();$$4.ajax({type:"POST",url:"/api/add-to-cart",data:$e,beforeSend:function(){block$2.block()},success:function(_e){block$2.release(),toastr.success(_e.message),_e.cart&&_e.cart.count>0&&$$4(".navbar-cart span").text(_e.cart.count)},error:function(_e,Te,Le){block$2.release(),toastr.error("مشکلی پیش آمده است")}})})}addToCart();let productImages=new Swiper(".productImages",{modules:[Navigation,Thumb,freeMode],slidesPerView:5,spaceBetween:10,freeMode:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,navigation:{nextEl:"#product-images-next",prevEl:"#product-images-prev"}});var productImage=new Swiper(".productImage",{modules:[Navigation,Thumb],spaceBetween:10,slidesPerView:1,thumbs:{swiper:productImages},navigation:{nextEl:"#product-preview-images-next",prevEl:"#product-preview-images-prev"}});Ce.bind('[data-fancybox="comments"]',{});let galleries=document.querySelectorAll('img[data-fancybox="gallery"]'),newGallery=[];galleries.forEach($e=>{newGallery.push({src:$e.src,thumb:$e.src})});$$4(document).ready(function(){$$4(".zoom").length>0&&productImage.slides.forEach(function($e){$$4($e).find("img").addClass("zoom"),zoomElm($e.querySelector("img.zoom"))})});function zoomElm($e){$$4($e).wrap('<span style="display:inline-block;width:100%;height:100%"></span>').css({display:"block","border-radius":"16px"}).parent().zoom({url:$$4($e).attr("data-zoom"),magnify:1.2,callback:function(){$$4(this).on("click",function(_e){Ce.show(newGallery,{startIndex:productImage.activeIndex})})}})}function letmeknow(){$$4(".let-me-know").on("click",function(){document.cookie.split(";").filter(_e=>_e.includes("token="))[0].split("=")[1]?$$4.ajax({type:"POST",url:"/api/letmeknow",data:{url:window.location.href,options:$$4("#product-options").serializeArray()},beforeSend:function(){block$2.block()},success:function(_e){block$2.release(),toastr.success(_e.message)},error:function(_e,Te,Le){block$2.release(),toastr.error("مشکلی پیش آمده است")}}):window.location.href="/login"})}letmeknow();function wishlist(){$$4(".wishlist-btn").on("click",function(){$$4.ajax({type:"POST",url:"/api/wishlist",data:{param:{product:$$4("input[name='param[product]']").val()}},beforeSend:function(){block$2.block()},success:function($e){block$2.release(),toastr.success($e.message)},error:function($e,_e,Te){block$2.release(),toastr.error("مشکلی پیش آمده است")}})})}wishlist();function dotsWrapperHtmlString(){const $e=document.createElement("div");return $e.classList.add("tg-dialog-dots"),$e.id="tg-dialog-dots",$e.outerHTML}const computeDots=$e=>{let _e="";return $e.tourSteps.length&&$e.tourSteps.forEach((Te,Le)=>{const Fe=document.createElement("span");Fe.classList.add("tg-dot"),Le===$e.activeStep&&Fe.classList.add("tg-dot-active"),_e+=Fe.outerHTML}),_e},sides=["top","right","bottom","left"],alignments=["start","end"],placements=sides.reduce(($e,_e)=>$e.concat(_e,_e+"-"+alignments[0],_e+"-"+alignments[1]),[]),min=Math.min,max=Math.max,round=Math.round,createCoords=$e=>({x:$e,y:$e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp($e,_e,Te){return max($e,min(_e,Te))}function evaluate($e,_e){return typeof $e=="function"?$e(_e):$e}function getSide($e){return $e.split("-")[0]}function getAlignment($e){return $e.split("-")[1]}function getOppositeAxis($e){return $e==="x"?"y":"x"}function getAxisLength($e){return $e==="y"?"height":"width"}function getSideAxis($e){return["top","bottom"].includes(getSide($e))?"y":"x"}function getAlignmentAxis($e){return getOppositeAxis(getSideAxis($e))}function getAlignmentSides($e,_e,Te){Te===void 0&&(Te=!1);const Le=getAlignment($e),Fe=getAlignmentAxis($e),Ae=getAxisLength(Fe);let Be=Fe==="x"?Le===(Te?"end":"start")?"right":"left":Le==="start"?"bottom":"top";return _e.reference[Ae]>_e.floating[Ae]&&(Be=getOppositePlacement(Be)),[Be,getOppositePlacement(Be)]}function getOppositeAlignmentPlacement($e){return $e.replace(/start|end/g,_e=>oppositeAlignmentMap[_e])}function getOppositePlacement($e){return $e.replace(/left|right|bottom|top/g,_e=>oppositeSideMap[_e])}function expandPaddingObject($e){return{top:0,right:0,bottom:0,left:0,...$e}}function getPaddingObject($e){return typeof $e!="number"?expandPaddingObject($e):{top:$e,right:$e,bottom:$e,left:$e}}function rectToClientRect($e){return{...$e,top:$e.y,left:$e.x,right:$e.x+$e.width,bottom:$e.y+$e.height}}function computeCoordsFromPlacement($e,_e,Te){let{reference:Le,floating:Fe}=$e;const Ae=getSideAxis(_e),Be=getAlignmentAxis(_e),Ie=getAxisLength(Be),Ne=getSide(_e),ze=Ae==="y",Ue=Le.x+Le.width/2-Fe.width/2,je=Le.y+Le.height/2-Fe.height/2,Ve=Le[Ie]/2-Fe[Ie]/2;let Ze;switch(Ne){case"top":Ze={x:Ue,y:Le.y-Fe.height};break;case"bottom":Ze={x:Ue,y:Le.y+Le.height};break;case"right":Ze={x:Le.x+Le.width,y:je};break;case"left":Ze={x:Le.x-Fe.width,y:je};break;default:Ze={x:Le.x,y:Le.y}}switch(getAlignment(_e)){case"start":Ze[Be]-=Ve*(Te&&ze?-1:1);break;case"end":Ze[Be]+=Ve*(Te&&ze?-1:1);break}return Ze}const computePosition$1=async($e,_e,Te)=>{const{placement:Le="bottom",strategy:Fe="absolute",middleware:Ae=[],platform:Be}=Te,Ie=Ae.filter(Boolean),Ne=await(Be.isRTL==null?void 0:Be.isRTL(_e));let ze=await Be.getElementRects({reference:$e,floating:_e,strategy:Fe}),{x:Ue,y:je}=computeCoordsFromPlacement(ze,Le,Ne),Ve=Le,Ze={},Ke=0;for(let Je=0;Je<Ie.length;Je++){const{name:ei,fn:ni}=Ie[Je],{x:Qe,y:ii,data:ai,reset:di}=await ni({x:Ue,y:je,initialPlacement:Le,placement:Ve,strategy:Fe,middlewareData:Ze,rects:ze,platform:Be,elements:{reference:$e,floating:_e}});Ue=Qe??Ue,je=ii??je,Ze={...Ze,[ei]:{...Ze[ei],...ai}},di&&Ke<=50&&(Ke++,typeof di=="object"&&(di.placement&&(Ve=di.placement),di.rects&&(ze=di.rects===!0?await Be.getElementRects({reference:$e,floating:_e,strategy:Fe}):di.rects),{x:Ue,y:je}=computeCoordsFromPlacement(ze,Ve,Ne)),Je=-1)}return{x:Ue,y:je,placement:Ve,strategy:Fe,middlewareData:Ze}};async function detectOverflow($e,_e){var Te;_e===void 0&&(_e={});const{x:Le,y:Fe,platform:Ae,rects:Be,elements:Ie,strategy:Ne}=$e,{boundary:ze="clippingAncestors",rootBoundary:Ue="viewport",elementContext:je="floating",altBoundary:Ve=!1,padding:Ze=0}=evaluate(_e,$e),Ke=getPaddingObject(Ze),ei=Ie[Ve?je==="floating"?"reference":"floating":je],ni=rectToClientRect(await Ae.getClippingRect({element:(Te=await(Ae.isElement==null?void 0:Ae.isElement(ei)))==null||Te?ei:ei.contextElement||await(Ae.getDocumentElement==null?void 0:Ae.getDocumentElement(Ie.floating)),boundary:ze,rootBoundary:Ue,strategy:Ne})),Qe=je==="floating"?{...Be.floating,x:Le,y:Fe}:Be.reference,ii=await(Ae.getOffsetParent==null?void 0:Ae.getOffsetParent(Ie.floating)),ai=await(Ae.isElement==null?void 0:Ae.isElement(ii))?await(Ae.getScale==null?void 0:Ae.getScale(ii))||{x:1,y:1}:{x:1,y:1},di=rectToClientRect(Ae.convertOffsetParentRelativeRectToViewportRelativeRect?await Ae.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Ie,rect:Qe,offsetParent:ii,strategy:Ne}):Qe);return{top:(ni.top-di.top+Ke.top)/ai.y,bottom:(di.bottom-ni.bottom+Ke.bottom)/ai.y,left:(ni.left-di.left+Ke.left)/ai.x,right:(di.right-ni.right+Ke.right)/ai.x}}const arrow$1=$e=>({name:"arrow",options:$e,async fn(_e){const{x:Te,y:Le,placement:Fe,rects:Ae,platform:Be,elements:Ie,middlewareData:Ne}=_e,{element:ze,padding:Ue=0}=evaluate($e,_e)||{};if(ze==null)return{};const je=getPaddingObject(Ue),Ve={x:Te,y:Le},Ze=getAlignmentAxis(Fe),Ke=getAxisLength(Ze),Je=await Be.getDimensions(ze),ei=Ze==="y",ni=ei?"top":"left",Qe=ei?"bottom":"right",ii=ei?"clientHeight":"clientWidth",ai=Ae.reference[Ke]+Ae.reference[Ze]-Ve[Ze]-Ae.floating[Ke],di=Ve[Ze]-Ae.reference[Ze],vi=await(Be.getOffsetParent==null?void 0:Be.getOffsetParent(ze));let bi=vi?vi[ii]:0;(!bi||!await(Be.isElement==null?void 0:Be.isElement(vi)))&&(bi=Ie.floating[ii]||Ae.floating[Ke]);const xi=ai/2-di/2,mi=bi/2-Je[Ke]/2-1,li=min(je[ni],mi),wi=min(je[Qe],mi),Li=li,Ti=bi-Je[Ke]-wi,Oi=bi/2-Je[Ke]/2+xi,Di=clamp(Li,Oi,Ti),Ri=!Ne.arrow&&getAlignment(Fe)!=null&&Oi!==Di&&Ae.reference[Ke]/2-(Oi<Li?li:wi)-Je[Ke]/2<0,fn=Ri?Oi<Li?Oi-Li:Oi-Ti:0;return{[Ze]:Ve[Ze]+fn,data:{[Ze]:Di,centerOffset:Oi-Di-fn,...Ri&&{alignmentOffset:fn}},reset:Ri}}});function getPlacementList($e,_e,Te){return($e?[...Te.filter(Fe=>getAlignment(Fe)===$e),...Te.filter(Fe=>getAlignment(Fe)!==$e)]:Te.filter(Fe=>getSide(Fe)===Fe)).filter(Fe=>$e?getAlignment(Fe)===$e||(_e?getOppositeAlignmentPlacement(Fe)!==Fe:!1):!0)}const autoPlacement$1=function($e){return $e===void 0&&($e={}),{name:"autoPlacement",options:$e,async fn(_e){var Te,Le,Fe;const{rects:Ae,middlewareData:Be,placement:Ie,platform:Ne,elements:ze}=_e,{crossAxis:Ue=!1,alignment:je,allowedPlacements:Ve=placements,autoAlignment:Ze=!0,...Ke}=evaluate($e,_e),Je=je!==void 0||Ve===placements?getPlacementList(je||null,Ze,Ve):Ve,ei=await detectOverflow(_e,Ke),ni=((Te=Be.autoPlacement)==null?void 0:Te.index)||0,Qe=Je[ni];if(Qe==null)return{};const ii=getAlignmentSides(Qe,Ae,await(Ne.isRTL==null?void 0:Ne.isRTL(ze.floating)));if(Ie!==Qe)return{reset:{placement:Je[0]}};const ai=[ei[getSide(Qe)],ei[ii[0]],ei[ii[1]]],di=[...((Le=Be.autoPlacement)==null?void 0:Le.overflows)||[],{placement:Qe,overflows:ai}],vi=Je[ni+1];if(vi)return{data:{index:ni+1,overflows:di},reset:{placement:vi}};const bi=di.map(li=>{const wi=getAlignment(li.placement);return[li.placement,wi&&Ue?li.overflows.slice(0,2).reduce((Li,Ti)=>Li+Ti,0):li.overflows[0],li.overflows]}).sort((li,wi)=>li[1]-wi[1]),mi=((Fe=bi.filter(li=>li[2].slice(0,getAlignment(li[0])?2:3).every(wi=>wi<=0))[0])==null?void 0:Fe[0])||bi[0][0];return mi!==Ie?{data:{index:ni+1,overflows:di},reset:{placement:mi}}:{}}}};async function convertValueToCoords($e,_e){const{placement:Te,platform:Le,elements:Fe}=$e,Ae=await(Le.isRTL==null?void 0:Le.isRTL(Fe.floating)),Be=getSide(Te),Ie=getAlignment(Te),Ne=getSideAxis(Te)==="y",ze=["left","top"].includes(Be)?-1:1,Ue=Ae&&Ne?-1:1,je=evaluate(_e,$e);let{mainAxis:Ve,crossAxis:Ze,alignmentAxis:Ke}=typeof je=="number"?{mainAxis:je,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...je};return Ie&&typeof Ke=="number"&&(Ze=Ie==="end"?Ke*-1:Ke),Ne?{x:Ze*Ue,y:Ve*ze}:{x:Ve*ze,y:Ze*Ue}}const offset$1=function($e){return $e===void 0&&($e=0),{name:"offset",options:$e,async fn(_e){var Te,Le;const{x:Fe,y:Ae,placement:Be,middlewareData:Ie}=_e,Ne=await convertValueToCoords(_e,$e);return Be===((Te=Ie.offset)==null?void 0:Te.placement)&&(Le=Ie.arrow)!=null&&Le.alignmentOffset?{}:{x:Fe+Ne.x,y:Ae+Ne.y,data:{...Ne,placement:Be}}}}},shift$1=function($e){return $e===void 0&&($e={}),{name:"shift",options:$e,async fn(_e){const{x:Te,y:Le,placement:Fe}=_e,{mainAxis:Ae=!0,crossAxis:Be=!1,limiter:Ie={fn:ei=>{let{x:ni,y:Qe}=ei;return{x:ni,y:Qe}}},...Ne}=evaluate($e,_e),ze={x:Te,y:Le},Ue=await detectOverflow(_e,Ne),je=getSideAxis(getSide(Fe)),Ve=getOppositeAxis(je);let Ze=ze[Ve],Ke=ze[je];if(Ae){const ei=Ve==="y"?"top":"left",ni=Ve==="y"?"bottom":"right",Qe=Ze+Ue[ei],ii=Ze-Ue[ni];Ze=clamp(Qe,Ze,ii)}if(Be){const ei=je==="y"?"top":"left",ni=je==="y"?"bottom":"right",Qe=Ke+Ue[ei],ii=Ke-Ue[ni];Ke=clamp(Qe,Ke,ii)}const Je=Ie.fn({..._e,[Ve]:Ze,[je]:Ke});return{...Je,data:{x:Je.x-Te,y:Je.y-Le}}}}};function getNodeName($e){return isNode($e)?($e.nodeName||"").toLowerCase():"#document"}function getWindow($e){var _e;return($e==null||(_e=$e.ownerDocument)==null?void 0:_e.defaultView)||window}function getDocumentElement($e){var _e;return(_e=(isNode($e)?$e.ownerDocument:$e.document)||window.document)==null?void 0:_e.documentElement}function isNode($e){return $e instanceof Node||$e instanceof getWindow($e).Node}function isElement($e){return $e instanceof Element||$e instanceof getWindow($e).Element}function isHTMLElement($e){return $e instanceof HTMLElement||$e instanceof getWindow($e).HTMLElement}function isShadowRoot($e){return typeof ShadowRoot>"u"?!1:$e instanceof ShadowRoot||$e instanceof getWindow($e).ShadowRoot}function isOverflowElement($e){const{overflow:_e,overflowX:Te,overflowY:Le,display:Fe}=getComputedStyle$1($e);return/auto|scroll|overlay|hidden|clip/.test(_e+Le+Te)&&!["inline","contents"].includes(Fe)}function isTableElement($e){return["table","td","th"].includes(getNodeName($e))}function isContainingBlock($e){const _e=isWebKit(),Te=getComputedStyle$1($e);return Te.transform!=="none"||Te.perspective!=="none"||(Te.containerType?Te.containerType!=="normal":!1)||!_e&&(Te.backdropFilter?Te.backdropFilter!=="none":!1)||!_e&&(Te.filter?Te.filter!=="none":!1)||["transform","perspective","filter"].some(Le=>(Te.willChange||"").includes(Le))||["paint","layout","strict","content"].some(Le=>(Te.contain||"").includes(Le))}function getContainingBlock($e){let _e=getParentNode($e);for(;isHTMLElement(_e)&&!isLastTraversableNode(_e);){if(isContainingBlock(_e))return _e;_e=getParentNode(_e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode($e){return["html","body","#document"].includes(getNodeName($e))}function getComputedStyle$1($e){return getWindow($e).getComputedStyle($e)}function getNodeScroll($e){return isElement($e)?{scrollLeft:$e.scrollLeft,scrollTop:$e.scrollTop}:{scrollLeft:$e.pageXOffset,scrollTop:$e.pageYOffset}}function getParentNode($e){if(getNodeName($e)==="html")return $e;const _e=$e.assignedSlot||$e.parentNode||isShadowRoot($e)&&$e.host||getDocumentElement($e);return isShadowRoot(_e)?_e.host:_e}function getNearestOverflowAncestor($e){const _e=getParentNode($e);return isLastTraversableNode(_e)?$e.ownerDocument?$e.ownerDocument.body:$e.body:isHTMLElement(_e)&&isOverflowElement(_e)?_e:getNearestOverflowAncestor(_e)}function getOverflowAncestors($e,_e,Te){var Le;_e===void 0&&(_e=[]),Te===void 0&&(Te=!0);const Fe=getNearestOverflowAncestor($e),Ae=Fe===((Le=$e.ownerDocument)==null?void 0:Le.body),Be=getWindow(Fe);return Ae?_e.concat(Be,Be.visualViewport||[],isOverflowElement(Fe)?Fe:[],Be.frameElement&&Te?getOverflowAncestors(Be.frameElement):[]):_e.concat(Fe,getOverflowAncestors(Fe,[],Te))}function getCssDimensions($e){const _e=getComputedStyle$1($e);let Te=parseFloat(_e.width)||0,Le=parseFloat(_e.height)||0;const Fe=isHTMLElement($e),Ae=Fe?$e.offsetWidth:Te,Be=Fe?$e.offsetHeight:Le,Ie=round(Te)!==Ae||round(Le)!==Be;return Ie&&(Te=Ae,Le=Be),{width:Te,height:Le,$:Ie}}function unwrapElement($e){return isElement($e)?$e:$e.contextElement}function getScale($e){const _e=unwrapElement($e);if(!isHTMLElement(_e))return createCoords(1);const Te=_e.getBoundingClientRect(),{width:Le,height:Fe,$:Ae}=getCssDimensions(_e);let Be=(Ae?round(Te.width):Te.width)/Le,Ie=(Ae?round(Te.height):Te.height)/Fe;return(!Be||!Number.isFinite(Be))&&(Be=1),(!Ie||!Number.isFinite(Ie))&&(Ie=1),{x:Be,y:Ie}}const noOffsets=createCoords(0);function getVisualOffsets($e){const _e=getWindow($e);return!isWebKit()||!_e.visualViewport?noOffsets:{x:_e.visualViewport.offsetLeft,y:_e.visualViewport.offsetTop}}function shouldAddVisualOffsets($e,_e,Te){return _e===void 0&&(_e=!1),!Te||_e&&Te!==getWindow($e)?!1:_e}function getBoundingClientRect($e,_e,Te,Le){_e===void 0&&(_e=!1),Te===void 0&&(Te=!1);const Fe=$e.getBoundingClientRect(),Ae=unwrapElement($e);let Be=createCoords(1);_e&&(Le?isElement(Le)&&(Be=getScale(Le)):Be=getScale($e));const Ie=shouldAddVisualOffsets(Ae,Te,Le)?getVisualOffsets(Ae):createCoords(0);let Ne=(Fe.left+Ie.x)/Be.x,ze=(Fe.top+Ie.y)/Be.y,Ue=Fe.width/Be.x,je=Fe.height/Be.y;if(Ae){const Ve=getWindow(Ae),Ze=Le&&isElement(Le)?getWindow(Le):Le;let Ke=Ve,Je=Ke.frameElement;for(;Je&&Le&&Ze!==Ke;){const ei=getScale(Je),ni=Je.getBoundingClientRect(),Qe=getComputedStyle$1(Je),ii=ni.left+(Je.clientLeft+parseFloat(Qe.paddingLeft))*ei.x,ai=ni.top+(Je.clientTop+parseFloat(Qe.paddingTop))*ei.y;Ne*=ei.x,ze*=ei.y,Ue*=ei.x,je*=ei.y,Ne+=ii,ze+=ai,Ke=getWindow(Je),Je=Ke.frameElement}}return rectToClientRect({width:Ue,height:je,x:Ne,y:ze})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer($e){return topLayerSelectors.some(_e=>{try{return $e.matches(_e)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect($e){let{elements:_e,rect:Te,offsetParent:Le,strategy:Fe}=$e;const Ae=Fe==="fixed",Be=getDocumentElement(Le),Ie=_e?isTopLayer(_e.floating):!1;if(Le===Be||Ie&&Ae)return Te;let Ne={scrollLeft:0,scrollTop:0},ze=createCoords(1);const Ue=createCoords(0),je=isHTMLElement(Le);if((je||!je&&!Ae)&&((getNodeName(Le)!=="body"||isOverflowElement(Be))&&(Ne=getNodeScroll(Le)),isHTMLElement(Le))){const Ve=getBoundingClientRect(Le);ze=getScale(Le),Ue.x=Ve.x+Le.clientLeft,Ue.y=Ve.y+Le.clientTop}return{width:Te.width*ze.x,height:Te.height*ze.y,x:Te.x*ze.x-Ne.scrollLeft*ze.x+Ue.x,y:Te.y*ze.y-Ne.scrollTop*ze.y+Ue.y}}function getClientRects($e){return Array.from($e.getClientRects())}function getWindowScrollBarX($e){return getBoundingClientRect(getDocumentElement($e)).left+getNodeScroll($e).scrollLeft}function getDocumentRect($e){const _e=getDocumentElement($e),Te=getNodeScroll($e),Le=$e.ownerDocument.body,Fe=max(_e.scrollWidth,_e.clientWidth,Le.scrollWidth,Le.clientWidth),Ae=max(_e.scrollHeight,_e.clientHeight,Le.scrollHeight,Le.clientHeight);let Be=-Te.scrollLeft+getWindowScrollBarX($e);const Ie=-Te.scrollTop;return getComputedStyle$1(Le).direction==="rtl"&&(Be+=max(_e.clientWidth,Le.clientWidth)-Fe),{width:Fe,height:Ae,x:Be,y:Ie}}function getViewportRect($e,_e){const Te=getWindow($e),Le=getDocumentElement($e),Fe=Te.visualViewport;let Ae=Le.clientWidth,Be=Le.clientHeight,Ie=0,Ne=0;if(Fe){Ae=Fe.width,Be=Fe.height;const ze=isWebKit();(!ze||ze&&_e==="fixed")&&(Ie=Fe.offsetLeft,Ne=Fe.offsetTop)}return{width:Ae,height:Be,x:Ie,y:Ne}}function getInnerBoundingClientRect($e,_e){const Te=getBoundingClientRect($e,!0,_e==="fixed"),Le=Te.top+$e.clientTop,Fe=Te.left+$e.clientLeft,Ae=isHTMLElement($e)?getScale($e):createCoords(1),Be=$e.clientWidth*Ae.x,Ie=$e.clientHeight*Ae.y,Ne=Fe*Ae.x,ze=Le*Ae.y;return{width:Be,height:Ie,x:Ne,y:ze}}function getClientRectFromClippingAncestor($e,_e,Te){let Le;if(_e==="viewport")Le=getViewportRect($e,Te);else if(_e==="document")Le=getDocumentRect(getDocumentElement($e));else if(isElement(_e))Le=getInnerBoundingClientRect(_e,Te);else{const Fe=getVisualOffsets($e);Le={..._e,x:_e.x-Fe.x,y:_e.y-Fe.y}}return rectToClientRect(Le)}function hasFixedPositionAncestor($e,_e){const Te=getParentNode($e);return Te===_e||!isElement(Te)||isLastTraversableNode(Te)?!1:getComputedStyle$1(Te).position==="fixed"||hasFixedPositionAncestor(Te,_e)}function getClippingElementAncestors($e,_e){const Te=_e.get($e);if(Te)return Te;let Le=getOverflowAncestors($e,[],!1).filter(Ie=>isElement(Ie)&&getNodeName(Ie)!=="body"),Fe=null;const Ae=getComputedStyle$1($e).position==="fixed";let Be=Ae?getParentNode($e):$e;for(;isElement(Be)&&!isLastTraversableNode(Be);){const Ie=getComputedStyle$1(Be),Ne=isContainingBlock(Be);!Ne&&Ie.position==="fixed"&&(Fe=null),(Ae?!Ne&&!Fe:!Ne&&Ie.position==="static"&&!!Fe&&["absolute","fixed"].includes(Fe.position)||isOverflowElement(Be)&&!Ne&&hasFixedPositionAncestor($e,Be))?Le=Le.filter(Ue=>Ue!==Be):Fe=Ie,Be=getParentNode(Be)}return _e.set($e,Le),Le}function getClippingRect($e){let{element:_e,boundary:Te,rootBoundary:Le,strategy:Fe}=$e;const Be=[...Te==="clippingAncestors"?getClippingElementAncestors(_e,this._c):[].concat(Te),Le],Ie=Be[0],Ne=Be.reduce((ze,Ue)=>{const je=getClientRectFromClippingAncestor(_e,Ue,Fe);return ze.top=max(je.top,ze.top),ze.right=min(je.right,ze.right),ze.bottom=min(je.bottom,ze.bottom),ze.left=max(je.left,ze.left),ze},getClientRectFromClippingAncestor(_e,Ie,Fe));return{width:Ne.right-Ne.left,height:Ne.bottom-Ne.top,x:Ne.left,y:Ne.top}}function getDimensions($e){const{width:_e,height:Te}=getCssDimensions($e);return{width:_e,height:Te}}function getRectRelativeToOffsetParent($e,_e,Te){const Le=isHTMLElement(_e),Fe=getDocumentElement(_e),Ae=Te==="fixed",Be=getBoundingClientRect($e,!0,Ae,_e);let Ie={scrollLeft:0,scrollTop:0};const Ne=createCoords(0);if(Le||!Le&&!Ae)if((getNodeName(_e)!=="body"||isOverflowElement(Fe))&&(Ie=getNodeScroll(_e)),Le){const je=getBoundingClientRect(_e,!0,Ae,_e);Ne.x=je.x+_e.clientLeft,Ne.y=je.y+_e.clientTop}else Fe&&(Ne.x=getWindowScrollBarX(Fe));const ze=Be.left+Ie.scrollLeft-Ne.x,Ue=Be.top+Ie.scrollTop-Ne.y;return{x:ze,y:Ue,width:Be.width,height:Be.height}}function getTrueOffsetParent($e,_e){return!isHTMLElement($e)||getComputedStyle$1($e).position==="fixed"?null:_e?_e($e):$e.offsetParent}function getOffsetParent($e,_e){const Te=getWindow($e);if(!isHTMLElement($e)||isTopLayer($e))return Te;let Le=getTrueOffsetParent($e,_e);for(;Le&&isTableElement(Le)&&getComputedStyle$1(Le).position==="static";)Le=getTrueOffsetParent(Le,_e);return Le&&(getNodeName(Le)==="html"||getNodeName(Le)==="body"&&getComputedStyle$1(Le).position==="static"&&!isContainingBlock(Le))?Te:Le||getContainingBlock($e)||Te}const getElementRects=async function($e){const _e=this.getOffsetParent||getOffsetParent,Te=this.getDimensions;return{reference:getRectRelativeToOffsetParent($e.reference,await _e($e.floating),$e.strategy),floating:{x:0,y:0,...await Te($e.floating)}}};function isRTL($e){return getComputedStyle$1($e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL},autoPlacement=autoPlacement$1,shift=shift$1,arrow=arrow$1,computePosition=($e,_e,Te)=>{const Le=new Map,Fe={platform,...Te},Ae={...Fe.platform,_c:Le};return computePosition$1($e,_e,{...Fe,platform:Ae})};async function createTourGuideDialog(){return this.dialog=document.createElement("div"),this.dialog.classList.add("tg-dialog"),await renderDialogHtml(this).then($e=>{this.dialog.innerHTML=$e}),document.body.append(this.dialog),!0}async function renderDialogHtml($e){$e.options.dialogClass&&$e.dialog.classList.add($e.options.dialogClass),$e.options.dialogZ&&($e.dialog.style.zIndex=String($e.options.dialogZ)),$e.dialog.style.width=$e.options.dialogWidth?$e.options.dialogWidth+"px":"auto",$e.options.dialogMaxWidth&&($e.dialog.style.maxWidth=$e.options.dialogMaxWidth+"px");let _e="";if(_e+="<div class='tg-dialog-header'>",_e+='<div class="tg-dialog-title" id="tg-dialog-title"><!-- JS rendered --></div>',$e.options.closeButton&&(_e+='<div class="tg-dialog-close-btn" id="tg-dialog-close-btn">',_e+=' <svg width="12px" height="12px" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>',_e+="</div>"),_e+='<div class="tg-dialog-spinner" id="tg-dialog-spinner">',_e+='<svg fill="#000000" width="12" height="12" viewBox="0 0 20 20" stroke="#000000" stroke-width="0.8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M10,1V3a7,7,0,1,1-7,7H1a9,9,0,1,0,9-9Z"></path> </g> </g></svg>',_e+="</div>",_e+="</div>",$e.options.progressBar&&(_e+='<div class="tg-dialog-progress-bar"><span class="tg-bar" id="tg-dialog-progbar"></span></div>'),_e+='<div class="tg-dialog-body" id="tg-dialog-body"><!-- JS rendered --></div>',$e.options.showStepDots&&$e.options.stepDotsPlacement==="body"){const Fe=dotsWrapperHtmlString();Fe&&(_e+=Fe)}_e+='<div class="tg-dialog-footer">';let Te="tg-dialog-btn",Le="false";if($e.activeStep===0&&(Le="true",Te+=" disabled"),$e.options.showButtons&&!$e.options.hidePrev&&(_e+='<button type="button" class="'+Te+'" id="tg-dialog-prev-btn" disabled="'+Le+`">${$e.options.prevLabel}</button>`),_e+='<div class="tg-dialog-footer-sup">',$e.options.showStepDots&&$e.options.stepDotsPlacement==="footer"){const Fe=dotsWrapperHtmlString();Fe&&(_e+=Fe)}return $e.options.showStepProgress&&(_e+='<span class="tg-step-progress" id="tg-step-progress"><!-- JS rendered --></span>'),_e+="</div>",$e.options.showButtons&&!$e.options.hideNext&&(_e+=`<button type="button" class="tg-dialog-btn" id="tg-dialog-next-btn">${$e.options.nextLabel}</button>`),_e+="</div>",_e+='<div id="tg-arrow" class="tg-arrow"></div><!-- end tour arrow -->',_e}function updateDialogHtml($e){return new Promise((_e,Te)=>{const Le=$e.tourSteps[$e.activeStep];Le||Te("No active step data");const Fe=document.getElementById("tg-dialog-title");Fe&&(Fe.innerHTML=Le.title?Le.title:"");const Ae=document.getElementById("tg-dialog-body");Ae&&Le&&(typeof Le.content=="string"?Ae.innerHTML=Le.content?Le.content:"":(Ae.innerHTML="",Ae.append(Le.content)));const Be=document.getElementById("tg-dialog-dots");Be&&$e.options.showStepDots&&computeDots($e)&&(Be.innerHTML=computeDots($e));const Ie=document.getElementById("tg-dialog-prev-btn");Ie&&($e.activeStep===0?(Ie.classList.add("disabled"),Ie.setAttribute("disabled","true")):(Ie.classList.remove("disabled"),Ie.removeAttribute("disabled")));const Ne=document.getElementById("tg-dialog-next-btn");Ne&&(Ne.innerHTML=$e.activeStep+1>=$e.tourSteps.length?$e.options.finishLabel:$e.options.nextLabel);const ze=document.getElementById("tg-step-progress");ze&&(ze.innerHTML=$e.activeStep+1+"/"+$e.tourSteps.length);const Ue=document.getElementById("tg-dialog-progbar");Ue&&($e.options.progressBar&&(Ue.style.backgroundColor=$e.options.progressBar),Ue.style.width=($e.activeStep+1)/$e.tourSteps.length*100+"%"),_e(!0)})}function computeDialogPosition($e){return new Promise(async _e=>{const Te=document.querySelector("#tg-arrow");let Le=$e.tourSteps[$e.activeStep].target;if(Le===document.body)return Object.assign($e.dialog.style,{top:`${window.innerHeight/2.25-$e.dialog.clientHeight/2}px`,left:`${window.innerWidth/2-$e.dialog.clientWidth/2}px`,position:"fixed"}),$e.dialog.classList.add("tg-dialog-fixed"),Te&&(Te.style.display="none"),_e(!0);$e.dialog.style.position="absolute",$e.dialog.classList.remove("tg-dialog-fixed"),Te&&(Te.style.display="inline-block"),computePosition(Le,$e.dialog,{placement:$e.options.dialogPlacement,middleware:[autoPlacement({autoAlignment:!0,padding:5}),shift({padding:15}),arrow({element:Te}),offset$1(20)]}).then(({x:Fe,y:Ae,placement:Be,middlewareData:Ie})=>(Object.assign($e.dialog.style,{left:`${Fe}px`,top:`${Ae}px`}),Ie.arrow&&Te&&Object.assign(Te.style,arrowStyles(Ie.arrow,Be,$e.dialog)),_e(!0)))})}function arrowStyles($e,_e,Te){const Le=($e==null?void 0:$e.x)||0,Fe=($e==null?void 0:$e.y)||0,Ae=10,Be={top:"bottom",right:"left",bottom:"top",left:"right"}[_e.split("-")[0]],Ie=Te.clientWidth-Ae,Ne=Te.clientHeight-Ae,ze=Math.abs(Fe-Ne)<=Ae,Ue=Math.abs(Le-Ie)<=Ae,je=Math.abs(Fe)<=Ae,Ve=Math.abs(Le)<=Ae,Ze=($e==null?void 0:$e.centerOffset)!==0||(Ve||Ue)&&(je||ze);return{left:Ve?Be==="right"?"":"0":Ue?`${Ie}px`:`${Le}px`,top:je?Be==="bottom"?"":"0":ze?`${Ne}px`:`${Fe}px`,[Be]:Ze?"0":`-${Ae/2}px`,transform:Ze?"none":"rotate(45deg)"}}function createTourGuideBackdrop(){this.backdrop=document.createElement("div"),this.computeBackdropAttributes(),document.body.append(this.backdrop)}function computeBackdropAttributes(){this.options&&(this.backdrop.className="tg-backdrop",this.backdrop.style.boxShadow=this.options.backdropColor+" 0 0 1px 2px, "+this.options.backdropColor+" 0 0 0 1000vh",this.options.backdropClass&&this.backdrop.classList.add(this.options.backdropClass),this.options.dialogAnimate&&this.backdrop.classList.add("tg-backdrop-animate"))}function computeBackdropPosition($e){return new Promise(async(_e,Te)=>{if(typeof $e.options.targetPadding>"u")return Te("Options failed to initialize");if(!$e.backdrop)return Te("No backdrop element initialized");const Le=$e.tourSteps[$e.activeStep],Fe=Le.target,Ae=Fe.getBoundingClientRect(),Be=Ae.width+$e.options.targetPadding>document.documentElement.clientWidth;Fe===document.body?(Ae.width=0,Ae.height=0,$e.backdrop.style.position="fixed",$e.backdrop.style.top=window.innerHeight/2.5+"px",$e.backdrop.style.left=window.innerWidth/2+"px"):Le.fixed?($e.backdrop.style.position="fixed",$e.backdrop.style.top=Ae.top-$e.options.targetPadding/2+"px",$e.backdrop.style.left=(Be?Ae.x:Ae.x-$e.options.targetPadding/2)+"px"):($e.backdrop.style.position="absolute",$e.backdrop.style.top=window.scrollY+Ae.top-$e.options.targetPadding/2+"px",$e.backdrop.style.left=(Be?Ae.x:Ae.x-$e.options.targetPadding/2)+"px"),$e.backdrop.style.width=(Be?Ae.width:Ae.width+$e.options.targetPadding)+"px",$e.backdrop.style.height=(Ae.height?Ae.height+$e.options.targetPadding:Ae.height)+"px",_e(!0)})}function computeTourPositions(){return new Promise(async $e=>{this.backdrop.style.display="block",await computeBackdropPosition(this),this.dialog.style.display="block",this.options.dialogAnimate&&this.isVisible&&this.dialog.classList.add("animate-position"),await computeDialogPosition(this),this.options.dialogAnimate&&setTimeout(()=>{this.dialog.classList.remove("animate-position")},300),this.isVisible=!0,window.onresize||(window.onresize=()=>{computeBackdropPosition(this),computeDialogPosition(this)}),window.onscroll||(window.onscroll=()=>{computeDialogPosition(this)}),await setTimeout(()=>$e(!0),300)})}function handleOnFinish($e){if(typeof $e=="function")this._globalFinishCallback=$e;else throw new Error("Provided callback for onFinish was not a function")}function handleOnBeforeExit($e){if(typeof $e=="function")this._globalBeforeExitCallback=$e;else throw new Error("Provided callback for onBeforeExit was not a function")}function handleOnAfterExit($e){if(typeof $e=="function")this._globalAfterExitCallback=$e;else throw new Error("Provided callback for onAfterExit was not a function")}function handleOnBeforeStepChange($e){if(typeof $e=="function")this._globalBeforeChangeCallback=$e;else throw new Error("Provided callback for onBeforeStepChange was not a function")}function handleOnAfterStepChange($e){if(typeof $e=="function")this._globalAfterChangeCallback=$e;else throw new Error("Provided callback for onAfterStepChange was not a function")}const clickOutsideHandler=async function($e){if($e.preventDefault(),$e.stopPropagation(),$e.stopImmediatePropagation(),!($e.target instanceof Element))return;const _e=this.backdrop.getBoundingClientRect();if($e.clientX>=_e.x&&$e.clientX<=_e.x+_e.width&&$e.clientY>=_e.y&&$e.clientY<=_e.y+_e.height)return;const Te=this.dialog.getBoundingClientRect();$e.clientX>=Te.x&&$e.clientX<=Te.x+Te.width&&$e.clientY>=Te.y&&$e.clientY<=Te.y+Te.height||this.dialog.contains($e.target)||await this.exit()},keyPressHandler=async function($e){if($e.key==="Escape"&&this.options.exitOnEscape){$e.preventDefault(),await this.exit();return}if($e.key==="ArrowRight"&&this.options.keyboardControls){$e.preventDefault(),this.visitStep("next").catch(_e=>{this.options.debug&&console.warn(_e)});return}if($e.key==="ArrowLeft"&&this.options.keyboardControls){$e.preventDefault(),this.visitStep("prev").catch(_e=>{this.options.debug&&console.warn(_e)});return}};function handleInitListeners(){const $e=()=>{let Ae=document.getElementById("tg-dialog-next-btn");!Ae||this._trackedEvents.nextBtnClickEvent.initialized||(Ae.addEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!0)},_e=()=>{let Ae=document.getElementById("tg-dialog-prev-btn");!Ae||this._trackedEvents.prevBtnClickEvent.initialized||(Ae.addEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!0)},Te=()=>{let Ae=document.getElementById("tg-dialog-close-btn");!Ae||this._trackedEvents.closeBtnClickEvent.initialized||(Ae.addEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!0)},Le=()=>{this._trackedEvents.outsideClickEvent.initialized||(document.body.addEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!0)},Fe=()=>{this._trackedEvents.keyPressEvent.initialized||(window.addEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!0)};return new Promise(Ae=>(this.options.showButtons&&$e(),this.options.showButtons&&_e(),this.options.closeButton&&Te(),this.options.exitOnClickOutside&&Le(),(this.options.keyboardControls||this.options.exitOnEscape)&&Fe(),Ae(!0)))}function handleDestroyListeners(){const $e=()=>{let Ae=document.getElementById("tg-dialog-next-btn");Ae&&(Ae.removeEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!1)},_e=()=>{let Ae=document.getElementById("tg-dialog-prev-btn");Ae&&(Ae.removeEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!1)},Te=()=>{let Ae=document.getElementById("tg-dialog-close-btn");Ae&&(Ae.removeEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!1)},Le=()=>{document.body.removeEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!1},Fe=()=>{window.removeEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!1};return new Promise(Ae=>(this.options.showButtons&&$e(),this.options.showButtons&&_e(),this.options.closeButton&&Te(),this.options.exitOnClickOutside&&Le(),(this.options.keyboardControls||this.options.exitOnEscape)&&Fe(),Ae(!0)))}const scrollToTarget=($e,_e)=>{_e.scrollIntoView({behavior:$e.options.autoScrollSmooth?"smooth":"auto",block:"end",inline:"nearest"})};async function handleVisitStep($e){return new Promise(async(_e,Te)=>{if(this._promiseWaiting)return Te("Promise waiting");if(typeof $e=="string"&&($e==="next"?$e=this.activeStep+1:$e=this.activeStep-1),$e>=this.tourSteps.length){await this.finishTour(!0,this.group);return}return await goToStep(this,$e).catch(Le=>Te(Le)),_e(!0)})}async function handleVisitNextStep(){return new Promise(async($e,_e)=>{const Te=this.activeStep+1;try{await this.visitStep(Te)}catch(Le){return _e(Le)}return $e(!0)})}async function handleVisitPrevStep(){return new Promise(async($e,_e)=>{const Te=this.activeStep-1;try{await this.visitStep(Te)}catch(Le){return _e(Le)}return $e(!0)})}function goToStep($e,_e){return new Promise(async(Te,Le)=>{if(_e>=$e.tourSteps.length)return Le("End of tour steps");if(_e<0)return Le("Start of tour steps");const Fe=$e.activeStep,Ae=$e.tourSteps[Fe],Be=$e.tourSteps[_e];if(!Be||!Ae)return Le("Step not found by index");if(($e._globalBeforeChangeCallback&&_e!==Fe||Ae.beforeLeave||Be.beforeEnter)&&($e._promiseWaiting=!0,$e.dialog.classList.add("tg-dialog-loading")),$e._globalBeforeChangeCallback&&_e!==Fe)try{await $e._globalBeforeChangeCallback()}catch(Ie){return Le(Ie)}if(Ae.beforeLeave)try{await Ae.beforeLeave(Ae,Be)}catch(Ie){return Le(Ie)}if(Be.beforeEnter)try{await Be.beforeEnter(Ae,Be)}catch(Ie){return Le(Ie)}return typeof Be.target=="string"&&($e.tourSteps[_e].target=document.querySelector(Be.target)),(!Be.target||!$e.tourSteps[_e].target)&&($e.tourSteps[_e].target=document.body),$e.activeStep=Number(_e),await updateDialogHtml($e).catch(Ie=>{$e.options.debug&&console.warn(Ie),Le(Ie)}),$e.options.autoScroll&&Be.target!==document.body&&await scrollToTarget($e,Be.target),await $e.updatePositions(),Ae.afterLeave&&await Ae.afterLeave(Ae,Be),Be.afterEnter&&await Be.afterEnter(Ae,Be),$e._globalAfterChangeCallback&&_e!==Fe&&await $e._globalAfterChangeCallback(),$e._promiseWaiting=!1,$e.dialog.classList.remove("tg-dialog-loading"),Te(!0)})}async function computeTourSteps($e){return new Promise(async(_e,Te)=>{let Le=[];$e.options.steps&&$e.options.steps.length&&(Le=$e.options.steps.map(Ae=>(typeof Ae.target=="string"&&(Ae.target=document.querySelector(Ae.target)),Ae.target||(Ae.target=document.body),Ae)));const Fe=document.querySelectorAll("[data-tg-tour]");return Fe&&Fe.forEach(Ae=>{const Be=Ae.getAttribute("data-tg-title"),Ie=Ae.getAttribute("data-tg-tour"),Ne=Ae.getAttribute("data-tg-group"),ze=Ae.getAttribute("data-tg-order"),Ue=Ae.getAttribute("data-tg-fixed"),je=Ae.getAttribute("data-tg-margin");$e.options.targetPadding&&$e.options.autoScrollOffset?Ae.style.scrollMargin=(je?je+$e.options.targetPadding:$e.options.autoScrollOffset+$e.options.targetPadding)+"px 0":Ae.style.scrollMargin=(je||"30")+"px 0",Le.push({title:Be||void 0,order:ze?Number(ze):999,target:Ae,content:Ie||void 0,fixed:Ue!==null&&Ue!=="false",group:Ne||void 0})}),$e.group&&(Le=Le.filter(Ae=>Ae.group===$e.group)),Le.sort(function(Ae,Be){const Ie=new Date(Ae.order),Ne=new Date(Be.order);return Ie<Ne?-1:1}),$e.tourSteps=Le,$e.tourSteps.length?_e(!0):Te("No tour steps detected"+($e.group?" in group: "+$e.group:""))})}function waitForElm($e){return new Promise(_e=>{if(document.querySelector($e))return _e(document.querySelector($e));const Te=new MutationObserver(()=>{document.querySelector($e)&&(_e(document.querySelector($e)),Te.disconnect())});Te.observe(document.body,{childList:!0,subtree:!0})})}async function handleAddStep($e){this.options.steps&&(this.options.steps.push(...$e),await computeTourSteps(this),this.isVisible&&await updateDialogHtml(this).catch(_e=>{this.options.debug&&console.warn(_e)}),this.isVisible&&this.updatePositions().catch(_e=>{this.options.debug&&console.warn(_e)}),this.isVisible&&await waitForElm(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)))}async function handleTourStart($e){return new Promise(async(_e,Te)=>{if(this.isVisible)return this.options.debug&&console.warn("Tour already active"),Te("Tour already active");$e&&(this.group=$e),this.options.debug&&console.info("Start tour");const Le=this;try{await computeTourSteps(Le)}catch(Fe){return this.options.debug&&console.warn(Fe),Te(Fe)}return await Le.visitStep(this.activeStep).catch(Fe=>(this.options.debug&&console.warn(Fe),Te(Fe))),await waitForElm(".tg-dialog").then(async()=>{await this.initListeners(),this.options.dialogAnimate&&this.dialog.classList.add("animate-position")}),_e(!0)})}async function handleSetOptions($e){if($e)return Object.assign(this.options,$e),this.computeBackdropAttributes(),await renderDialogHtml(this).then(_e=>{_e&&(this.dialog.innerHTML=_e)}).catch(_e=>{this.options.debug&&console.warn(_e)}),await updateDialogHtml(this).catch(_e=>{this.options.debug&&console.warn(_e)}),this.isVisible&&await waitForElm(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)),this}async function handleClose(){return new Promise(async($e,_e)=>{if(this._promiseWaiting)return _e("Promise waiting");if(this._promiseWaiting=!0,this._globalBeforeExitCallback)try{await this._globalBeforeExitCallback()}catch(Te){return _e(Te)}return this.dialog.style.display="none",this.backdrop.style.display="none",this.isVisible=!1,this.options.rememberStep||(this.activeStep=0),this.options.debug&&console.info("Tour exited"),await this.destroyListeners(),setTimeout(()=>{this._globalAfterExitCallback&&this._globalAfterExitCallback()},0),this._promiseWaiting=!1,$e(!0)})}async function handleRefreshTour(){return new Promise(async($e,_e)=>(await computeTourSteps(this).catch(Te=>_e(Te)),this.computeBackdropAttributes(),await this.refreshDialog().catch(Te=>_e(Te)),$e(!0)))}async function handleRefreshDialog(){return new Promise(async($e,_e)=>(await renderDialogHtml(this).then(Te=>{Te&&(this.dialog.innerHTML=Te)}).catch(Te=>{this.options.debug&&console.warn(Te)}),await updateDialogHtml(this).catch(Te=>{this.options.debug&&console.warn(Te),_e(Te)}),await this.updatePositions(),this.isVisible&&await waitForElm(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)),$e(!0)))}async function handleFinishTour($e=!0,_e="tour"){if(this._globalFinishCallback)try{await this._globalFinishCallback()}catch{return!1}if(this.options.completeOnFinish){if(!localStorage.tg_tours_complete){localStorage.tg_tours_complete=[_e],$e&&await this.exit(),this.activeStep=0;return}const Te=localStorage.tg_tours_complete.split(",");Te.push(_e),localStorage.tg_tours_complete=Te}return $e&&await this.exit(),this.activeStep=0,this._promiseWaiting=!1,!0}function getIsFinished($e="tour"){return localStorage.tg_tours_complete?localStorage.tg_tours_complete.split(",").includes($e):!1}function delFinishedTour($e="tour"){if($e==="all"){localStorage.tg_tours_complete=null;return}const _e=localStorage.tg_tours_complete.split(",");localStorage.tg_tours_complete=_e.filter(Te=>Te!==$e)}const defaultOptions={nextLabel:"Next",prevLabel:"Back",finishLabel:"Finish",hidePrev:!1,hideNext:!1,dialogClass:"",dialogZ:999,dialogWidth:0,dialogMaxWidth:340,dialogAnimate:!0,dialogPlacement:void 0,backdropClass:"",backdropColor:"rgba(20,20,21,0.84)",backdropAnimate:!0,targetPadding:30,completeOnFinish:!0,showStepDots:!0,stepDotsPlacement:"footer",showButtons:!0,showStepProgress:!0,progressBar:"",keyboardControls:!0,exitOnEscape:!0,exitOnClickOutside:!0,autoScroll:!0,autoScrollSmooth:!0,autoScrollOffset:20,closeButton:!0,rememberStep:!1,debug:!0,steps:[]};class TourGuideClient{constructor(_e){this.group="",this.isVisible=!1,this.activeStep=0,this.tourSteps=[],this.options=defaultOptions,this.isFinished=getIsFinished,this._promiseWaiting=!1,this.createTourGuideBackdrop=createTourGuideBackdrop,this.computeBackdropAttributes=computeBackdropAttributes,this.createTourGuideDialog=createTourGuideDialog,this.start=handleTourStart,this.visitStep=handleVisitStep,this.addSteps=handleAddStep,this.nextStep=handleVisitNextStep,this.prevStep=handleVisitPrevStep,this.exit=handleClose,this.refresh=handleRefreshTour,this.refreshDialog=handleRefreshDialog,this.finishTour=handleFinishTour,this.updatePositions=computeTourPositions,this.deleteFinishedTour=delFinishedTour,this.setOptions=handleSetOptions,this.initListeners=handleInitListeners,this.destroyListeners=handleDestroyListeners,this._trackedEvents={nextBtnClickEvent:{initialized:!1,fn:this.nextStep.bind(this)},prevBtnClickEvent:{initialized:!1,fn:this.prevStep.bind(this)},closeBtnClickEvent:{initialized:!1,fn:this.exit.bind(this)},keyPressEvent:{initialized:!1,fn:keyPressHandler.bind(this)},outsideClickEvent:{initialized:!1,fn:clickOutsideHandler.bind(this)}},this.onFinish=handleOnFinish,this.onBeforeExit=handleOnBeforeExit,this.onAfterExit=handleOnAfterExit,this.onBeforeStepChange=handleOnBeforeStepChange,this.onAfterStepChange=handleOnAfterStepChange,this.dialog=document.createElement("div"),this.backdrop=document.createElement("div"),this.options=defaultOptions,_e&&Object.assign(this.options,_e),this.createTourGuideDialog().catch(Te=>{this.options.debug&&console.warn(Te)}),this.createTourGuideBackdrop()}}const tg=new TourGuideClient({nextLabel:"بعدی",prevLabel:"قبلی",hidePrev:!0,doneLabel:"اتمام",skipLabel:"رد کردن",closeLabel:"بستن",showClose:!0,rememberStep:!0,finishLabel:"متوجه شدم",showStepDots:!1,showStepProgress:!1,steps:[{content:"برای مشاهده اطلاعات کامل خدمت، روی علامت + در کنار آن در بخش خدمات کلیک کنید",target:".tour-guide"}],debug:!1});$$4("#show-tour-guide").on("click",function(){tg.start()});$$4("#show-tour-guide").length>0&&(document.cookie.includes("tour=false")||tg.start());tg.onFinish(()=>{const $e=new Date;$e.setTime($e.getTime()+365*24*60*60*1e3),document.cookie=`tour=false; expires=${$e.toUTCString()}; path=/`});let block$1=new KTBlockUI(document.querySelector("#miniCart .offcanvas-body")),openedCanvas=!1;document.getElementById("miniCart").addEventListener("show.bs.offcanvas",$e=>{openedCanvas===!1&&($$4.ajax({method:"GET",url:"/api/mini-cart",beforeSend:()=>{block$1.block()},success:_e=>{block$1.release(),_e.items.length>0?($$4("#mini-cart-items").html(""),$$4("#mini-cart-items-container").addClass("active"),B$4(y$2(MiniCartBox,{items:_e.items,removeFunc,updateFunc}),document.getElementById("mini-cart-items")),$$4("#mini-cart-calculated").show(),$$4(".navbar-cart span").text(_e.cart.count),$$4("#mini-cart-price").text(_e.cart.total),$$4("#mini-cart-empty").hide()):($$4("#mini-cart-items-container").removeClass("active"),$$4("#mini-cart-empty").show(),$$4("#mini-cart-calculated").hide(),$$4("#mini-cart-items").html(""),$$4(".navbar-cart span").text("0"))},error:_e=>{block$1.release(),toastr.error("مشکلی پیش آمده. مجدد امتحان کنید")}}),openedCanvas=!0)});document.getElementById("miniCart").addEventListener("hide.bs.offcanvas",$e=>{openedCanvas=!1});function updateFunc($e,_e){return new Promise((Te,Le)=>{$$4.ajax("/api/update-cart",{beforeSend:()=>{block$1.block()},method:"POST",data:{id:$e,count:_e},success:Fe=>{block$1.release(),Fe.cart&&Fe.cart.count>0?($$4("#mini-cart-items").html(""),$$4("#mini-cart-items-container").addClass("active"),B$4(y$2(MiniCartBox,{items:Fe.items,removeFunc,updateFunc}),document.getElementById("mini-cart-items")),$$4("#mini-cart-calculated").show(),$$4(".navbar-cart span").text(Fe.cart.count),$$4("#mini-cart-price").text(Fe.cart.total),$$4("#mini-cart-empty").hide()):($$4("#mini-cart-items-container").removeClass("active"),$$4("#mini-cart-empty").show(),$$4("#mini-cart-calculated").hide(),$$4("#mini-cart-items").html(""),$$4(".navbar-cart span").text("0")),Te(Fe)},error:Fe=>{block$1.release(),toastr.error("خطایی رخ داده است"),Le(Fe)}})})}function removeFunc($e,_e){$$4(_e).closest(".mini-cart-box"),$$4.ajax("/api/remove-cart",{beforeSend:function(){block$1.block()},method:"POST",data:{id:$e},success:function(Te){block$1.release(),Te.cart&&Te.cart.count>0?($$4("#mini-cart-items").html(""),$$4("#mini-cart-items-container").addClass("active"),B$4(y$2(MiniCartBox,{items:Te.items,removeFunc,updateFunc}),document.getElementById("mini-cart-items")),$$4("#mini-cart-calculated").show(),$$4(".navbar-cart span").text(Te.cart.count),$$4("#mini-cart-price").text(Te.cart.total),$$4("#mini-cart-empty").hide()):($$4("#mini-cart-items-container").removeClass("active"),$$4("#mini-cart-empty").show(),$$4("#mini-cart-calculated").hide(),$$4("#mini-cart-items").html(""),$$4(".navbar-cart span").text("0"))},error:function(Te,Le,Fe){block$1.release(),toastr.error("خطایی رخ داده است")}})}var PipsMode;(function($e){$e.Range="range",$e.Steps="steps",$e.Positions="positions",$e.Count="count",$e.Values="values"})(PipsMode||(PipsMode={}));var PipsType;(function($e){$e[$e.None=-1]="None",$e[$e.NoValue=0]="NoValue",$e[$e.LargeValue=1]="LargeValue",$e[$e.SmallValue=2]="SmallValue"})(PipsType||(PipsType={}));function isValidFormatter($e){return isValidPartialFormatter($e)&&typeof $e.from=="function"}function isValidPartialFormatter($e){return typeof $e=="object"&&typeof $e.to=="function"}function removeElement($e){$e.parentElement.removeChild($e)}function isSet($e){return $e!=null}function preventDefault($e){$e.preventDefault()}function unique($e){return $e.filter(function(_e){return this[_e]?!1:this[_e]=!0},{})}function closest($e,_e){return Math.round($e/_e)*_e}function offset($e,_e){var Te=$e.getBoundingClientRect(),Le=$e.ownerDocument,Fe=Le.documentElement,Ae=getPageOffset(Le);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Ae.x=0),_e?Te.top+Ae.y-Fe.clientTop:Te.left+Ae.x-Fe.clientLeft}function isNumeric($e){return typeof $e=="number"&&!isNaN($e)&&isFinite($e)}function addClassFor($e,_e,Te){Te>0&&(addClass($e,_e),setTimeout(function(){removeClass($e,_e)},Te))}function limit($e){return Math.max(Math.min($e,100),0)}function asArray($e){return Array.isArray($e)?$e:[$e]}function countDecimals($e){$e=String($e);var _e=$e.split(".");return _e.length>1?_e[1].length:0}function addClass($e,_e){$e.classList&&!/\s/.test(_e)?$e.classList.add(_e):$e.className+=" "+_e}function removeClass($e,_e){$e.classList&&!/\s/.test(_e)?$e.classList.remove(_e):$e.className=$e.className.replace(new RegExp("(^|\\b)"+_e.split(" ").join("|")+"(\\b|$)","gi")," ")}function hasClass($e,_e){return $e.classList?$e.classList.contains(_e):new RegExp("\\b"+_e+"\\b").test($e.className)}function getPageOffset($e){var _e=window.pageXOffset!==void 0,Te=($e.compatMode||"")==="CSS1Compat",Le=_e?window.pageXOffset:Te?$e.documentElement.scrollLeft:$e.body.scrollLeft,Fe=_e?window.pageYOffset:Te?$e.documentElement.scrollTop:$e.body.scrollTop;return{x:Le,y:Fe}}function getActions(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function getSupportsPassive(){var $e=!1;try{var _e=Object.defineProperty({},"passive",{get:function(){$e=!0}});window.addEventListener("test",null,_e)}catch{}return $e}function getSupportsTouchActionNone(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function subRangeRatio($e,_e){return 100/(_e-$e)}function fromPercentage($e,_e,Te){return _e*100/($e[Te+1]-$e[Te])}function toPercentage($e,_e){return fromPercentage($e,$e[0]<0?_e+Math.abs($e[0]):_e-$e[0],0)}function isPercentage($e,_e){return _e*($e[1]-$e[0])/100+$e[0]}function getJ($e,_e){for(var Te=1;$e>=_e[Te];)Te+=1;return Te}function toStepping($e,_e,Te){if(Te>=$e.slice(-1)[0])return 100;var Le=getJ(Te,$e),Fe=$e[Le-1],Ae=$e[Le],Be=_e[Le-1],Ie=_e[Le];return Be+toPercentage([Fe,Ae],Te)/subRangeRatio(Be,Ie)}function fromStepping($e,_e,Te){if(Te>=100)return $e.slice(-1)[0];var Le=getJ(Te,_e),Fe=$e[Le-1],Ae=$e[Le],Be=_e[Le-1],Ie=_e[Le];return isPercentage([Fe,Ae],(Te-Be)*subRangeRatio(Be,Ie))}function getStep($e,_e,Te,Le){if(Le===100)return Le;var Fe=getJ(Le,$e),Ae=$e[Fe-1],Be=$e[Fe];return Te?Le-Ae>(Be-Ae)/2?Be:Ae:_e[Fe-1]?$e[Fe-1]+closest(Le-$e[Fe-1],_e[Fe-1]):Le}var Spectrum=function(){function $e(_e,Te,Le){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Le||!1],this.xNumSteps=[!1],this.snap=Te;var Fe,Ae=[];for(Object.keys(_e).forEach(function(Be){Ae.push([asArray(_e[Be]),Be])}),Ae.sort(function(Be,Ie){return Be[0][0]-Ie[0][0]}),Fe=0;Fe<Ae.length;Fe++)this.handleEntryPoint(Ae[Fe][1],Ae[Fe][0]);for(this.xNumSteps=this.xSteps.slice(0),Fe=0;Fe<this.xNumSteps.length;Fe++)this.handleStepPoint(Fe,this.xNumSteps[Fe])}return $e.prototype.getDistance=function(_e){for(var Te=[],Le=0;Le<this.xNumSteps.length-1;Le++)Te[Le]=fromPercentage(this.xVal,_e,Le);return Te},$e.prototype.getAbsoluteDistance=function(_e,Te,Le){var Fe=0;if(_e<this.xPct[this.xPct.length-1])for(;_e>this.xPct[Fe+1];)Fe++;else _e===this.xPct[this.xPct.length-1]&&(Fe=this.xPct.length-2);!Le&&_e===this.xPct[Fe+1]&&Fe++,Te===null&&(Te=[]);var Ae,Be=1,Ie=Te[Fe],Ne=0,ze=0,Ue=0,je=0;for(Le?Ae=(_e-this.xPct[Fe])/(this.xPct[Fe+1]-this.xPct[Fe]):Ae=(this.xPct[Fe+1]-_e)/(this.xPct[Fe+1]-this.xPct[Fe]);Ie>0;)Ne=this.xPct[Fe+1+je]-this.xPct[Fe+je],Te[Fe+je]*Be+100-Ae*100>100?(ze=Ne*Ae,Be=(Ie-100*Ae)/Te[Fe+je],Ae=1):(ze=Te[Fe+je]*Ne/100*Be,Be=0),Le?(Ue=Ue-ze,this.xPct.length+je>=1&&je--):(Ue=Ue+ze,this.xPct.length-je>=1&&je++),Ie=Te[Fe+je]*Be;return _e+Ue},$e.prototype.toStepping=function(_e){return _e=toStepping(this.xVal,this.xPct,_e),_e},$e.prototype.fromStepping=function(_e){return fromStepping(this.xVal,this.xPct,_e)},$e.prototype.getStep=function(_e){return _e=getStep(this.xPct,this.xSteps,this.snap,_e),_e},$e.prototype.getDefaultStep=function(_e,Te,Le){var Fe=getJ(_e,this.xPct);return(_e===100||Te&&_e===this.xPct[Fe-1])&&(Fe=Math.max(Fe-1,1)),(this.xVal[Fe]-this.xVal[Fe-1])/Le},$e.prototype.getNearbySteps=function(_e){var Te=getJ(_e,this.xPct);return{stepBefore:{startValue:this.xVal[Te-2],step:this.xNumSteps[Te-2],highestStep:this.xHighestCompleteStep[Te-2]},thisStep:{startValue:this.xVal[Te-1],step:this.xNumSteps[Te-1],highestStep:this.xHighestCompleteStep[Te-1]},stepAfter:{startValue:this.xVal[Te],step:this.xNumSteps[Te],highestStep:this.xHighestCompleteStep[Te]}}},$e.prototype.countStepDecimals=function(){var _e=this.xNumSteps.map(countDecimals);return Math.max.apply(null,_e)},$e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},$e.prototype.convert=function(_e){return this.getStep(this.toStepping(_e))},$e.prototype.handleEntryPoint=function(_e,Te){var Le;if(_e==="min"?Le=0:_e==="max"?Le=100:Le=parseFloat(_e),!isNumeric(Le)||!isNumeric(Te[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Le),this.xVal.push(Te[0]);var Fe=Number(Te[1]);Le?this.xSteps.push(isNaN(Fe)?!1:Fe):isNaN(Fe)||(this.xSteps[0]=Fe),this.xHighestCompleteStep.push(0)},$e.prototype.handleStepPoint=function(_e,Te){if(Te){if(this.xVal[_e]===this.xVal[_e+1]){this.xSteps[_e]=this.xHighestCompleteStep[_e]=this.xVal[_e];return}this.xSteps[_e]=fromPercentage([this.xVal[_e],this.xVal[_e+1]],Te,0)/subRangeRatio(this.xPct[_e],this.xPct[_e+1]);var Le=(this.xVal[_e+1]-this.xVal[_e])/this.xNumSteps[_e],Fe=Math.ceil(Number(Le.toFixed(3))-1),Ae=this.xVal[_e]+this.xNumSteps[_e]*Fe;this.xHighestCompleteStep[_e]=Ae}},$e}(),defaultFormatter={to:function($e){return $e===void 0?"":$e.toFixed(2)},from:Number},cssClasses={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},INTERNAL_EVENT_NS={tooltips:".__tooltips",aria:".__aria"};function testStep($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'step' is not numeric.");$e.singleStep=_e}function testKeyboardPageMultiplier($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");$e.keyboardPageMultiplier=_e}function testKeyboardMultiplier($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");$e.keyboardMultiplier=_e}function testKeyboardDefaultStep($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");$e.keyboardDefaultStep=_e}function testRange($e,_e){if(typeof _e!="object"||Array.isArray(_e))throw new Error("noUiSlider: 'range' is not an object.");if(_e.min===void 0||_e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");$e.spectrum=new Spectrum(_e,$e.snap||!1,$e.singleStep)}function testStart($e,_e){if(_e=asArray(_e),!Array.isArray(_e)||!_e.length)throw new Error("noUiSlider: 'start' option is incorrect.");$e.handles=_e.length,$e.start=_e}function testSnap($e,_e){if(typeof _e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");$e.snap=_e}function testAnimate($e,_e){if(typeof _e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");$e.animate=_e}function testAnimationDuration($e,_e){if(typeof _e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");$e.animationDuration=_e}function testConnect($e,_e){var Te=[!1],Le;if(_e==="lower"?_e=[!0,!1]:_e==="upper"&&(_e=[!1,!0]),_e===!0||_e===!1){for(Le=1;Le<$e.handles;Le++)Te.push(_e);Te.push(!1)}else{if(!Array.isArray(_e)||!_e.length||_e.length!==$e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");Te=_e}$e.connect=Te}function testOrientation($e,_e){switch(_e){case"horizontal":$e.ort=0;break;case"vertical":$e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function testMargin($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'margin' option must be numeric.");_e!==0&&($e.margin=$e.spectrum.getDistance(_e))}function testLimit($e,_e){if(!isNumeric(_e))throw new Error("noUiSlider: 'limit' option must be numeric.");if($e.limit=$e.spectrum.getDistance(_e),!$e.limit||$e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function testPadding($e,_e){var Te;if(!isNumeric(_e)&&!Array.isArray(_e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(_e)&&!(_e.length===2||isNumeric(_e[0])||isNumeric(_e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(_e!==0){for(Array.isArray(_e)||(_e=[_e,_e]),$e.padding=[$e.spectrum.getDistance(_e[0]),$e.spectrum.getDistance(_e[1])],Te=0;Te<$e.spectrum.xNumSteps.length-1;Te++)if($e.padding[0][Te]<0||$e.padding[1][Te]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var Le=_e[0]+_e[1],Fe=$e.spectrum.xVal[0],Ae=$e.spectrum.xVal[$e.spectrum.xVal.length-1];if(Le/(Ae-Fe)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function testDirection($e,_e){switch(_e){case"ltr":$e.dir=0;break;case"rtl":$e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function testBehaviour($e,_e){if(typeof _e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var Te=_e.indexOf("tap")>=0,Le=_e.indexOf("drag")>=0,Fe=_e.indexOf("fixed")>=0,Ae=_e.indexOf("snap")>=0,Be=_e.indexOf("hover")>=0,Ie=_e.indexOf("unconstrained")>=0,Ne=_e.indexOf("drag-all")>=0,ze=_e.indexOf("smooth-steps")>=0;if(Fe){if($e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");testMargin($e,$e.start[1]-$e.start[0])}if(Ie&&($e.margin||$e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");$e.events={tap:Te||Ae,drag:Le,dragAll:Ne,smoothSteps:ze,fixed:Fe,snap:Ae,hover:Be,unconstrained:Ie}}function testTooltips($e,_e){if(_e!==!1)if(_e===!0||isValidPartialFormatter(_e)){$e.tooltips=[];for(var Te=0;Te<$e.handles;Te++)$e.tooltips.push(_e)}else{if(_e=asArray(_e),_e.length!==$e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");_e.forEach(function(Le){if(typeof Le!="boolean"&&!isValidPartialFormatter(Le))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),$e.tooltips=_e}}function testHandleAttributes($e,_e){if(_e.length!==$e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");$e.handleAttributes=_e}function testAriaFormat($e,_e){if(!isValidPartialFormatter(_e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");$e.ariaFormat=_e}function testFormat($e,_e){if(!isValidFormatter(_e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");$e.format=_e}function testKeyboardSupport($e,_e){if(typeof _e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");$e.keyboardSupport=_e}function testDocumentElement($e,_e){$e.documentElement=_e}function testCssPrefix($e,_e){if(typeof _e!="string"&&_e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");$e.cssPrefix=_e}function testCssClasses($e,_e){if(typeof _e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof $e.cssPrefix=="string"?($e.cssClasses={},Object.keys(_e).forEach(function(Te){$e.cssClasses[Te]=$e.cssPrefix+_e[Te]})):$e.cssClasses=_e}function testOptions($e){var _e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:defaultFormatter,format:defaultFormatter},Te={step:{r:!1,t:testStep},keyboardPageMultiplier:{r:!1,t:testKeyboardPageMultiplier},keyboardMultiplier:{r:!1,t:testKeyboardMultiplier},keyboardDefaultStep:{r:!1,t:testKeyboardDefaultStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},animationDuration:{r:!1,t:testAnimationDuration},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},padding:{r:!1,t:testPadding},behaviour:{r:!0,t:testBehaviour},ariaFormat:{r:!1,t:testAriaFormat},format:{r:!1,t:testFormat},tooltips:{r:!1,t:testTooltips},keyboardSupport:{r:!0,t:testKeyboardSupport},documentElement:{r:!1,t:testDocumentElement},cssPrefix:{r:!0,t:testCssPrefix},cssClasses:{r:!0,t:testCssClasses},handleAttributes:{r:!1,t:testHandleAttributes}},Le={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};$e.format&&!$e.ariaFormat&&($e.ariaFormat=$e.format),Object.keys(Te).forEach(function(Ne){if(!isSet($e[Ne])&&Le[Ne]===void 0){if(Te[Ne].r)throw new Error("noUiSlider: '"+Ne+"' is required.");return}Te[Ne].t(_e,isSet($e[Ne])?$e[Ne]:Le[Ne])}),_e.pips=$e.pips;var Fe=document.createElement("div"),Ae=Fe.style.msTransform!==void 0,Be=Fe.style.transform!==void 0;_e.transformRule=Be?"transform":Ae?"msTransform":"webkitTransform";var Ie=[["left","top"],["right","bottom"]];return _e.style=Ie[_e.dir][_e.ort],_e}function scope($e,_e,Te){var Le=getActions(),Fe=getSupportsTouchActionNone(),Ae=Fe&&getSupportsPassive(),Be=$e,Ie,Ne,ze,Ue,je,Ve=_e.spectrum,Ze=[],Ke=[],Je=[],ei=0,ni={},Qe=$e.ownerDocument,ii=_e.documentElement||Qe.documentElement,ai=Qe.body,di=Qe.dir==="rtl"||_e.ort===1?0:100;function vi(ri,ci){var fi=Qe.createElement("div");return ci&&addClass(fi,ci),ri.appendChild(fi),fi}function bi(ri,ci){var fi=vi(ri,_e.cssClasses.origin),_i=vi(fi,_e.cssClasses.handle);if(vi(_i,_e.cssClasses.touchArea),_i.setAttribute("data-handle",String(ci)),_e.keyboardSupport&&(_i.setAttribute("tabindex","0"),_i.addEventListener("keydown",function(ki){return us(ki,ci)})),_e.handleAttributes!==void 0){var $i=_e.handleAttributes[ci];Object.keys($i).forEach(function(ki){_i.setAttribute(ki,$i[ki])})}return _i.setAttribute("role","slider"),_i.setAttribute("aria-orientation",_e.ort?"vertical":"horizontal"),ci===0?addClass(_i,_e.cssClasses.handleLower):ci===_e.handles-1&&addClass(_i,_e.cssClasses.handleUpper),fi.handle=_i,fi}function xi(ri,ci){return ci?vi(ri,_e.cssClasses.connect):!1}function mi(ri,ci){var fi=vi(ci,_e.cssClasses.connects);Ne=[],ze=[],ze.push(xi(fi,ri[0]));for(var _i=0;_i<_e.handles;_i++)Ne.push(bi(ci,_i)),Je[_i]=_i,ze.push(xi(fi,ri[_i+1]))}function li(ri){addClass(ri,_e.cssClasses.target),_e.dir===0?addClass(ri,_e.cssClasses.ltr):addClass(ri,_e.cssClasses.rtl),_e.ort===0?addClass(ri,_e.cssClasses.horizontal):addClass(ri,_e.cssClasses.vertical);var ci=getComputedStyle(ri).direction;return ci==="rtl"?addClass(ri,_e.cssClasses.textDirectionRtl):addClass(ri,_e.cssClasses.textDirectionLtr),vi(ri,_e.cssClasses.base)}function wi(ri,ci){return!_e.tooltips||!_e.tooltips[ci]?!1:vi(ri.firstChild,_e.cssClasses.tooltip)}function Li(){return Be.hasAttribute("disabled")}function Ti(ri){var ci=Ne[ri];return ci.hasAttribute("disabled")}function Oi(ri){ri!=null?(Ne[ri].setAttribute("disabled",""),Ne[ri].handle.removeAttribute("tabindex")):(Be.setAttribute("disabled",""),Ne.forEach(function(ci){ci.handle.removeAttribute("tabindex")}))}function Di(ri){ri!=null?(Ne[ri].removeAttribute("disabled"),Ne[ri].handle.setAttribute("tabindex","0")):(Be.removeAttribute("disabled"),Ne.forEach(function(ci){ci.removeAttribute("disabled"),ci.handle.setAttribute("tabindex","0")}))}function Ri(){je&&(Fn("update"+INTERNAL_EVENT_NS.tooltips),je.forEach(function(ri){ri&&removeElement(ri)}),je=null)}function fn(){Ri(),je=Ne.map(wi),Ln("update"+INTERNAL_EVENT_NS.tooltips,function(ri,ci,fi){if(!(!je||!_e.tooltips)&&je[ci]!==!1){var _i=ri[ci];_e.tooltips[ci]!==!0&&(_i=_e.tooltips[ci].to(fi[ci])),je[ci].innerHTML=_i}})}function Ci(){Fn("update"+INTERNAL_EVENT_NS.aria),Ln("update"+INTERNAL_EVENT_NS.aria,function(ri,ci,fi,_i,$i){Je.forEach(function(ki){var Bi=Ne[ki],Mi=nn(Ke,ki,0,!0,!0,!0),cn=nn(Ke,ki,100,!0,!0,!0),dn=$i[ki],Ii=String(_e.ariaFormat.to(fi[ki]));Mi=Ve.fromStepping(Mi).toFixed(1),cn=Ve.fromStepping(cn).toFixed(1),dn=Ve.fromStepping(dn).toFixed(1),Bi.children[0].setAttribute("aria-valuemin",Mi),Bi.children[0].setAttribute("aria-valuemax",cn),Bi.children[0].setAttribute("aria-valuenow",dn),Bi.children[0].setAttribute("aria-valuetext",Ii)})})}function hn(ri){if(ri.mode===PipsMode.Range||ri.mode===PipsMode.Steps)return Ve.xVal;if(ri.mode===PipsMode.Count){if(ri.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var ci=ri.values-1,fi=100/ci,_i=[];ci--;)_i[ci]=ci*fi;return _i.push(100),Pi(_i,ri.stepped)}return ri.mode===PipsMode.Positions?Pi(ri.values,ri.stepped):ri.mode===PipsMode.Values?ri.stepped?ri.values.map(function($i){return Ve.fromStepping(Ve.getStep(Ve.toStepping($i)))}):ri.values:[]}function Pi(ri,ci){return ri.map(function(fi){return Ve.fromStepping(ci?Ve.getStep(fi):fi)})}function Ki(ri){function ci(dn,Ii){return Number((dn+Ii).toFixed(7))}var fi=hn(ri),_i={},$i=Ve.xVal[0],ki=Ve.xVal[Ve.xVal.length-1],Bi=!1,Mi=!1,cn=0;return fi=unique(fi.slice().sort(function(dn,Ii){return dn-Ii})),fi[0]!==$i&&(fi.unshift($i),Bi=!0),fi[fi.length-1]!==ki&&(fi.push(ki),Mi=!0),fi.forEach(function(dn,Ii){var sn,Zi,Yi,Ei=dn,Qi=fi[Ii+1],Pn,ws,Xn,Cn,Ks,qn,Fs,Os=ri.mode===PipsMode.Steps;for(Os&&(sn=Ve.xNumSteps[Ii]),sn||(sn=Qi-Ei),Qi===void 0&&(Qi=Ei),sn=Math.max(sn,1e-7),Zi=Ei;Zi<=Qi;Zi=ci(Zi,sn)){for(Pn=Ve.toStepping(Zi),ws=Pn-cn,Ks=ws/(ri.density||1),qn=Math.round(Ks),Fs=ws/qn,Yi=1;Yi<=qn;Yi+=1)Xn=cn+Yi*Fs,_i[Xn.toFixed(5)]=[Ve.fromStepping(Xn),0];Cn=fi.indexOf(Zi)>-1?PipsType.LargeValue:Os?PipsType.SmallValue:PipsType.NoValue,!Ii&&Bi&&Zi!==Qi&&(Cn=0),Zi===Qi&&Mi||(_i[Pn.toFixed(5)]=[Zi,Cn]),cn=Pn}}),_i}function gn(ri,ci,fi){var _i,$i,ki=Qe.createElement("div"),Bi=(_i={},_i[PipsType.None]="",_i[PipsType.NoValue]=_e.cssClasses.valueNormal,_i[PipsType.LargeValue]=_e.cssClasses.valueLarge,_i[PipsType.SmallValue]=_e.cssClasses.valueSub,_i),Mi=($i={},$i[PipsType.None]="",$i[PipsType.NoValue]=_e.cssClasses.markerNormal,$i[PipsType.LargeValue]=_e.cssClasses.markerLarge,$i[PipsType.SmallValue]=_e.cssClasses.markerSub,$i),cn=[_e.cssClasses.valueHorizontal,_e.cssClasses.valueVertical],dn=[_e.cssClasses.markerHorizontal,_e.cssClasses.markerVertical];addClass(ki,_e.cssClasses.pips),addClass(ki,_e.ort===0?_e.cssClasses.pipsHorizontal:_e.cssClasses.pipsVertical);function Ii(Zi,Yi){var Ei=Yi===_e.cssClasses.value,Qi=Ei?cn:dn,Pn=Ei?Bi:Mi;return Yi+" "+Qi[_e.ort]+" "+Pn[Zi]}function sn(Zi,Yi,Ei){if(Ei=ci?ci(Yi,Ei):Ei,Ei!==PipsType.None){var Qi=vi(ki,!1);Qi.className=Ii(Ei,_e.cssClasses.marker),Qi.style[_e.style]=Zi+"%",Ei>PipsType.NoValue&&(Qi=vi(ki,!1),Qi.className=Ii(Ei,_e.cssClasses.value),Qi.setAttribute("data-value",String(Yi)),Qi.style[_e.style]=Zi+"%",Qi.innerHTML=String(fi.to(Yi)))}}return Object.keys(ri).forEach(function(Zi){sn(Zi,ri[Zi][0],ri[Zi][1])}),ki}function yn(){Ue&&(removeElement(Ue),Ue=null)}function pn(ri){yn();var ci=Ki(ri),fi=ri.filter,_i=ri.format||{to:function($i){return String(Math.round($i))}};return Ue=Be.appendChild(gn(ci,fi,_i)),Ue}function hi(){var ri=Ie.getBoundingClientRect(),ci="offset"+["Width","Height"][_e.ort];return _e.ort===0?ri.width||Ie[ci]:ri.height||Ie[ci]}function Ui(ri,ci,fi,_i){var $i=function(Bi){var Mi=xn(Bi,_i.pageOffset,_i.target||ci);if(!Mi||Li()&&!_i.doNotReject||hasClass(Be,_e.cssClasses.tap)&&!_i.doNotReject||ri===Le.start&&Mi.buttons!==void 0&&Mi.buttons>1||_i.hover&&Mi.buttons)return!1;Ae||Mi.preventDefault(),Mi.calcPoint=Mi.points[_e.ort],fi(Mi,_i)},ki=[];return ri.split(" ").forEach(function(Bi){ci.addEventListener(Bi,$i,Ae?{passive:!0}:!1),ki.push([Bi,$i])}),ki}function xn(ri,ci,fi){var _i=ri.type.indexOf("touch")===0,$i=ri.type.indexOf("mouse")===0,ki=ri.type.indexOf("pointer")===0,Bi=0,Mi=0;if(ri.type.indexOf("MSPointer")===0&&(ki=!0),ri.type==="mousedown"&&!ri.buttons&&!ri.touches)return!1;if(_i){var cn=function(sn){var Zi=sn.target;return Zi===fi||fi.contains(Zi)||ri.composed&&ri.composedPath().shift()===fi};if(ri.type==="touchstart"){var dn=Array.prototype.filter.call(ri.touches,cn);if(dn.length>1)return!1;Bi=dn[0].pageX,Mi=dn[0].pageY}else{var Ii=Array.prototype.find.call(ri.changedTouches,cn);if(!Ii)return!1;Bi=Ii.pageX,Mi=Ii.pageY}}return ci=ci||getPageOffset(Qe),($i||ki)&&(Bi=ri.clientX+ci.x,Mi=ri.clientY+ci.y),ri.pageOffset=ci,ri.points=[Bi,Mi],ri.cursor=$i||ki,ri}function An(ri){var ci=ri-offset(Ie,_e.ort),fi=ci*100/hi();return fi=limit(fi),_e.dir?100-fi:fi}function cs(ri){var ci=100,fi=!1;return Ne.forEach(function(_i,$i){if(!Ti($i)){var ki=Ke[$i],Bi=Math.abs(ki-ri),Mi=Bi===100&&ci===100,cn=Bi<ci,dn=Bi<=ci&&ri>ki;(cn||dn||Mi)&&(fi=$i,ci=Bi)}}),fi}function Tn(ri,ci){ri.type==="mouseout"&&ri.target.nodeName==="HTML"&&ri.relatedTarget===null&&Dn(ri,ci)}function Bn(ri,ci){if(navigator.appVersion.indexOf("MSIE 9")===-1&&ri.buttons===0&&ci.buttonsProperty!==0)return Dn(ri,ci);var fi=(_e.dir?-1:1)*(ri.calcPoint-ci.startCalcPoint),_i=fi*100/ci.baseSize;ur(fi>0,_i,ci.locations,ci.handleNumbers,ci.connect)}function Dn(ri,ci){ci.handle&&(removeClass(ci.handle,_e.cssClasses.active),ei-=1),ci.listeners.forEach(function(fi){ii.removeEventListener(fi[0],fi[1])}),ei===0&&(removeClass(Be,_e.cssClasses.drag),ys(),ri.cursor&&(ai.style.cursor="",ai.removeEventListener("selectstart",preventDefault))),_e.events.smoothSteps&&(ci.handleNumbers.forEach(function(fi){Nn(fi,Ke[fi],!0,!0,!1,!1)}),ci.handleNumbers.forEach(function(fi){Xi("update",fi)})),ci.handleNumbers.forEach(function(fi){Xi("change",fi),Xi("set",fi),Xi("end",fi)})}function In(ri,ci){if(!ci.handleNumbers.some(Ti)){var fi;if(ci.handleNumbers.length===1){var _i=Ne[ci.handleNumbers[0]];fi=_i.children[0],ei+=1,addClass(fi,_e.cssClasses.active)}ri.stopPropagation();var $i=[],ki=Ui(Le.move,ii,Bn,{target:ri.target,handle:fi,connect:ci.connect,listeners:$i,startCalcPoint:ri.calcPoint,baseSize:hi(),pageOffset:ri.pageOffset,handleNumbers:ci.handleNumbers,buttonsProperty:ri.buttons,locations:Ke.slice()}),Bi=Ui(Le.end,ii,Dn,{target:ri.target,handle:fi,listeners:$i,doNotReject:!0,handleNumbers:ci.handleNumbers}),Mi=Ui("mouseout",ii,Tn,{target:ri.target,handle:fi,listeners:$i,doNotReject:!0,handleNumbers:ci.handleNumbers});$i.push.apply($i,ki.concat(Bi,Mi)),ri.cursor&&(ai.style.cursor=getComputedStyle(ri.target).cursor,Ne.length>1&&addClass(Be,_e.cssClasses.drag),ai.addEventListener("selectstart",preventDefault,!1)),ci.handleNumbers.forEach(function(cn){Xi("start",cn)})}}function Vs(ri){ri.stopPropagation();var ci=An(ri.calcPoint),fi=cs(ci);fi!==!1&&(_e.events.snap||addClassFor(Be,_e.cssClasses.tap,_e.animationDuration),Nn(fi,ci,!0,!0),ys(),Xi("slide",fi,!0),Xi("update",fi,!0),_e.events.snap?In(ri,{handleNumbers:[fi]}):(Xi("change",fi,!0),Xi("set",fi,!0)))}function ns(ri){var ci=An(ri.calcPoint),fi=Ve.getStep(ci),_i=Ve.fromStepping(fi);Object.keys(ni).forEach(function($i){$i.split(".")[0]==="hover"&&ni[$i].forEach(function(ki){ki.call(rs,_i)})})}function us(ri,ci){if(Li()||Ti(ci))return!1;var fi=["Left","Right"],_i=["Down","Up"],$i=["PageDown","PageUp"],ki=["Home","End"];_e.dir&&!_e.ort?fi.reverse():_e.ort&&!_e.dir&&(_i.reverse(),$i.reverse());var Bi=ri.key.replace("Arrow",""),Mi=Bi===$i[0],cn=Bi===$i[1],dn=Bi===_i[0]||Bi===fi[0]||Mi,Ii=Bi===_i[1]||Bi===fi[1]||cn,sn=Bi===ki[0],Zi=Bi===ki[1];if(!dn&&!Ii&&!sn&&!Zi)return!0;ri.preventDefault();var Yi;if(Ii||dn){var Ei=dn?0:1,Qi=Zs(ci),Pn=Qi[Ei];if(Pn===null)return!1;Pn===!1&&(Pn=Ve.getDefaultStep(Ke[ci],dn,_e.keyboardDefaultStep)),cn||Mi?Pn*=_e.keyboardPageMultiplier:Pn*=_e.keyboardMultiplier,Pn=Math.max(Pn,1e-7),Pn=(dn?-1:1)*Pn,Yi=Ze[ci]+Pn}else Zi?Yi=_e.spectrum.xVal[_e.spectrum.xVal.length-1]:Yi=_e.spectrum.xVal[0];return Nn(ci,Ve.toStepping(Yi),!0,!0),Xi("slide",ci),Xi("update",ci),Xi("change",ci),Xi("set",ci),!1}function Vi(ri){ri.fixed||Ne.forEach(function(ci,fi){Ui(Le.start,ci.children[0],In,{handleNumbers:[fi]})}),ri.tap&&Ui(Le.start,Ie,Vs,{}),ri.hover&&Ui(Le.move,Ie,ns,{hover:!0}),ri.drag&&ze.forEach(function(ci,fi){if(!(ci===!1||fi===0||fi===ze.length-1)){var _i=Ne[fi-1],$i=Ne[fi],ki=[ci],Bi=[_i,$i],Mi=[fi-1,fi];addClass(ci,_e.cssClasses.draggable),ri.fixed&&(ki.push(_i.children[0]),ki.push($i.children[0])),ri.dragAll&&(Bi=Ne,Mi=Je),ki.forEach(function(cn){Ui(Le.start,cn,In,{handles:Bi,handleNumbers:Mi,connect:ci})})}})}function Ln(ri,ci){ni[ri]=ni[ri]||[],ni[ri].push(ci),ri.split(".")[0]==="update"&&Ne.forEach(function(fi,_i){Xi("update",_i)})}function En(ri){return ri===INTERNAL_EVENT_NS.aria||ri===INTERNAL_EVENT_NS.tooltips}function Fn(ri){var ci=ri&&ri.split(".")[0],fi=ci?ri.substring(ci.length):ri;Object.keys(ni).forEach(function(_i){var $i=_i.split(".")[0],ki=_i.substring($i.length);(!ci||ci===$i)&&(!fi||fi===ki)&&(!En(ki)||fi===ki)&&delete ni[_i]})}function Xi(ri,ci,fi){Object.keys(ni).forEach(function(_i){var $i=_i.split(".")[0];ri===$i&&ni[_i].forEach(function(ki){ki.call(rs,Ze.map(_e.format.to),ci,Ze.slice(),fi||!1,Ke.slice(),rs)})})}function nn(ri,ci,fi,_i,$i,ki,Bi){var Mi;return Ne.length>1&&!_e.events.unconstrained&&(_i&&ci>0&&(Mi=Ve.getAbsoluteDistance(ri[ci-1],_e.margin,!1),fi=Math.max(fi,Mi)),$i&&ci<Ne.length-1&&(Mi=Ve.getAbsoluteDistance(ri[ci+1],_e.margin,!0),fi=Math.min(fi,Mi))),Ne.length>1&&_e.limit&&(_i&&ci>0&&(Mi=Ve.getAbsoluteDistance(ri[ci-1],_e.limit,!1),fi=Math.min(fi,Mi)),$i&&ci<Ne.length-1&&(Mi=Ve.getAbsoluteDistance(ri[ci+1],_e.limit,!0),fi=Math.max(fi,Mi))),_e.padding&&(ci===0&&(Mi=Ve.getAbsoluteDistance(0,_e.padding[0],!1),fi=Math.max(fi,Mi)),ci===Ne.length-1&&(Mi=Ve.getAbsoluteDistance(100,_e.padding[1],!0),fi=Math.min(fi,Mi))),Bi||(fi=Ve.getStep(fi)),fi=limit(fi),fi===ri[ci]&&!ki?!1:fi}function Gn(ri,ci){var fi=_e.ort;return(fi?ci:ri)+", "+(fi?ri:ci)}function ur(ri,ci,fi,_i,$i){var ki=fi.slice(),Bi=_i[0],Mi=_e.events.smoothSteps,cn=[!ri,ri],dn=[ri,!ri];_i=_i.slice(),ri&&_i.reverse(),_i.length>1?_i.forEach(function(sn,Zi){var Yi=nn(ki,sn,ki[sn]+ci,cn[Zi],dn[Zi],!1,Mi);Yi===!1?ci=0:(ci=Yi-ki[sn],ki[sn]=Yi)}):cn=dn=[!0];var Ii=!1;_i.forEach(function(sn,Zi){Ii=Nn(sn,fi[sn]+ci,cn[Zi],dn[Zi],!1,Mi)||Ii}),Ii&&(_i.forEach(function(sn){Xi("update",sn),Xi("slide",sn)}),$i!=null&&Xi("drag",Bi))}function Ws(ri,ci){return _e.dir?100-ri-ci:ri}function vs(ri,ci){Ke[ri]=ci,Ze[ri]=Ve.fromStepping(ci);var fi=Ws(ci,0)-di,_i="translate("+Gn(fi+"%","0")+")";Ne[ri].style[_e.transformRule]=_i,bs(ri),bs(ri+1)}function ys(){Je.forEach(function(ri){var ci=Ke[ri]>50?-1:1,fi=3+(Ne.length+ci*ri);Ne[ri].style.zIndex=String(fi)})}function Nn(ri,ci,fi,_i,$i,ki){return $i||(ci=nn(Ke,ri,ci,fi,_i,!1,ki)),ci===!1?!1:(vs(ri,ci),!0)}function bs(ri){if(ze[ri]){var ci=0,fi=100;ri!==0&&(ci=Ke[ri-1]),ri!==ze.length-1&&(fi=Ke[ri]);var _i=fi-ci,$i="translate("+Gn(Ws(ci,_i)+"%","0")+")",ki="scale("+Gn(_i/100,"1")+")";ze[ri].style[_e.transformRule]=$i+" "+ki}}function On(ri,ci){return ri===null||ri===!1||ri===void 0||(typeof ri=="number"&&(ri=String(ri)),ri=_e.format.from(ri),ri!==!1&&(ri=Ve.toStepping(ri)),ri===!1||isNaN(ri))?Ke[ci]:ri}function Rn(ri,ci,fi){var _i=asArray(ri),$i=Ke[0]===void 0;ci=ci===void 0?!0:ci,_e.animate&&!$i&&addClassFor(Be,_e.cssClasses.tap,_e.animationDuration),Je.forEach(function(Mi){Nn(Mi,On(_i[Mi],Mi),!0,!1,fi)});var ki=Je.length===1?0:1;if($i&&Ve.hasNoSize()&&(fi=!0,Ke[0]=0,Je.length>1)){var Bi=100/(Je.length-1);Je.forEach(function(Mi){Ke[Mi]=Mi*Bi})}for(;ki<Je.length;++ki)Je.forEach(function(Mi){Nn(Mi,Ke[Mi],!0,!0,fi)});ys(),Je.forEach(function(Mi){Xi("update",Mi),_i[Mi]!==null&&ci&&Xi("set",Mi)})}function ss(ri){Rn(_e.start,ri)}function dr(ri,ci,fi,_i){if(ri=Number(ri),!(ri>=0&&ri<Je.length))throw new Error("noUiSlider: invalid handle number, got: "+ri);Nn(ri,On(ci,ri),!0,!0,_i),Xi("update",ri),fi&&Xi("set",ri)}function Hn(ri){if(ri===void 0&&(ri=!1),ri)return Ze.length===1?Ze[0]:Ze.slice(0);var ci=Ze.map(_e.format.to);return ci.length===1?ci[0]:ci}function ds(){for(Fn(INTERNAL_EVENT_NS.aria),Fn(INTERNAL_EVENT_NS.tooltips),Object.keys(_e.cssClasses).forEach(function(ri){removeClass(Be,_e.cssClasses[ri])});Be.firstChild;)Be.removeChild(Be.firstChild);delete Be.noUiSlider}function Zs(ri){var ci=Ke[ri],fi=Ve.getNearbySteps(ci),_i=Ze[ri],$i=fi.thisStep.step,ki=null;if(_e.snap)return[_i-fi.stepBefore.startValue||null,fi.stepAfter.startValue-_i||null];$i!==!1&&_i+$i>fi.stepAfter.startValue&&($i=fi.stepAfter.startValue-_i),_i>fi.thisStep.startValue?ki=fi.thisStep.step:fi.stepBefore.step===!1?ki=!1:ki=_i-fi.stepBefore.highestStep,ci===100?$i=null:ci===0&&(ki=null);var Bi=Ve.countStepDecimals();return $i!==null&&$i!==!1&&($i=Number($i.toFixed(Bi))),ki!==null&&ki!==!1&&(ki=Number(ki.toFixed(Bi))),[ki,$i]}function Kn(){return Je.map(Zs)}function Gs(ri,ci){var fi=Hn(),_i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];_i.forEach(function(ki){ri[ki]!==void 0&&(Te[ki]=ri[ki])});var $i=testOptions(Te);_i.forEach(function(ki){ri[ki]!==void 0&&(_e[ki]=$i[ki])}),Ve=$i.spectrum,_e.margin=$i.margin,_e.limit=$i.limit,_e.padding=$i.padding,_e.pips?pn(_e.pips):yn(),_e.tooltips?fn():Ri(),Ke=[],Rn(isSet(ri.start)?ri.start:fi,ci)}function Fr(){Ie=li(Be),mi(_e.connect,Ie),Vi(_e.events),Rn(_e.start),_e.pips&&pn(_e.pips),_e.tooltips&&fn(),Ci()}Fr();var rs={destroy:ds,steps:Kn,on:Ln,off:Fn,get:Hn,set:Rn,setHandle:dr,reset:ss,disable:Oi,enable:Di,__moveHandles:function(ri,ci,fi){ur(ri,ci,Ke,fi)},options:Te,updateOptions:Gs,target:Be,removePips:yn,removeTooltips:Ri,getPositions:function(){return Ke.slice()},getTooltips:function(){return je},getOrigins:function(){return Ne},pips:pn};return rs}function initialize($e,_e){if(!$e||!$e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+$e);if($e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Te=testOptions(_e),Le=scope($e,Te,_e);return $e.noUiSlider=Le,Le}const noUi={__spectrum:Spectrum,cssClasses,create:initialize};let minChange=!1,maxChange=!1;if($$4(".price-range").length>0){let $e=$$4(".minPrice"),_e=$$4(".maxPrice");_e.val($$4(".price-range").data("max")),$e.val($$4(".price-range").data("min")),$$4(".price-range").each(function(Le,Fe){let Ae=noUi.create(Fe,{start:[+$$4(".price-range").data("defaultmin"),+$$4(".price-range").data("defaultmax")],connect:!0,step:$$4(Fe).data("step"),format:{to:function(Be){return parseInt(Be)},from:function(Be){return parseInt(Be)}},range:{min:$$4(".price-range").data("min"),max:$$4(".price-range").data("max")}});Ae.on("update",function(Be,Ie){Be&&(Ie===0?$e.val(`${Be[0]}`):_e.val(`${Be[1]}`))}),Ae.on("change",function(Be,Ie){Ie===0&&(minChange?setTimeout(()=>handleChangeFilter(),500):minChange===!1&&Be[0]!==+$$4(".price-range").data("defaultmin")?(minChange=!0,setTimeout(()=>handleChangeFilter(),500)):minChange=!1),Ie==1&&(maxChange?setTimeout(()=>handleChangeFilter(),500):maxChange===!1&&Be[1]!==+$$4(".price-range").data("defaultmax")?(maxChange=!0,setTimeout(()=>handleChangeFilter(),500)):maxChange=!1)})})}const block=new KTBlockUI(document.getElementById("catergory_page"));function createOptions($e){block.block();let _e=window.location.href,Te=_e.split("?")[0],Le=queryString.stringify({...queryString.parse(_e.split("?")[1]),page:$e},{arrayFormat:"comma"});return window.history.pushState(null,null,`${Te}?${Le}`),queryString.parse(Le)}function onChange($e){return new Promise((_e,Te)=>{$$4.ajax({url:"/api/category",type:"POST",data:createOptions($e),success:Le=>{block.release(),_e(Le),$$4(".category-post").html(Le.html),$$4("html, body").animate({scrollTop:$$4("#products_boxes").offset().top-20},"fast")},error:Le=>{block.release(),Te(Le),window.history.pushState({},"",`?page=${$e-1}`)}})})}if($$4(".first-pagination").length>0){let $e=$$4(".first-pagination").data("total"),_e=$$4(".first-pagination").data("value");$$4(".first-pagination").remove(),$e>0&&B$4(u$3(CategoryPagination,{total:$e,value:_e,onChange}),document.getElementById("category-pagination"))}$$4(".category-filters input").on("change",handleChangeFilter);function handleChangeFilter($e){let _e={};window.innerWidth<768?_e=$$4(".category-filters.category-filters-mobile").serializeArray():_e=$$4(".category-filters.category-filters-desktop").serializeArray();let Te=_e.reduce((Be,Ie)=>(Be[Ie.name]||(Be[Ie.name]=[]),Be[Ie.name].push(Ie.value),Be),{});minChange===!1&&delete Te.minprice,maxChange===!1&&delete Te.maxprice;let Le=queryString.stringify(Te,{arrayFormat:"comma"}),Ae=window.location.href.split("?")[0];history.pushState(null,null,Ae),window.history.pushState({},"",`?${Le}`),$$4(async()=>{let Be=await onChange(1),Ie=Be.total,Ne=1,ze=Be.removeOptions;setRemoveOptions(ze),$$4("#category-pagination").html(""),Ie&&Ie>0?B$4(u$3(CategoryPagination,{total:Ie,value:Ne,onChange}),document.getElementById("category-pagination")):$$4("#category-pagination").html("")})}$$4(document).ready(function(){$$4("#category-sort input,#category-sort-mobile").on("change",function($e){let _e=$$4($e.target).serializeArray();_e=_e.reduce((Fe,Ae)=>(Fe[Ae.name]=Ae.value,Fe),{});let Te=new URLSearchParams(window.location.search);Te.delete("page"),Te.set("sort",_e.sort);let Le=`${window.location.pathname}?${Te.toString()}`;window.history.pushState({},"",Le),$$4(async()=>{let Ae=(await onChange(1)).total,Be=1;$$4("#category-pagination").html(""),B$4(u$3(CategoryPagination,{total:Ae,value:Be,onChange}),document.getElementById("category-pagination"))})})});function removeOptionsOnChange($e,_e){return new Promise((Te,Le)=>{$$4.ajax({url:"/api/category",type:"POST",beforeSend:()=>{block.block()},data:$e,success:Fe=>{block.release(),Te(Fe),$$4(".category-post").html(Fe.html);let Ae=Fe.total,Be=1;$$4("#category-pagination").html(""),Ae&&Ae>0?B$4(u$3(CategoryPagination,{total:Ae,value:Be,onChange}),document.getElementById("category-pagination")):$$4("#category-pagination").html(""),setRemoveOptions(Fe.removeOptions);let Ie=$e;if(queryString.parseUrl(window.location.href,{arrayFormat:"comma"}).query,_e?$$4("input[name="+_e.name+"]").each(function(){_e.value.includes($$4(this).val())&&$$4(this).prop("checked",!1)}):$$4(".category-filters input:is([type=checkbox],[type=radio])").prop("checked",!1),Object.keys(Ie).length>0){let Ne=queryString.stringify(Ie,{arrayFormat:"comma"});window.history.pushState({},"",`?${Ne}`)}else{let ze=window.location.href.split("?")[0];history.pushState(null,null,ze)}},error:Fe=>{block.release(),Le(Fe)}})})}function setRemoveOptions($e){$e.length>0?($$4(".removeItemsBox").removeClass("d-none").children(".card-body").html(""),$$4(".removeItemsBox").each(function(){let _e=document.createElement("div");$$4(this).children(".card-body").html("").append(_e),B$4(y$2(RemoveOptionCategory,{options:$e,onChange:removeOptionsOnChange}),_e)})):$$4(".removeItemsBox").addClass("d-none").children(".card-body").html("")}$$4.ajaxSetup({headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")}});new Swiper(".usersSlider",{modules:[Pagination,Autoplay],slidesPerView:1,spaceBetween:10,loop:!0,pagination:{el:".usersSlider .swiper-pagination",clickable:!0},autoplay:{delay:3e3,pauseOnMouseEnter:!0,disableOnInteraction:!1}});document.addEventListener("DOMContentLoaded",function(){if(document.getElementById("map")){var $e=L$5.map("map").setView([35.70222474889245,51.338657483464765],13);L$5.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}&BBOX=25.0,35.0,42.0,40.0",{attribution:"",subdomains:["mt0","mt1","mt2","mt3"]}).addTo($e),L$5.icon({iconUrl:markerIcon,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),L$5.marker([35.70222474889245,51.338657483464765]).addTo($e).bindPopup("آدرس ما")}});new Swiper(".headerSlider",{modules:[Navigation,Autoplay],navigation:{nextEl:"#newset-products-next",prevEl:"#newset-products-prev"},centeredSlides:!0,slidesPerView:1,spaceBetween:20,keyboard:!0,loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!1}});new Swiper(".firstSlider",{modules:[Navigation,Autoplay],navigation:{nextEl:"#firstSlider-products-next",prevEl:"#firstSlider-products-prev"},centeredSlides:!0,slidesPerView:1,spaceBetween:0,keyboard:!0,loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!1}});new Swiper(".bestSuggestionsSlider",{modules:[Navigation],spaceBetween:10,navigation:{nextEl:"#suggestions-products-next",prevEl:"#suggestions-products-prev"},breakpoints:{120:{slidesPerView:"auto",freeMode:!0,centeredSlides:!0},768:{slidesPerView:4}}});new Swiper(".blogSwiper",{modules:[Autoplay],spaceBetween:20,breakpoints:{120:{slidesPerView:"auto"},576:{slidesPerView:2},768:{slidesPerView:3},992:{slidesPerView:4}},loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!1}});new Swiper(".indexblogswiper",{modules:[Autoplay],spaceBetween:0,slidesPerView:1,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},keyboard:!0});new Swiper(".discountedSwiper",{modules:[Navigation],navigation:{nextEl:"#discounted-products-next",prevEl:"#discounted-products-prev"},breakpoints:{120:{slidesPerView:"auto",centeredSlides:!0,cssMode:!0,spaceBetween:10},567:{slidesPerView:2},992:{slidesPerView:3},1320:{slidesPerView:4}},spaceBetween:30,freeMode:!0});new Swiper(".category-boxes-slider",{modules:[Navigation],slidesPerView:"8",spaceBetween:15,navigation:{nextEl:"#category-products-next",prevEl:"#category-products-prev"},breakpoints:{120:{slidesPerView:2,spaceBetween:10},567:{slidesPerView:3},756:{slidesPerView:4},992:{slidesPerView:6},1320:{slidesPerView:8}}});$$4(document).on("DOMContentLoaded",function(){if($$4(".province")){const $e=$$4(".province");$$4(this).val(),iranData.forEach(_e=>{$e.append(new Option(_e.name,_e.name))}),$$4(".province").on("change",function(_e){const Te=$$4(this).val();let Le=$$4(_e.target).data("province-target"),Fe=$$4(Le);Fe.empty(),Te===""?Fe.prop("disabled",!0):(Fe.prop("disabled",!1),iranData.find(Be=>Be.name===Te).cities.forEach(Be=>{Fe.append(new Option(Be.name,Be.name))}),Fe.trigger("change"))})}});$$4(".deleteSentComment").on("click",function(){let $e=$$4(this).parent().parent().parent().parent().parent();$$4.ajax({url:"/dashboard/comment/delete",method:"POST",headers:{"X-CSRF-TOKEN":$$4('meta[name="csrf-token"]').attr("content")},success:function(_e){$e.animate({opacity:0},300,function(){$$4(this).remove()})}})});$$4(".remove-favorite-user").on("click",function($e){$e.preventDefault();let _e=$$4(this).parent().parent().parent().parent(),Te=$$4(this).attr("data-id"),Le=$$4("<div/>",{class:"favorites-remove-backdrop"}),Fe=$$4("<div/>",{class:"d-flex flex-column justify-content-center align-items-center tw-space-y-3"}),Ae=$$4("<button/>",{type:"button",class:"btn btn-sm btn-danger cancel-form px-3 tw-rounded-md",text:"لغو",click:function(){$$4(Le).remove()}}),Be=$$4("<button/>",{type:"button",class:"btn btn-sm custom-btn-primary px-3 tw-rounded-md",text:"حذف",click:function(){$$4.ajax({url:"/api/wishlist",method:"DELETE",data:{id:Te},success:function(Ie){_e.animate({opacity:0},300,function(){$$4(this).remove()})}})}});Fe.append(Be),Fe.append(Ae),Le.append(Fe),$$4(this).parent().parent().parent().hide().append(Le).fadeIn(100)});$$4(".payment-accordion:not(.disabled) input[type=checkbox]").on("change",function(){$$4(".payment-accordion input[type=checkbox]").not(this).prop("checked",!1);let $e=$$4(this).parent().parent().parent().find(".payment-accordion-body");$$4(this).prop("checked")?($$4(".payment-accordion-body").slideUp(),$e.slideDown(300)):$e.slideUp(300)});let checked_shipping=!1;$$4(document).ready(function(){$$4("#credit_payment").is(":checked")||$$4("#last-shipping-pay").prop("disabled",!0),$$4("#credit_payment").on("change",function($e){$$4($e.target).prop("checked")&&($$4("#last-shipping-pay").removeAttr("disabled"),checked_shipping=!0)})});$$4("#last-shipping-pay").parent().on("submit",$e=>{checked_shipping||($e.preventDefault(),toastr.error("لطفا نحوه پرداخت را انتخاب کنید"))});$$4(document).ready(function(){$$4(".stared").each(function($e){if($$4(this).data("stars")){const _e=$$4(this).attr("data-stars"),Te=$$4(this).attr("data-no-label");B$4(y$2(StarComponent,{dataStars:_e,no_label:Te!==""}),this)}})});new Swiper(".product-review-images",{slidesPerView:"auto",spaceBetween:10});$$4(".navbar-link-menu[data-bs-toggle='dropdown']").on("mouseenter",function(){$$4(this).parent().find(".dropdown-menu").addClass("show").css({right:"0"})}).parent().on("mouseleave",function($e){$$4($e.relatedTarget).closest(".dropdown-menu").length||$$4(this).find(".dropdown-menu").removeClass("show")});new Plyr(".cs-player");$$4(".swiper-product-options").each(function(){let $e=$$4(this).parent().find(".product-option-next")[0],_e=$$4(this).parent().find(".product-option-prev")[0];new Swiper(this,{modules:[Navigation],navigation:{nextEl:$e,prevEl:_e},slidesPerView:"auto",spaceBetween:10})});$$4(".mobile-review-product").on("click",()=>{$$4("html, body").animate({scrollTop:0},{duration:500,easing:"linear"})});let isStickyEnabled=!0;function toggleProductToggle(){var $e=$$4(window).scrollTop(),_e=window.innerWidth>768?480:1300;$e>_e&&isStickyEnabled?$$4(".sticky-bottom.active").addClass("show"):$$4(".sticky-bottom.active").removeClass("show")}$$4(window).on("scroll",function(){toggleProductToggle()});toggleProductToggle();let isTaptoTop=!0;function toggleTapToTop(){var $e=$$4(window).scrollTop(),_e=window.innerWidth>768?200:300;$e>_e&&isTaptoTop?$$4("#backtotop").addClass("show"):$$4("#backtotop").removeClass("show")}$$4(window).on("scroll",function(){toggleTapToTop()});toggleTapToTop();$$4(".product-counter-inner .count-plus").on("click",$e=>{$e.preventDefault();let _e=$$4($e.target).parent().parent().find("input"),Te=parseInt(_e.val())+1;_e.val(Te),Te>0&&$$4(".product-counter-inner .count-minus").css("opacity",1)});$$4(".product-counter-inner .count-minus").on("click",$e=>{$e.preventDefault();let _e=$$4($e.target).parent().parent().find("input"),Te=parseInt(_e.val())-1;Te>=1&&(_e.val(Te),Te===1&&$$4(".product-counter-inner .count-minus").css("opacity",.4))});$$4(".product-counter-inner input").on("change",$e=>{let _e=parseInt($$4($e.target).val());isNaN(_e)||_e<1?($$4($e.target).val(1),$$4(".product-counter-inner .count-minus").css("opacity",.4)):_e===1?$$4(".product-counter-inner .count-minus").css("opacity",.4):$$4(".product-counter-inner .count-minus").css("opacity",1)});$$4(".product-basket .remove-item").on("click",function($e){$e.preventDefault(),$$4.ajax("/api/remove-cart",{method:"POST",data:{id:$$4(this).data("id")},success:function(_e){window.location.reload()},error:function(){toastr.error("خطایی رخ داده است. مجددا تلاش کنید")}})});let removeAllCartsBlock=new KTBlockUI(document.getElementById("remove-all-carts"),{overlayClass:"",overlayClass:"tw-bg-white tw-bg-opacity-75"});$$4("#remove-all-carts").on("click",function($e){$e.preventDefault(),$$4.ajax("/api/remove-all-cart",{method:"POST",beforeSend:function(){removeAllCartsBlock.block()},success:function(_e){removeAllCartsBlock.release(),window.location.reload()},error:function(_e){removeAllCartsBlock.release(),toastr.error("خطایی رخ داده است. مجددا تلاش کنید")}})});$$4("#sendtoanotheraddress").on("change",function(){$$4(this).is(":checked")?$$4("#anotherAddress").slideDown():$$4("#anotherAddress").slideUp()});document.addEventListener("DOMContentLoaded",function(){var $e=document.getElementById("reviewSubmit");$e&&$e.addEventListener("click",function(){var _e=document.getElementById("reviewForm");_e.submit()})});$$4(".send-comment-btn-order").on("click",function($e){let _e=new Modal("#commentModal"),Te=$$4(this).data("id"),Le=$$4(this).data("order");window.productId=Te,window.orderId=Le,$$4("#product_id").val(Te),_e.show()});$$4("#commentModal").length>0&&document.getElementById("commentModal").addEventListener("hidden.bs.modal",_e=>{window.productId=""});
