import{$ as n}from"./jquery-D4JSgyTa.js";let s=n("input.pin");s.on("keydown",function(e){var t=e.keyCode;if(t===46||t==86&&(e.ctrlKey||e.metaKey))return!0;e.preventDefault(),d(t)?(this.value=String.fromCharCode(t),o(this)):t===8?this.value?this.value="":l(this):t===37||e.shiftKey&&t===9?l(this):(t===39||t===9)&&o(this);let i="";n("input.pin").each(function(a,u){i+=u.value}),n("#code").val(i).css({opacity:"0",visibility:"hidden"})});s.on("paste",function(e){e.preventDefault();var t=e.originalEvent.clipboardData.getData("text/plain"),i=t.trim().split("").filter(f);c(i)});function c(e){n("input.pin").each(function(i,a){a.value=e[i]||""}),n("input.pin").last().focus();let t="";n("input.pin").each(function(i,a){t+=a.value}),n("#code").val(t).css({opacity:"0",visibility:"hidden"})}function f(e){return!isNaN(e)&&!!e.trim()}function d(e){return 48<=e&&e<=57}function o(e){return n(e).next().focus()}function l(e){return n(e).prev().focus()}function r(){let e=60,t=n("#count"),i=n("#resendcode");t.removeClass("d-none"),i.addClass("d-none");let a=setInterval(function(){--e,e>=0&&t.html(e),e===0&&(clearInterval(a),t.html(""),t.addClass("d-none"),i.removeClass("d-none"))},1e3)}window.onload=r;n("#resendcode").on("click",function(){n.ajax({url:"/resend-verification-code",type:"POST",headers:{"X-CSRF-TOKEN":n('meta[name="csrf-token"]').attr("content")},data:{mobile:n('input[name="mobile"]').val()},success:function(e){e&&r()}})});
